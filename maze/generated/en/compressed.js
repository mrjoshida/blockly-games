// Automatically generated file.  Do not edit!
/*

 Copyright 2019 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
'use strict';var b,h={g:{}};h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();/*

 Copyright 2013 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.J={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.J);/*

 Copyright 2016 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.zG={};h.rt=40;h.Lt=125;h.By=5;h.Hy=10;h.cc=28;h.Is=h.cc;h.sy=8;h.Uy="#000000";h.jo=250;h.lo=10;h.ny=30;h.$y=750;h.rz=100;h.Cy=!0;h.Oy=.45;h.Py=.65;h.$h={width:96,height:124,url:"sprites.png"};h.La=1;h.Qc=2;h.za=3;h.md=4;h.Ld=5;h.ol=-1;h.$n=0;h.ao=1;h.HD=0;h.ID=1;h.FD=1;h.GD=2;h.Xh=[];h.Xh[h.La]=h.Qc;h.Xh[h.Qc]=h.La;h.Xh[h.za]=h.md;h.Xh[h.md]=h.za;h.Jg=0;h.Fj=1;h.Nd=2;h.Ig=3;h.Os=null;h.oo=1;h.Ps=2;h.di="VARIABLE";h.Bz="VARIABLE_DYNAMIC";h.Nt="PROCEDURE";h.NF="RENAME_VARIABLE_ID";h.ED="DELETE_VARIABLE_ID";h.g.ib={};h.g.ib.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.ib.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.ib.Fr(a,c,d):null};
h.g.ib.Fr=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.ib.bw=function(a){a=h.g.ib.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.ib.fw=function(a){var c=h.Oy,d=255*h.Py,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.ib.Fr(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.ib.hm=function(a,c,d){a=h.g.ib.parse(a);if(!a)return null;c=h.g.ib.parse(c);if(!c)return null;a=h.g.ib.bw(a);c=h.g.ib.bw(c);return h.g.ib.Fr(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.ib.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.N=function(a,c){this.x=a;this.y=c};h.g.N.qf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.N.Vp=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.N.WB=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.N.bk=function(a,c){return new h.g.N(a.x-c.x,a.y-c.y)};h.g.N.sum=function(a,c){return new h.g.N(a.x+c.x,a.y+c.y)};h.g.N.prototype.scale=function(a){this.x*=a;this.y*=a;return this};h.g.N.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Ja={};h.g.Ja.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Ja.Or=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Ja.Qu=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Ja.Or(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Ja.Ru=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Ja.Or(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Ja.Kx=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Ja.pD(a[d],c);return a.join("\n")};
h.g.Ja.pD=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Ja.Lx(d,a,c);e=h.g.Ja.ps(d,a,c);a=h.g.Ja.qD(d,a);f++}while(e>g);return k};
h.g.Ja.ps=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Ja.Lx=function(a,c,d){for(var e=h.g.Ja.ps(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Ja.ps(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Ja.Lx(a,f,d):c};h.g.Ja.qD=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.gf=function(a,c){this.width=a;this.height=c};h.g.gf.qf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.sf=function(a){if("none"!=h.g.style.Qv(a,"display"))return h.g.style.Nv(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.gf(g,a)};h.g.style.Nv=function(a){return new h.g.gf(a.offsetWidth,a.offsetHeight)};h.g.style.Qv=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.gB(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.gB=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.Zg=function(a){var c=new h.g.N(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.N(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.vB=function(){var a=document.body,c=document.documentElement;return new h.g.N(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.rH=function(a,c){a.style.display=c?"":"none"};h.g.style.qw=function(){return"rtl"==h.g.style.Qv(void 0,"direction")};
h.g.style.dB=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.lx=function(a,c){a=h.g.style.iB(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.iB=function(a,c){var d=h.g.style.Zg(a),e=h.g.style.Zg(c),f=h.g.style.dB(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Nv(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.N(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.se=c("Trident")||c("MSIE");h.g.userAgent.Bg=c("Edge");h.g.userAgent.Vy=c("JavaFX");h.g.userAgent.ly=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.Bg;h.g.userAgent.su=c("WebKit")&&!h.g.userAgent.Bg;h.g.userAgent.bt=c("Gecko")&&!h.g.userAgent.su&&!h.g.userAgent.se&&!h.g.userAgent.Bg;h.g.userAgent.ql=c("Android");h.g.userAgent.wj=c("iPad");h.g.userAgent.kt=c("iPod");h.g.userAgent.jt=
c("iPhone")&&!h.g.userAgent.wj&&!h.g.userAgent.kt;h.g.userAgent.az=c("Macintosh");h.g.userAgent.xz=h.g.userAgent.wj||h.g.userAgent.ql&&!c("Mobile")||c("Silk");h.g.userAgent.FE=!h.g.userAgent.xz&&(h.g.userAgent.kt||h.g.userAgent.jt||h.g.userAgent.ql||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");/*

 Copyright 2012 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.g.kC=function(a){a.preventDefault();a.stopPropagation()};h.g.ln=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
h.g.Zd=function(a){var c=new h.g.N(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.Zd.Ez))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.Zd.Fz))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.ik=function(a){for(var c=0,d=0;a;){var e=h.g.Zd(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.N(c,d)};h.g.Zd.Ez=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.Zd.Fz=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.zk=function(a){return a.ctrlKey&&h.g.userAgent.az?!0:2==a.button};
h.g.Ik=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.Mv=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.rt,y:a.deltaY*h.rt};case 2:return{x:a.deltaX*h.Lt,y:a.deltaY*h.Lt}}};h.g.eD=function(a){return h.g.ds(a,!0)};h.g.Kc=function(a){if("string"!=typeof a)return a;a=h.g.ds(a,!1);return a.length?String(a[0]):""};
h.g.Mu=function(a){for(var c=h.J,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
h.g.ds=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Ja.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.J?(f=h.J[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.ds(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.rf=function(){for(var a=h.g.rf.ux.length,c=[],d=0;20>d;d++)c[d]=h.g.rf.ux.charAt(Math.random()*a);return c.join("")};
h.g.rf.ux="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.gh=function(){if(void 0!==h.g.gh.zp)return h.g.gh.zp;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.gh.zp="none"!==c;return h.g.gh.zp};h.g.kx=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.uB=function(){var a=h.g.style.vB();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
h.g.fm=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.nB=function(){var a=document.documentElement,c=window;return h.g.userAgent.se&&c.pageYOffset!=a.scrollTop?new h.g.N(a.scrollLeft,a.scrollTop):new h.g.N(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.hq=function(a,c){var d=Object.create(null),e=p(a,!0);c&&(a=u(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.LC=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.N(d-e.left,c-e.top);c=h.g.ik(a.lb);return h.g.N.bk(d,c).scale(1/a.scale)};h.g.En=function(a){var c="string"==typeof a?h.g.Kc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{FB:d,pk:h.g.ib.fw(d)};if(d=h.g.ib.parse(c))return{FB:null,pk:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.h={};h.h.Uv="";h.h.Xb=!0;h.h.Qp=0;h.h.Cl="create";h.h.ho=h.h.Cl;h.h.qj="delete";h.h.zs=h.h.qj;h.h.oj="change";h.h.ey=h.h.oj;h.h.zj="move";h.h.As=h.h.zj;h.h.lu="var_create";h.h.mu="var_delete";h.h.ou="var_rename";h.h.Hj="ui";h.h.Al="comment_create";h.h.Hs="comment_delete";h.h.Gs="comment_change";h.h.Bl="comment_move";h.h.at="finished_loading";h.h.gy=[h.h.ho,h.h.As,h.h.Al,h.h.Bl];h.h.uj=[];h.h.Ha=function(a){h.h.isEnabled()&&(h.h.uj.length||setTimeout(h.h.XA,0),h.h.uj.push(a))};
h.h.XA=function(){for(var a=h.h.filter(h.h.uj,!0),c=h.h.uj.length=0,d;d=a[c];c++)if(d.wb){var e=h.gb.hk(d.wb);if(e){var f=d;if(f.Xb)for(e.Fh.push(f),e.Pk.length=0;e.Fh.length>e.tt&&0<=e.tt;)e.Fh.shift();for(var g=0;d=e.wc[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.Ji()){var k=[g.type,g.Ub,g.wb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.zj&&l.index==f-1)m.sh=g.sh,m.rh=g.rh,m.gg=g.gg,l.index=f;else if(g.type==h.h.oj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=h.h.Hj||"click"!=g.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:g,
index:1},d.push(g)}a=d.filter(function(n){return!n.Ji()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.oj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.mA=function(){for(var a=0,c;c=h.h.uj[a];a++)c.Xb=!1};h.h.disable=function(){h.h.Qp++};h.h.enable=function(){h.h.Qp--};h.h.isEnabled=function(){return 0==h.h.Qp};h.h.Jb=function(){return h.h.Uv};h.h.la=function(a){h.h.Uv="boolean"==typeof a?a?h.g.rf():"":a};
h.h.Fv=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
h.h.oa=function(a){switch(a.type){case h.h.Cl:var c=new h.h.Kd(null);break;case h.h.qj:c=new h.h.re(null);break;case h.h.oj:c=new h.h.Ef(null,"","","","");break;case h.h.zj:c=new h.h.Eg(null);break;case h.h.lu:c=new h.h.pd(null);break;case h.h.mu:c=new h.h.Od(null);break;case h.h.ou:c=new h.h.ze(null,"");break;case h.h.Hj:c=new h.h.dc(null,"","","");break;case h.h.Al:c=new h.h.af(null);break;case h.h.Gs:c=new h.h.Mh(null,"","");break;case h.h.Bl:c=new h.h.Ag(null);break;case h.h.Hs:c=new h.h.bf(null);
break;case h.h.at:c=new h.h.Qh(void 0);break;default:throw Error("Unknown event type.");}c.oa(a);c.wb=(void 0).id;return c};h.h.BG=function(a){if((a.type==h.h.zj||a.type==h.h.Cl)&&a.wb){var c=h.gb.hk(a.wb);if(a=c.uc(a.Ub)){var d=a.getParent();if(d&&d.isEnabled())for(c=p(a,!1),a=0;d=c[a];a++)d.Re(!0);else if((a.C||a.T)&&!c.Gc()){do a.Re(!1),a=u(a);while(a)}}}};/*

 Copyright 2018 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.h.Abstract=function(){this.wb=void 0;this.group=h.h.Jb();this.Xb=h.h.Xb};h.h.Abstract.prototype.Ka=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};h.h.Abstract.prototype.oa=function(a){this.group=a.group};h.h.Abstract.prototype.Ji=function(){return!1};h.h.Abstract.prototype.run=function(){};function w(a){if(a.wb)var c=h.gb.hk(a.wb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.S=function(a,c){a.u=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.ph=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.jz="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.jz,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.bD=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.Vd=function(a){return(new XMLSerializer).serializeToString(a)};h.h.pe=function(a){h.h.pe.u.constructor.call(this);this.Ub=a.id;this.wb=a.B.id};h.g.object.S(h.h.pe,h.h.Abstract);h.h.pe.prototype.Ka=function(){var a=h.h.pe.u.Ka.call(this);a.blockId=this.Ub;return a};h.h.pe.prototype.oa=function(a){h.h.pe.u.oa.call(this,a);this.Ub=a.blockId};h.h.Ef=function(a,c,d,e,f){a&&(h.h.Ef.u.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};h.g.object.S(h.h.Ef,h.h.pe);h.h.Lh=h.h.Ef;b=h.h.Ef.prototype;b.type=h.h.oj;
b.Ka=function(){var a=h.h.Ef.u.Ka.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.oa=function(a){h.h.Ef.u.oa.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.Ji=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=w(this).uc(this.Ub);if(c)switch(c.ae&&c.ae.Lc(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=ba(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.Xi(a||null);break;case "collapsed":c.rg(!!a);break;case "disabled":c.Re(!a);break;case "inline":c.Yi(!!a);break;case "mutation":var d="";c.Ed&&(d=(d=c.Ed())&&h.L.Vd(d));if(c.nf){var e=h.L.tg(a||"<mutation/>");c.nf(e)}h.h.Ha(new h.h.Ef(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Ub)};h.h.Kd=function(a){a&&(h.h.Kd.u.constructor.call(this,a),this.xml=a.B.aa?h.L.vp(a):h.L.Nf(a),this.fh=h.h.Fv(a))};h.g.object.S(h.h.Kd,h.h.pe);h.h.xl=h.h.Kd;h.h.Kd.prototype.type=h.h.Cl;h.h.Kd.prototype.Ka=function(){var a=h.h.Kd.u.Ka.call(this);a.xml=h.L.Vd(this.xml);a.ids=this.fh;return a};
h.h.Kd.prototype.oa=function(a){h.h.Kd.u.oa.call(this,a);this.xml=h.L.tg(a.xml);this.fh=a.ids};h.h.Kd.prototype.run=function(a){var c=w(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.L.Tg(a,c);else{a=0;for(var d;d=this.fh[a];a++){var e=c.uc(d);e?e.H(!1):d==this.Ub&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.re=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");h.h.re.u.constructor.call(this,a);this.gr=a.B.aa?h.L.vp(a):h.L.Nf(a);this.fh=h.h.Fv(a)}};h.g.object.S(h.h.re,h.h.pe);h.h.iy=h.h.re;h.h.re.prototype.type=h.h.qj;h.h.re.prototype.Ka=function(){var a=h.h.re.u.Ka.call(this);a.ids=this.fh;return a};h.h.re.prototype.oa=function(a){h.h.re.u.oa.call(this,a);this.fh=a.ids};
h.h.re.prototype.run=function(a){var c=w(this);if(a){a=0;for(var d;d=this.fh[a];a++){var e=c.uc(d);e?e.H(!1):d==this.Ub&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.gr),h.L.Tg(a,c)};h.h.Eg=function(a){a&&(h.h.Eg.u.constructor.call(this,a),a=ca(this),this.Lw=a.Sw,this.Kw=a.gw,this.cr=a.Zu)};h.g.object.S(h.h.Eg,h.h.pe);h.h.nj=h.h.Eg;b=h.h.Eg.prototype;b.type=h.h.zj;
b.Ka=function(){var a=h.h.Eg.u.Ka.call(this);this.sh&&(a.newParentId=this.sh);this.rh&&(a.newInputName=this.rh);this.gg&&(a.newCoordinate=Math.round(this.gg.x)+","+Math.round(this.gg.y));return a};b.oa=function(a){h.h.Eg.u.oa.call(this,a);this.sh=a.newParentId;this.rh=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.gg=new h.g.N(Number(a[0]),Number(a[1])))};b.vh=function(){var a=ca(this);this.sh=a.Sw;this.rh=a.gw;this.gg=a.Zu};
function ca(a){var c=w(a).uc(a.Ub);a={};var d=c.getParent();if(d){a.Sw=d.id;a:{for(var e=0,f;f=d.O[e];e++)if(f.connection&&f.connection.ma()==c){c=f;break a}c=null}c&&(a.gw=c.name)}else a.Zu=c.Ma();return a}b.Ji=function(){return this.Lw==this.sh&&this.Kw==this.rh&&h.g.N.qf(this.cr,this.gg)};
b.run=function(a){var c=w(this),d=c.uc(this.Ub);if(d){var e=a?this.sh:this.Lw,f=a?this.rh:this.Kw;a=a?this.gg:this.cr;var g=null;if(e&&(g=c.uc(e),!g)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&x(d);if(a)f=d.Ma(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.C||d.T;if(f){if(c=da(g,f))var k=c.connection}else d.type==h.md&&(k=g.V);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Ub)};h.v=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.hl=a;this.Fi=h.v.NB(a);this.$=c;(a=d||null)&&a.Mx&&(this.qs=a.Mx)};h.v.types={Pc:"field",yc:"block",te:"input",Kf:"output",jd:"next",ld:"previous",we:"stack",Ae:"workspace"};h.v.Bj=!1;h.v.yy=-20;h.v.NB=function(a){switch(a){case h.v.types.ld:case h.v.types.jd:case h.v.types.te:case h.v.types.Kf:return!0}return!1};h.v.Zj=function(a){return a?new h.v(h.v.types.Pc,a):null};
h.v.Ie=function(a){return a?a.type==h.La||a.type==h.za&&a.Yd()?h.v.Pg(a.Yd()):a.type==h.za?new h.v(h.v.types.jd,a):a.type==h.Qc?new h.v(h.v.types.Kf,a):a.type==h.md?new h.v(h.v.types.ld,a):null:null};h.v.Pg=function(a){return a&&a.connection?new h.v(h.v.types.te,a.connection):null};h.v.mf=function(a){return a?new h.v(h.v.types.yc,a):null};h.v.ak=function(a){return a?new h.v(h.v.types.we,a):null};h.v.ni=function(a,c){return c&&a?new h.v(h.v.types.Ae,a,{Mx:c}):null};b=h.v.prototype;b.Sa=function(){return this.hl};
function ea(a,c){a=a.$;a instanceof h.wl||(a=a.R());if(!a||!a.B)return null;var d=a.vc();a=d.B.ob(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.v.ak(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}function fa(a){if(!a)return null;do var c=a.T&&a.T.ma();while(c&&u(c)==a&&(a=c));return(c=a.T||a.C)&&c.ea&&c.ea.Yd()?h.v.Pg(c.ea.Yd()):h.v.ak(a)}
b.R=function(){return this.Sa()===h.v.types.yc?this.$:this.Sa()===h.v.types.we?this.$:this.Sa()===h.v.types.Ae?null:this.$.R()};
b.next=function(){switch(this.hl){case h.v.types.we:return ea(this,!0);case h.v.types.Kf:return h.v.mf(this.$.R());case h.v.types.Pc:a:{var a=this.$,c=a.Yd();var d=a.R();a=c.Ra.indexOf(a)+1;c=d.O.indexOf(c);for(var e;e=d.O[c];c++){for(var f=e.Ra;a<f.length;){if(ha(f[a])||h.v.Bj){d=h.v.Zj(f[a]);break a}a++}a=0;if(e.connection){d=h.v.Pg(e);break a}}d=null}return d;case h.v.types.te:a:{a=this.$.Yd();d=a.R();for(a=d.O.indexOf(a)+1;c=d.O[a];a++){e=c.Ra;f=0;for(var g;g=e[f];f++)if(ha(g)||h.v.Bj){d=h.v.Zj(g);
break a}if(c.connection){d=h.v.Pg(c);break a}}d=null}return d;case h.v.types.yc:return h.v.Ie(this.$.V);case h.v.types.ld:return h.v.mf(this.$.R());case h.v.types.jd:return h.v.Ie(this.$.ea)}return null};
b.Zf=function(){switch(this.hl){case h.v.types.Ae:var a=this.$.ob(!0);if(0<a.length)return h.v.ak(a[0]);break;case h.v.types.we:a=this.$;var c=a.T||a.C;return c?h.v.Ie(c):h.v.mf(a);case h.v.types.yc:a=this.$;a:{a=a.O;c=0;for(var d;d=a[c];c++){for(var e=d.Ra,f=0,g;g=e[f];f++)if(ha(g)||h.v.Bj){a=h.v.Zj(g);break a}if(d.connection){a=h.v.Pg(d);break a}}a=null}return a;case h.v.types.te:return h.v.Ie(this.$.ea)}return null};
b.Gd=function(){switch(this.hl){case h.v.types.we:return ea(this,!1);case h.v.types.Pc:a:{var a=this.$;var c=a.Yd();var d=a.R();a=c.Ra.indexOf(a)-1;for(var e=d.O.indexOf(c),f;f=d.O[e];e--){if(f.connection&&f!==c){c=h.v.Pg(f);break a}for(f=f.Ra;-1<a;){if(ha(f[a])||h.v.Bj){c=h.v.Zj(f[a]);break a}a--}0<=e-1&&(a=d.O[e-1].Ra.length-1)}c=null}return c;case h.v.types.te:a:{c=this.$.Yd();d=c.R();for(a=d.O.indexOf(c);e=d.O[a];a--){if(e.connection&&e!==c){c=h.v.Pg(e);break a}e=e.Ra;f=e.length-1;for(var g;g=
e[f];f--)if(ha(g)||h.v.Bj){c=h.v.Zj(g);break a}}c=null}return c;case h.v.types.yc:return c=this.$,h.v.Ie(c.T||c.C);case h.v.types.ld:if((c=this.$.ea)&&!c.Yd())return h.v.Ie(c);break;case h.v.types.jd:return h.v.mf(this.$.R())}return null};
b.mg=function(){switch(this.hl){case h.v.types.we:var a=this.$.Ma();return h.v.ni(this.$.B,new h.g.N(a.x,a.y+h.v.yy));case h.v.types.Kf:return(a=this.$.ea)?h.v.Ie(a):h.v.ak(this.$.R());case h.v.types.Pc:return h.v.mf(this.$.R());case h.v.types.te:return h.v.mf(this.$.R());case h.v.types.yc:return fa(this.$);case h.v.types.ld:return fa(this.$.R());case h.v.types.jd:return fa(this.$.R())}return null};h.g.j={};h.g.j.Zl="http://www.w3.org/2000/svg";h.g.j.Bo="http://www.w3.org/1999/xhtml";h.g.j.Sc="http://www.w3.org/1999/xlink";h.g.j.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.Pd=null;h.g.j.xp=0;h.g.j.jm=null;h.g.j.G=function(a,c,d){a=document.createElementNS(h.g.j.Zl,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Cb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.bd=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};h.g.j.Xv=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Ei=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.Node.DOCUMENT_POSITION_CONTAINED_BY)};h.g.j.Rk=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Yk=function(){h.g.j.xp++;h.g.j.Pd||(h.g.j.Pd={})};
h.g.j.Zk=function(){h.g.j.xp--;h.g.j.xp||(h.g.j.Pd=null)};h.g.j.PG=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.Pd&&(d=h.g.j.Pd[c]))return d;try{d=h.g.userAgent.se||h.g.userAgent.Bg?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.Pd&&(h.g.j.Pd[c]=d);return d};
h.g.j.kq=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.Pd&&(g=h.g.j.Pd[a]))return g;h.g.j.jm||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.jm=g.getContext("2d"));h.g.j.jm.font=d+" "+c+"pt "+e;g=h.g.j.jm.measureText(f).width;h.g.j.Pd&&(h.g.j.Pd[a]=g);return g};h.Va={};h.Va.Sp=0;h.Va.vm=null;h.Va.KA=function(a){var c=a.B,d=a.ca();c.Bc.play("delete");a=ia(c,d);d=d.cloneNode(!0);d.jD=a.x;d.kD=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");y(c).appendChild(d);d.Fu=d.getBBox();h.Va.nv(d,c.I,new Date,c.scale)};h.Va.nv=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.jD+(c?-1:1)*a.Fu.width*e/2*f)+","+(a.kD+a.Fu.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.Va.nv,10,a,c,d,e))};
h.Va.vA=function(a){var c=a.B,d=c.scale;c.Bc.play("click");if(!(1>d)){var e=ia(c,a.ca());a.C?(e.x+=(a.I?3:-3)*d,e.y+=13*d):a.T&&(e.x+=(a.I?-23:23)*d,e.y+=3*d);a=h.g.j.G("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},y(c));h.Va.Uu(a,new Date,d)}};h.Va.Uu=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.Va.Sp=setTimeout(h.Va.Uu,10,a,c,d))};
h.Va.JA=function(a){a.B.Bc.play("disconnect");if(!(1>a.B.scale)){var c=z(a).height;c=Math.atan(10/c)/Math.PI*180;a.I||(c*=-1);h.Va.mv(a.ca(),c,new Date)}};h.Va.mv=function(a,c,d){var e=(new Date-d)/200;1<e?a.Xk="":(a.Xk="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.Va.vm=a,h.Va.Sp=setTimeout(h.Va.mv,10,a,c,d));a.setAttribute("transform",a.dl+a.Xk)};h.Va.Tp=function(){if(h.Va.vm){clearTimeout(h.Va.Sp);var a=h.Va.vm;a.Xk="";a.setAttribute("transform",a.dl);h.Va.vm=null}};h.h.dc=function(a,c,d,e){h.h.dc.u.constructor.call(this);this.Ub=a?a.id:null;this.wb=a?a.B.id:void 0;this.element=c;this.oldValue=d;this.newValue=e;this.Xb=!1};h.g.object.S(h.h.dc,h.h.Abstract);h.h.dc.prototype.type=h.h.Hj;h.h.dc.prototype.Ka=function(){var a=h.h.dc.u.Ka.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Ub&&(a.blockId=this.Ub);return a};
h.h.dc.prototype.oa=function(a){h.h.dc.u.oa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Ub=a.blockId};/*

 Copyright 2017 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.Kl=function(a){this.We=h.selected=a;this.o=a.B;this.Ki=this.Iq=null;this.ek=ka(this,this.We);this.Wb=this.Ya=null;this.Ze=!1;this.nh=null;this.xq=!1;this.rk=null;a=this.We.Xd(!1);var c=this.We.Hq();c&&c!=this.We.V&&(a.push(c),this.Iq=c,this.Ki=ka(this,c.R()));this.tp=a};h.Kl.prototype.H=function(){this.tp.length=0;h.h.disable();try{this.ek&&this.ek.H(),this.Ki&&this.Ki.H()}finally{h.h.enable()}};
h.Kl.prototype.update=function(a,c){var d=this.Ya&&this.Wb?h.Is:h.cc;for(var e=null,f=null,g=0;g<this.tp.length;g++){var k=this.tp[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.Jn)}e=(d={closest:e,local:f,Jn:d},!!d.closest)&&c!=h.Ps;if((this.Ze=!!c&&!this.We.getParent()&&this.We.Zc()&&!e)||la(this,d,a)){h.h.disable();d.closest?(a=this.Ya!=d.closest,c=this.Wb!=d.local,this.Ya&&this.Wb&&(a||c||this.Ze)&&ma(this)):ma(this);this.Wb=this.Ya=this.nh=null;if(!this.Ze&&(a=d.closest,c=d.local,
a))if(a==this.Ya||a.R().wf())console.log("Trying to connect to an insertion marker");else{this.Ya=a;this.Wb=c;a=this.Ya;c=this.Wb;if(c.type==h.Qc)a=a&&this.o.$a.qx(this.We,a);else{a:{d=c.R();for(e=0;f=d.O[e];e++)if(f.connection&&f.connection.type==h.za){d=f.connection;break a}d=null}a=c==d||this.We.V||c.type!=h.md||!a.isConnected()}if(a){d=this.Wb;a=this.Ya;c=this.Iq&&d==this.Iq?this.Ki:this.ek;d=c.lq(d.R(),d);if(d==this.nh)throw Error("Made it to connectMarker_ even though the marker isn't changing");
c.Aa();c.aa=!0;c.ca().setAttribute("visibility","visible");d&&a&&na(c,d,a);a&&d.connect(a);this.nh=d}else a=this.Ya,c=this.Wb,a.ma()?(this.rk=a.ma(),a.ma().pb.js(!0)):c.type==h.Qc&&(this.rk=a.R(),a.R().pb.ls(a,!0)),this.xq=!0;this.Ya&&this.Ya.ma()&&this.o.$a.Qr(this.Ya)&&(a=this.Ya,d=a.K.B.$a.m,c=d.dj(a),a.type==h.La||a.type==h.Qc?(d=d.Hg,c=h.g.w.moveBy(0,-d)+h.g.w.Z("v",d)+c.Oe+h.g.w.Z("v",d)):(d=d.If-d.bb,c=h.g.w.moveBy(-d,0)+h.g.w.Z("h",d)+c.Kk+h.g.w.Z("h",d)),d=a.K.Ma(),h.ga.ew=h.g.j.G("path",
{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+(a.K.I?" scale(-1 1)":"")},a.K.ca()))}h.h.enable()}};function ka(a,c){var d=c.type;h.h.disable();try{var e=a.o.Yq(d);e.nx(!0);if(c.Ed){var f=c.Ed();f&&e.nf(f)}e.rg(c.isCollapsed());for(a=0;a<c.O.length;a++){var g=c.O[a],k=e.O[a];for(d=0;d<g.Ra.length;d++)k.Ra[d].setValue(g.Ra[d].getValue())}e.Di();e.ca().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function la(a,c,d){var e=c.local,f=c.closest;c=c.Jn;if(e&&f){if(a.Wb&&a.Ya){if(a.Ya==f&&a.Wb==e)return!1;e=a.Wb.x+d.x-a.Ya.x;a=a.Wb.y+d.y-a.Ya.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.sy)}if(a.Wb||a.Ya)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Wb||!a.Ya);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function ma(a){a.Ya&&a.Ya.ma()&&a.o.$a.Qr(a.Ya)&&(h.g.j.removeNode(h.ga.ew),delete h.ga.ew);if(a.xq){var c=a.Ya;c.type!=h.La||c.isConnected()?a.rk.pb.js(!1):a.rk.pb.ls(c,!1);a.rk=null;a.xq=!1}else if(a.nh)if(a.nh){c=a.nh;var d=c.R(),e=d.V,f=d.T,g=d.C;g=c.type==h.La&&!(g&&g.ea);!(c!=e||f&&f.ea)||g?x(c.ma(),!1):c.type==h.za&&c!=e?(e=c.ea,x(e.R(),!1),f=f?f.ea:null,x(d,!0),f&&f.connect(e)):x(d,!0);if(c.ea)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.nh=null;
d.ca().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}h.Kl.prototype.wi=function(){var a=[];this.ek&&a.push(this.ek);this.Ki&&a.push(this.Ki);return a};h.yg=function(a,c){this.Za=a;this.o=c;this.pf=new h.Kl(this.Za);this.Sg=null;this.Ze=!1;this.Ue=this.Za.Ma();this.zm=h.yg.IB(a)};h.yg.prototype.H=function(){this.zm.length=0;this.pf&&this.pf.H()};h.yg.IB=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++){e=A(e);for(var f=0;f<e.length;f++){var g={location:e[f].KG(),icon:e[f]};c.push(g)}}return c};
function oa(a,c,d){d=a.Qi(d);var e=h.g.N.sum(a.Ue,d);a.Za.Xq(e);for(e=0;e<a.zm.length;e++){var f=a.zm[e];f.icon.sH(h.g.N.sum(f.location,d))}a.Sg=pa(a.o,c);a.pf.update(d,a.Sg);a.Ze=a.pf.Ze;c=a.o.ac;a.Ze?(qa(a.Za,!0),a.Sg==h.oo&&c&&ra(c,!0)):(qa(a.Za,!1),c&&ra(c,!1))}
function sa(a,c,d){oa(a,c,d);a.zm=[];c=new h.h.dc(a.Za,"dragStop",p(a.Za,!1),null);h.h.Ha(c);h.g.j.Zk();h.Va.Tp();d=a.Qi(d);c=h.g.N.sum(a.Ue,d);var e=a.Za;e.ll&&(e.translate(c.x,c.y),e.B.Tc.lm(e.B.lb));c=a.o.ac;a.Ze?(c&&setTimeout(c.close.bind(c),100),a.dk(),a.Za.H(!1,!0)):c&&c.close();a.Ze||(ta(a.Za,d.x,d.y),a.Za.sg(!1),a.dk(),a.pf.Ya?(d=a.pf,d.Ya&&(h.h.disable(),ma(d),h.h.enable(),d.Wb.connect(d.Ya),d.We.aa&&(h.Va.vA((B(d.Wb)?d.Ya:d.Wb).R()),ua(d.We.vc())))):a.Za.Aa(),va(a.Za));a.o.Sb(!0);(d=a.o.qa)&&
d.GC(a.Za.Zc()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.la(!1)}h.yg.prototype.dk=function(){var a=new h.h.nj(this.Za);a.cr=this.Ue;a.vh();h.h.Ha(a)};h.yg.prototype.Qi=function(a){a=new h.g.N(a.x/this.o.scale,a.y/this.o.scale);this.o.hn&&a.scale(1/this.o.options.Fd.scale);return a};h.yg.prototype.wi=function(){return this.pf&&this.pf.wi?this.pf.wi():[]};h.Touch={};h.Touch.ju="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.cl=null;h.Touch.xe={};
h.g.global.PointerEvent?h.Touch.xe={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.ju&&(h.Touch.xe={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.on=0;
h.VB=function(a,c){h.eg();a.changedTouches&&1!=a.changedTouches.length||(h.on=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&wa(c,a)},h.$y))};h.eg=function(){h.on&&(clearTimeout(h.on),h.on=0)};h.Touch.mm=function(){h.Touch.cl=null};h.Touch.Pr=function(a){return!h.Touch.PB(a)||h.Touch.jA(a)};
h.Touch.Om=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.jA=function(a){var c=h.Touch.Om(a);return void 0!==h.Touch.cl&&null!==h.Touch.cl?h.Touch.cl==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.cl=c,!0):!1};
h.Touch.OC=function(a){if(h.g.Ja.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.PB=function(a){return h.g.Ja.startsWith(a.type,"touch")||h.g.Ja.startsWith(a.type,"mouse")||h.g.Ja.startsWith(a.type,"pointer")};h.Touch.nn=function(a){return h.g.Ja.startsWith(a.type,"touch")||h.g.Ja.startsWith(a.type,"pointer")};
h.Touch.XC=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};/*

 Copyright 2011 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.ai=function(a){this.o=a;this.vd=new h.Ca(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.Id=new h.Ca(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Xj=h.g.j.G("rect",{height:h.Ca.Yb,width:h.Ca.Yb,"class":"blocklyScrollbarBackground"},null);h.g.j.Ei(this.Xj,a.Bf)};h.ai.prototype.kb=null;h.ai.prototype.H=function(){h.g.j.removeNode(this.Xj);this.kb=this.o=this.Xj=null;this.vd.H();this.vd=null;this.Id.H();this.Id=null};
h.ai.prototype.resize=function(){var a=this.o.Yc();if(a){var c=!1,d=!1;this.kb&&this.kb.qb==a.qb&&this.kb.zb==a.zb&&this.kb.pc==a.pc&&this.kb.ec==a.ec?(this.kb&&this.kb.He==a.He&&this.kb.Ab==a.Ab&&this.kb.rc==a.rc||(c=!0),this.kb&&this.kb.sd==a.sd&&this.kb.Gb==a.Gb&&this.kb.ic==a.ic||(d=!0)):d=c=!0;c&&this.vd.resize(a);d&&this.Id.resize(a);this.kb&&this.kb.qb==a.qb&&this.kb.ec==a.ec||this.Xj.setAttribute("x",this.Id.Pe.x);this.kb&&this.kb.zb==a.zb&&this.kb.pc==a.pc||this.Xj.setAttribute("y",this.vd.Pe.y);
this.kb=a}};h.ai.prototype.set=function(a,c){var d={};a*=this.vd.Qb;c*=this.Id.Qb;var e=this.Id.Hd,f=a/this.vd.Hd;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.o.Zi(d);C(this.vd,a);C(this.Id,c)};
h.Ca=function(a,c,d,e){this.o=a;this.Pi=d||!1;this.eh=c;this.kb=null;this.Yj(e);this.Pe=new h.g.N(0,0);a=h.Ca.Yb;c?(this.Zb.setAttribute("height",a),this.Me.setAttribute("height",a),this.Mc.setAttribute("height",a-5),this.Mc.setAttribute("y",2.5),this.Ak="width",this.Ww="x"):(this.Zb.setAttribute("width",a),this.Me.setAttribute("width",a),this.Mc.setAttribute("width",a-5),this.Mc.setAttribute("x",2.5),this.Ak="height",this.Ww="y");this.Ow=h.ua(this.Zb,"mousedown",this,this.nC);this.Pw=h.ua(this.Mc,
"mousedown",this,this.oC)};b=h.Ca.prototype;b.lr=new h.g.N(0,0);b.xx=0;b.Hd=0;b.Yf=0;b.kk=0;b.cg=!0;b.Mg=!0;h.Ca.Yb=15;h.Touch.ju&&(h.Ca.Yb=25);h.Ca.YB=function(a,c){return a&&c&&a.qb==c.qb&&a.zb==c.zb&&a.Ab==c.Ab&&a.Gb==c.Gb&&a.pc==c.pc&&a.ec==c.ec&&a.He==c.He&&a.sd==c.sd&&a.rc==c.rc&&a.ic==c.ic?!0:!1};
h.Ca.prototype.H=function(){xa();h.eb(this.Ow);this.Ow=null;h.eb(this.Pw);this.Pw=null;h.g.j.removeNode(this.Me);this.Zb=this.M=this.Me=null;this.Mc&&(this.o.kc.unsubscribe(this.Mc),this.Mc=null);this.o=null};function C(a,c){a.kk=c;a.Mc.setAttribute(a.Ww,a.kk)}function ya(a,c){a.Hd=c;a.Me.setAttribute(a.Ak,a.Hd);a.Zb.setAttribute(a.Ak,a.Hd)}h.ai.prototype.zh=function(a){this.vd.zh(a);this.Id.zh(a)};
function za(a,c,d){a.Pe.x=c;a.Pe.y=d;h.g.j.Rk(a.Me,"translate("+(a.Pe.x+a.lr.x)+"px,"+(a.Pe.y+a.lr.y)+"px)")}b=h.Ca.prototype;b.resize=function(a){if(!a&&(a=this.o.Yc(),!a))return;h.Ca.YB(a,this.kb)||(this.kb=a,this.eh?Aa(this,a):Ba(this,a),Ca(this))};function Aa(a,c){var d=c.qb-1;a.Pi&&(d-=h.Ca.Yb);ya(a,Math.max(0,d));d=c.ec+.5;a.Pi&&a.o.I&&(d+=h.Ca.Yb);za(a,d,c.pc+c.zb-h.Ca.Yb-.5);Da(a,c)}
function Da(a,c){a.Pi||a.Lc(a.Hd<c.He);a.Qb=a.Hd/c.He;if(-Infinity==a.Qb||Infinity==a.Qb||isNaN(a.Qb))a.Qb=0;a.Yf=Math.max(0,c.qb*a.Qb);a.Mc.setAttribute(a.Ak,a.Yf);C(a,Ea(a,(c.Ab-c.rc)*a.Qb))}function Ba(a,c){var d=c.zb-1;a.Pi&&(d-=h.Ca.Yb);ya(a,Math.max(0,d));d=c.ec+.5;a.o.I||(d+=c.qb-h.Ca.Yb-1);za(a,d,c.pc+.5);Fa(a,c)}
function Fa(a,c){a.Pi||a.Lc(a.Hd<c.sd);a.Qb=a.Hd/c.sd;if(-Infinity==a.Qb||Infinity==a.Qb||isNaN(a.Qb))a.Qb=0;a.Yf=Math.max(0,c.zb*a.Qb);a.Mc.setAttribute(a.Ak,a.Yf);C(a,Ea(a,(c.Gb-c.ic)*a.Qb))}
b.Yj=function(a){var c="blocklyScrollbar"+(this.eh?"Horizontal":"Vertical");a&&(c+=" "+a);this.Me=h.g.j.G("svg",{"class":c},null);this.M=h.g.j.G("g",{},this.Me);this.Zb=h.g.j.G("rect",{"class":"blocklyScrollbarBackground"},this.M);a=Math.floor((h.Ca.Yb-5)/2);this.Mc=h.g.j.G("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.M);this.o.kc.subscribe(this.Mc,"scrollbarColour","fill");this.o.kc.subscribe(this.Mc,"scrollbarOpacity","fill-opacity");h.g.j.Ei(this.Me,y(this.o))};b.isVisible=function(){return this.cg};
b.zh=function(a){var c=a!=this.Mg;this.Mg=a;c&&this.il()};b.Lc=function(a){var c=a!=this.isVisible();if(this.Pi)throw Error("Unable to toggle visibility of paired scrollbars.");this.cg=a;c&&this.il()};b.il=function(){this.Mg&&this.isVisible()?this.Me.setAttribute("display","block"):this.Me.setAttribute("display","none")};
b.nC=function(a){Ga(this.o);h.Touch.mm();xa();if(h.g.zk(a))a.stopPropagation();else{var c=h.g.Ik(a,y(this.o),Ha(this.o));c=this.eh?c.x:c.y;var d=h.g.ik(this.Mc);d=this.eh?d.x:d.y;var e=this.kk,f=.95*this.Yf;c<=d?e-=f:c>=d+this.Yf&&(e+=f);C(this,Ea(this,e));Ca(this);a.stopPropagation();a.preventDefault()}};
b.oC=function(a){Ga(this.o);xa();h.g.zk(a)?a.stopPropagation():(this.YC=this.kk,Ia(this.o),this.xx=this.eh?a.clientX:a.clientY,h.Ca.lg=h.ua(document,"mouseup",this,this.tC),h.Ca.kg=h.ua(document,"mousemove",this,this.pC),a.stopPropagation(),a.preventDefault())};b.pC=function(a){C(this,Ea(this,this.YC+((this.eh?a.clientX:a.clientY)-this.xx)));Ca(this)};b.tC=function(){Ja(this.o);h.Touch.mm();xa()};function xa(){h.jc(!0);h.Ca.lg&&(h.eb(h.Ca.lg),h.Ca.lg=null);h.Ca.kg&&(h.eb(h.Ca.kg),h.Ca.kg=null)}
function Ea(a,c){return c=0>=c||isNaN(c)||a.Hd<a.Yf?0:Math.min(c,a.Hd-a.Yf)}function Ca(a){var c=a.kk/a.Hd;isNaN(c)&&(c=0);var d={};a.eh?d.x=c:d.y=c;a.o.Zi(d)}b.set=function(a){C(this,Ea(this,a*this.Qb));Ca(this)};h.g.Cd={};h.g.Cd.$r=function(a){return a*Math.PI/180};h.g.Cd.dD=function(a){return 180*a/Math.PI};h.g.Cd.Qj=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};h.lp=function(a,c,d,e){this.name=a;this.Lg=c;this.Ku=d;this.pA=e||Object.create(null)};function Ka(a,c){return(c=a.pA[c])&&"string"==typeof propertyValue&&Ka(a,c)?Ka(a,c):c?String(c):null};h.Mf={};h.Mf.zg={};h.Mf.zg.CA={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.Mf.zg.Ku={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.Mf.zg=new h.lp("classic",h.Mf.zg.CA,h.Mf.zg.Ku);h.g.fb={kG:0,AE:3,by:8,ZF:9,JE:12,Ts:13,Zh:16,CD:17,Xx:18,EF:19,wD:20,Us:27,YF:32,DF:33,CF:34,KD:35,nE:36,wE:37,zz:38,OF:39,Ay:40,HF:43,KF:44,Fo:45,qj:46,ZERO:48,ONE:49,dG:50,$F:51,fE:52,eE:53,WF:54,UF:55,JD:56,HE:57,cE:59,aE:61,$D:173,bE:163,LF:63,sD:64,rs:65,tD:66,jy:67,Ns:68,E:69,ND:70,hE:71,lE:72,Qy:73,sE:74,Wy:75,tE:76,zE:77,GE:78,ZE:79,BF:80,Q:81,MF:82,Wt:83,wz:84,eG:85,Az:86,qu:87,yu:88,mG:89,Hz:90,hz:91,lG:92,BD:93,YE:96,RE:97,XE:98,WE:99,NE:100,ME:101,VE:102,UE:103,LE:104,QE:105,PE:106,TE:107,
OE:109,SE:110,KE:111,OD:112,SD:113,TD:114,UD:115,VD:116,WD:117,XD:118,YD:119,ZD:120,PD:121,QD:122,RD:123,IE:144,RF:145,dE:166,vE:183,SF:186,DD:189,LD:187,AD:188,FF:190,XF:191,rD:192,aG:192,VF:222,$E:219,uD:220,yD:221,jG:224,BE:224,CE:91,DE:93,iG:229,hG:252,GF:255};h.sa={};h.sa.pa={};h.sa.pa.lh={};h.sa.pa.fg={Zh:"Shift",qy:"Control",Xx:"Alt",hz:"Meta"};h.sa.pa.oH=function(a,c){var d=h.sa.pa.oB(c);d&&delete h.sa.pa.lh[d];h.sa.pa.lh[a]=c};h.sa.pa.QC=function(a){h.sa.pa.lh=a};h.sa.pa.LG=function(){var a={};h.g.object.ph(a,h.sa.pa.lh);return a};h.sa.pa.cB=function(a){return h.sa.pa.lh[a]};h.sa.pa.oB=function(a){for(var c=Object.keys(h.sa.pa.lh),d=0,e;e=c[d];d++)if(h.sa.pa.lh[e].name===a.name)return e;return null};
h.sa.pa.MC=function(a){for(var c=h.g.object.values(h.sa.pa.fg),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};h.sa.pa.hA=function(a,c){for(var d=0,e;e=a[d];d++)if(0>c.indexOf(e))throw Error(e+" is not a valid modifier key.");};h.sa.pa.$j=function(a,c){var d="",e=h.g.object.values(h.sa.pa.fg);h.sa.pa.hA(c,e);for(var f=0,g;g=e[f];f++)-1<c.indexOf(g)&&(d+=g);return d+a};
h.sa.pa.wA=function(){var a={},c=h.sa.pa.$j(h.g.fb.Wy,[h.sa.pa.fg.qy,h.sa.pa.fg.Zh]),d=h.sa.pa.$j(h.g.fb.qu,[h.sa.pa.fg.Zh]),e=h.sa.pa.$j(h.g.fb.rs,[h.sa.pa.fg.Zh]),f=h.sa.pa.$j(h.g.fb.Wt,[h.sa.pa.fg.Zh]),g=h.sa.pa.$j(h.g.fb.Ns,[h.sa.pa.fg.Zh]);a[h.g.fb.qu]=h.navigation.Yn;a[h.g.fb.rs]=h.navigation.ts;a[h.g.fb.Wt]=h.navigation.Xn;a[h.g.fb.Ns]=h.navigation.ss;a[h.g.fb.Qy]=h.navigation.Px;a[h.g.fb.Ts]=h.navigation.Qx;a[h.g.fb.yu]=h.navigation.Ox;a[h.g.fb.wz]=h.navigation.Vx;a[h.g.fb.E]=h.navigation.Wn;
a[h.g.fb.Us]=h.navigation.Wn;a[c]=h.navigation.us;a[d]=h.navigation.Ux;a[e]=h.navigation.Sx;a[f]=h.navigation.Rx;a[g]=h.navigation.Tx;return a};h.h.Qh=function(a){this.wb=a.id;this.group=h.h.Jb();this.Xb=!1};h.g.object.S(h.h.Qh,h.h.dc);h.h.Qh.prototype.type=h.h.at;h.h.Qh.prototype.Ka=function(){var a={type:this.type};this.group&&(a.group=this.group);this.wb&&(a.workspaceId=this.wb);return a};h.h.Qh.prototype.oa=function(a){this.wb=a.workspaceId;this.group=a.group};h.h.hf=function(a){h.h.hf.u.constructor.call(this);this.ug=a.ub();this.wb=a.B.id};h.g.object.S(h.h.hf,h.h.Abstract);h.h.hf.prototype.Ka=function(){var a=h.h.hf.u.Ka.call(this);a.varId=this.ug;return a};h.h.hf.prototype.oa=function(a){h.h.hf.u.Ka.call(this);this.ug=a.varId};h.h.pd=function(a){a&&(h.h.pd.u.constructor.call(this,a),this.Hh=a.type,this.Gh=a.name)};h.g.object.S(h.h.pd,h.h.hf);h.h.pd.prototype.type=h.h.lu;
h.h.pd.prototype.Ka=function(){var a=h.h.pd.u.Ka.call(this);a.varType=this.Hh;a.varName=this.Gh;return a};h.h.pd.prototype.oa=function(a){h.h.pd.u.oa.call(this,a);this.Hh=a.varType;this.Gh=a.varName};h.h.pd.prototype.run=function(a){var c=w(this);a?c.Td(this.Gh,this.Hh,this.ug):c.oi(this.ug)};h.h.Od=function(a){a&&(h.h.Od.u.constructor.call(this,a),this.Hh=a.type,this.Gh=a.name)};h.g.object.S(h.h.Od,h.h.hf);h.h.Od.prototype.type=h.h.mu;
h.h.Od.prototype.Ka=function(){var a=h.h.Od.u.Ka.call(this);a.varType=this.Hh;a.varName=this.Gh;return a};h.h.Od.prototype.oa=function(a){h.h.Od.u.oa.call(this,a);this.Hh=a.varType;this.Gh=a.varName};h.h.Od.prototype.run=function(a){var c=w(this);a?c.oi(this.ug):c.Td(this.Gh,this.Hh,this.ug)};h.h.ze=function(a,c){a&&(h.h.ze.u.constructor.call(this,a),this.er=a.name,this.Zq=c)};h.g.object.S(h.h.ze,h.h.hf);h.h.ze.prototype.type=h.h.ou;
h.h.ze.prototype.Ka=function(){var a=h.h.ze.u.Ka.call(this);a.oldName=this.er;a.newName=this.Zq;return a};h.h.ze.prototype.oa=function(a){h.h.ze.u.oa.call(this,a);this.er=a.oldName;this.Zq=a.newName};h.h.ze.prototype.run=function(a){var c=w(this);a?c.xh(this.ug,this.Zq):c.xh(this.ug,this.er)};h.L={};h.L.Jx=function(a){var c=D,d=h.g.xml.createElement("xml"),e=h.L.mD(h.X.Du(c));e.hasChildNodes()&&d.appendChild(e);var f=La(c,!0);e=0;for(var g;g=f[e];e++)d.appendChild(g.bs(a));c=c.ob(!0);for(e=0;f=c[e];e++)d.appendChild(h.L.vp(f,a));return d};h.L.mD=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.ub();c.appendChild(f)}return c};
h.L.vp=function(a,c){var d;a.B.I&&(d=a.B.jk());c=h.L.Nf(a,c);var e=a.Ma();c.setAttribute("x",Math.round(a.B.I?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.L.VA=function(a){var c=!1;a.name&&(a.Yt?c=!0:a.rj&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.L.Qz=function(a,c){for(var d=0,e;e=a.O[d];d++)for(var f=0,g;g=e.Ra[f];f++)(g=h.L.VA(g))&&c.appendChild(g)};
h.L.Nf=function(a,c){var d=h.g.xml.createElement(a.Da?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.Ed){var e=a.Ed();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.L.Qz(a,d);if(e=a.Rd.text){var f=a.Rd.size,g=a.Rd.Vw,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),
d.appendChild(e));for(f=0;g=a.O[f];f++){var l;k=!0;if(g.type!=h.Ld){var m=g.connection.ma();g.type==h.La?l=h.g.xml.createElement("value"):g.type==h.za&&(l=h.g.xml.createElement("statement"));e=g.connection.Se;!e||m&&m.Da||l.appendChild(h.L.Ou(e,c));m&&(l.appendChild(h.L.Nf(m,c)),k=!1);l.setAttribute("name",g.name);k||d.appendChild(l)}}void 0!=a.uf&&a.uf!=a.LB&&d.setAttribute("inline",a.uf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Zc()||a.Da||d.setAttribute("deletable",
!1);a.Hc()||a.Da||d.setAttribute("movable",!1);a.Gi()||d.setAttribute("editable",!1);if(f=u(a))l=h.g.xml.createElement("next"),l.appendChild(h.L.Nf(f,c)),d.appendChild(l);e=a.V&&a.V.Se;!e||f&&f.Da||l.appendChild(h.L.Ou(e,c));return d};
h.L.Ou=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.Node.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.Node.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};
h.L.Vd=function(a){a=h.g.xml.Vd(a);var c=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var d=a;a=a.replace(c,"$1&#10;$2")}while(a!=d);return a};h.L.CG=function(a){a=h.L.Vd(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
h.L.tg=function(a){var c=h.g.xml.bD(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};h.L.vG=function(a,c){c.Sb(!1);c.clear();a=h.L.Tg(a,c);c.Sb(!0);return a};
h.L.Tg=function(a,c){if(a instanceof h.gb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.I&&(e=c.jk());d=[];h.g.j.Yk();var f=h.h.Jb();f||h.h.la(!0);c.Sb&&c.Sb(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Xb){var q=h.L.ri(n,c);d.push(q.id);var r=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,t=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(r)||
isNaN(t)||q.moveBy(c.I?e-r:r,t);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.aa?h.ei?h.ei.setValue(n.textContent):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Dz?h.Dz.setValue(n.textContent):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.L.OA(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.la(!1),h.g.j.Zk()}c.Sb&&c.Sb(!0);h.h.Ha(new h.h.Qh(c));return d};h.L.oG=function(a,c){var d;c.hasOwnProperty("scale")&&(d=Ma(c));a=h.L.Tg(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.I?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.uc(a[d]).Ma();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.I?f-k:f-g;for(d=0;d<a.length;d++)c.uc(a[d]).moveBy(f,e)}return a};
h.L.ri=function(a,c){if(a instanceof h.gb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.Yg();try{var e=h.L.Xp(a,c),f=p(e,!1);if(c.aa){Na(e,!1);for(var g=f.length-1;0<=g;g--)f[g].Di();for(g=f.length-1;0<=g;g--)f[g].Aa(!1);setTimeout(function(){e.Tf||Na(e,!0)},1);Oa(e);Pa(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.X.Bv(c,d);for(g=0;g<a.length;g++)h.h.Ha(new h.h.pd(a[g]));h.h.Ha(new h.h.xl(e))}return e};
h.L.OA=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.Node.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.Td(e.textContent,f,g)}};
h.L.Xp=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.Yq(e,f);var g=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=h.g.j.Node.TEXT_NODE){var l=g=null;var m=0;for(var n;n=k.childNodes[m];m++)n.nodeType==h.g.j.Node.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?g=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!g&&l&&(g=l);n=k.getAttribute("name");m=k;switch(k.nodeName.toLowerCase()){case "mutation":d.nf&&
(d.nf(m),d.Di&&d.Di());break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}g=m.textContent;l="true"==m.getAttribute("pinned");k=parseInt(m.getAttribute("w"),10);m=parseInt(m.getAttribute("h"),10);d.Xi(g);d.Rd.Vw=l;isNaN(k)||isNaN(m)||(d.Rd.size=new h.g.gf(k,m));l&&d.hB&&!d.$d&&setTimeout(function(){d.Ee.Lc(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":h.L.NA(d,n,m);break;case "value":case "statement":m=
da(d,n);if(!m){console.warn("Ignoring non-existent input "+n+" in block "+e);break}l&&(m.connection.Se=l);if(g)if(g=h.L.Xp(g,c),g.C)m.connection.connect(g.C);else if(g.T)m.connection.connect(g.T);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.V&&(d.V.Se=l);if(g){if(!d.V)throw TypeError("Next statement does not exist.");if(d.V.isConnected())throw TypeError("Next statement is already connected.");g=h.L.Xp(g,c);if(!g.T)throw TypeError("Next block does not have previous statement.");
d.V.connect(g.T)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Yi("true"==f);(f=a.getAttribute("disabled"))&&d.Re("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.dv="true"==f;(f=a.getAttribute("movable"))&&d.Kr("true"==f);(f=a.getAttribute("editable"))&&d.Jr("true"==f);(f=a.getAttribute("collapsed"))&&d.rg("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=Qa(d,!1);for(f=0;c=a[f];f++)if(!c.Da)throw TypeError("Shadow block not allowed non-shadow child.");
if(Ra(d).length)throw TypeError("Shadow blocks cannot have variable references.");d.Mr(!0)}return d};h.L.NA=function(a,c,d){var e=ba(a,c);e?e.setValue(d.textContent):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.L.DA=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.oc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.oc.Tw(a.toolbox||null);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var t=a.toolboxPosition;t="end"!==t;t=r?t?h.Jg:h.Fj:t==q?h.Ig:h.Nd;var v=a.css;
void 0===v&&(v=!0);var H="https://blockly-demo.appspot.com/static/media/";a.media?H=a.media:a.path&&(H=a.path+"media/");var S=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,ja=a.keyMap||h.sa.pa.wA(),ee=a.renderer||"geras";this.I=q;this.Dn=S;this.collapse=g;this.nA=k;this.disable=l;this.readOnly=c;this.Tq=a.maxBlocks||Infinity;this.Uq=a.maxInstances;this.Hn=H;this.Wv=e;this.Pb=h.oc.xC(a,e);this.$v=f;this.sn=n;this.EB=m;this.DB=v;this.dh=r;this.kh=d;this.Tv=h.oc.wC(a);this.Ta=h.oc.zC(a);this.ab=t;this.cD=
h.oc.yC(a);this.pa=ja;this.Kn=ee;this.tq=void 0;this.Fd=a.parentWorkspace};h.vD=function(){};h.oc.xC=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.wg=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.Uf=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
h.oc.zC=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.wg=void 0===a.wheel?!1:!!a.wheel;c.ZC=void 0===a.startScale?1:Number(a.startScale);c.Gk=void 0===a.maxScale?3:Number(a.maxScale);c.Hk=void 0===a.minScale?.3:Number(a.minScale);c.KC=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.vr=void 0===a.pinch?c.wg||c.controls:!!a.pinch;return c};
h.oc.wC=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.ib=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.uH=0<c.spacing&&!!a.snap;return c};h.oc.yC=function(a){a=a.theme||h.Mf.zg;return a instanceof h.lp?a:new h.lp("builtin",a.blockStyles,a.categoryStyles,a.componentStyles)};
h.oc.Tw=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.se&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.L.tg(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.np=function(a){this.Ea=Object.create(null);this.B=a};b=h.np.prototype;b.clear=function(){this.Ea=Object.create(null)};b.$w=function(a,c){var d=this.Wf(c,a.type),e=E(this.B,!1);h.h.la(!0);try{if(d&&d.ub()!=a.ub()){var f=a.type;c!=d.name&&Sa(d,c,e);for(c=0;c<e.length;c++){var g=void 0;a.ub();d.ub();for(var k=0;g=e[c].O[k];k++)for(var l=0;g.Ra[l];l++);}h.h.Ha(new h.h.Od(a));this.Ea[f].splice(this.Pm(f).indexOf(a),1)}else Sa(a,c,e)}finally{h.h.la(!1)}};
b.xh=function(a,c){var d=this.Xf(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.$w(d,c)};function Sa(a,c,d){h.h.Ha(new h.h.ze(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.O[f];f++)for(var g=0;c.Ra[g];g++);}
b.Td=function(a,c,d){var e=this.Wf(a,c);if(e){if(d&&e.ub()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.ub()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Xf(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.rf();c=c||"";e=new h.bm(this.B,a,c,e);a=this.Ea[c]||[];a.push(e);delete this.Ea[c];this.Ea[c]=a;return e};
b.oi=function(a){var c=this.Xf(a);if(c){var d=c.name,e=this.rq(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=Ta(f,"NAME");d=h.J.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.J.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&Ua(g,c,e)})):Ua(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function Ua(a,c,d){var e=h.h.Jb();e||h.h.la(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Ea[c.type];a=0;for(var k;k=g[a];a++)if(k.ub()==c.ub()){g.splice(a,1);h.h.Ha(new h.h.Od(c));break}}finally{e||h.h.la(!1)}}b.Wf=function(a,c){if(c=this.Ea[c||""])for(var d=0,e;e=c[d];d++)if(h.kd.qf(e.name,a))return e;return null};b.Xf=function(a){for(var c=Object.keys(this.Ea),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Ea[e][f];f++)if(g.ub()==a)return g;return null};
b.Pm=function(a){return(a=this.Ea[a||""])?a.slice():[]};b.Yg=function(){var a=[],c;for(c in this.Ea)a=a.concat(this.Ea[c]);return a};b.gq=function(){var a=[],c;for(c in this.Ea)for(var d=this.Ea[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.rq=function(a){for(var c=[],d=E(this.B,!1),e=0;e<d.length;e++){var f=Ra(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].ub()==a&&c.push(d[e])}return c};h.gb=function(a){this.id=h.g.rf();h.gb.Jj[this.id]=this;this.options=a||new h.oc({});this.I=!!this.options.I;this.dh=!!this.options.dh;this.ab=this.options.ab;this.lj=[];this.Rn=[];this.om=Object.create(null);this.wc=[];this.Fh=[];this.Pk=[];this.up=Object.create(null);this.me=Object.create(null);this.Ea=new h.np(this);this.Ri=null};b=h.gb.prototype;b.aa=!1;b.Eq=!1;b.tt=1024;b.pm=null;b.H=function(){this.wc.length=0;this.clear();delete h.gb.Jj[this.id]};h.gb.Xt=3;b=h.gb.prototype;
b.Te=function(a,c){a=a.Ma();c=c.Ma();return a.y+h.gb.prototype.Te.offset*a.x-(c.y+h.gb.prototype.Te.offset*c.x)};function Va(a,c){if(!h.g.fm(a.lj,c))throw Error("Block not present in workspace's list of top-most blocks.");}b.ob=function(a){var c=[].concat(this.lj);a&&1<c.length&&(this.Te.offset=Math.sin(h.g.Cd.$r(h.gb.Xt)),this.I&&(this.Te.offset*=-1),c.sort(this.Te));return c};
function La(a,c){var d=[].concat(a.Rn);c&&1<d.length&&(a.Te.offset=Math.sin(h.g.Cd.$r(h.gb.Xt)),a.I&&(a.Te.offset*=-1),d.sort(a.Te));return d}function E(a,c){if(c){a=a.ob(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,p(a[d],!0))}else for(c=a.ob(!1),d=0;d<c.length;d++)c.push.apply(c,Qa(c[d],!1));return c.filter(function(e){return!e.wf()})}
b.clear=function(){this.Eq=!0;try{var a=h.h.Jb();for(a||h.h.la(!0);this.lj.length;)this.lj[0].H(!1);for(;this.Rn.length;)this.Rn[this.Rn.length-1].H(!1);a||h.h.la(!1);this.Ea.clear();this.Ri&&this.Ri.clear()}finally{this.Eq=!1}};b.xh=function(a,c){this.Ea.xh(a,c)};b.Td=function(a,c,d){return this.Ea.Td(a,c,d)};b.rq=function(a){return this.Ea.rq(a)};b.oi=function(a){this.Ea.oi(a)};b.Wf=function(a,c){return this.Ea.Wf(a,c)};b.Xf=function(a){return this.Ea.Xf(a)};b.Pm=function(a){return this.Ea.Pm(a)};
b.Yg=function(){return this.Ea.Yg()};b.gq=function(){return this.Ea.gq()};b.jk=function(){return 0};b.Yq=function(a,c){return new h.wl(this,a,c)};function Wa(a){return isNaN(a.options.Tq)?Infinity:a.options.Tq-E(a,!1).length}function Xa(a,c){if(!Ya(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.Uq?(a.options.Uq[e]||Infinity)-(a.me[e]?a.me[e].slice(0):[]).length:Infinity))return!1;d+=c[e]}return d>Wa(a)?!1:!0}function Ya(a){return Infinity!=a.options.Tq||!!a.options.Uq}
b.hs=function(a){var c=a?this.Pk:this.Fh,d=a?this.Fh:this.Pk,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=h.h.filter(f,a);h.h.Xb=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{h.h.Xb=!0}}};function F(a,c){a.wc.push(c)}function Za(a,c){h.g.fm(a.wc,c)}b.uc=function(a){return this.up[a]||null};b.Nr=function(a){this.Ea=a};h.gb.Jj=Object.create(null);h.gb.hk=function(a){return h.gb.Jj[a]||null};
h.gb.getAll=function(){var a=[],c;for(c in h.gb.Jj)a.push(h.gb.Jj[c]);return a};h.Ba=function(a,c,d,e,f,g){this.o=a;this.Ng=c;this.SC=d;this.ir=this.hr=this.Hw=this.gx=null;this.Tf=!1;d=h.Ba.$x;this.o.I&&(d=-d);this.Tz=h.g.Cd.$r(d);a.Bf.appendChild(this.Yj(c,!(!f||!g)));this.Db=e;this.ax&&$a(this);f&&g||(a=this.Ng.getBBox(),f=a.width+2*h.Ba.xg,g=a.height+2*h.Ba.xg);ab(this,f,g);$a(this);bb(this);this.ax=!0};h.Ba.xg=6;h.Ba.ay=5;h.Ba.$x=20;h.Ba.ws=4;h.Ba.Yx=8;h.Ba.lg=null;h.Ba.kg=null;h.Ba.gs=function(){h.Ba.lg&&(h.eb(h.Ba.lg),h.Ba.lg=null);h.Ba.kg&&(h.eb(h.Ba.kg),h.Ba.kg=null)};
h.Ba.bA=function(){h.Touch.mm();h.Ba.gs()};b=h.Ba.prototype;b.ax=!1;b.Db=null;b.Qe=0;b.pg=0;b.Wa=0;b.Vb=0;b.sp=!0;
b.Yj=function(a,c){this.Ce=h.g.j.G("g",{},null);var d={filter:"url(#"+this.o.$a.m.Yp+")"};h.g.userAgent.Vy&&(d={});d=h.g.j.G("g",d,this.Ce);this.Gu=h.g.j.G("path",{},d);this.im=h.g.j.G("rect",{"class":"blocklyDraggable",x:0,y:0,rx:h.Ba.xg,ry:h.Ba.xg},d);c?(this.xf=h.g.j.G("g",{"class":this.o.I?"blocklyResizeSW":"blocklyResizeSE"},this.Ce),c=2*h.Ba.xg,h.g.j.G("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.xf),h.g.j.G("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/3},
this.xf),h.g.j.G("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.xf)):this.xf=null;this.o.options.readOnly||(this.hr=h.ua(this.im,"mousedown",this,this.aA),this.xf&&(this.ir=h.ua(this.xf,"mousedown",this,this.IC)));this.Ce.appendChild(a);return this.Ce};b.ca=function(){return this.Ce};b.aA=function(a){var c=this.o.Vf(a);if(c){if(c.bh)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.cd||(c.cd=this);c.Dd=a}};b.Tk=function(){};
b.Zc=function(){return!1};b.IC=function(a){var c=this.Ce.parentNode;c.lastChild!==this.Ce&&c.appendChild(this.Ce);h.Ba.gs();h.g.zk(a)||(this.o.Ur(a,new h.g.N(this.o.I?-this.Wa:this.Wa,this.Vb)),h.Ba.lg=h.ua(document,"mouseup",this,h.Ba.bA),h.Ba.kg=h.ua(document,"mousemove",this,this.JC),h.jc());a.stopPropagation()};b.JC=function(a){this.sp=!1;var c=this.o;a=h.g.Ik(a,y(c),Ha(c));a.x/=c.scale;a.y/=c.scale;c=h.g.N.sum(c.ov,a);ab(this,this.o.I?-c.x:c.x,c.y);this.o.I&&$a(this)};
function cb(a,c,d){var e=a.o.I?a.Db.x-c.x-a.Wa:c.x+a.Db.x;c=c.y+a.Db.y;return Math.max(0,Math.min(1,(Math.min(e+a.Wa,d.Ab+d.qb)-Math.max(e,d.Ab))*(Math.min(c+a.Vb,d.Gb+d.zb)-Math.max(c,d.Gb))/(a.Wa*a.Vb)))}function $a(a){var c=a.Db.x;c=a.o.I?c-(a.Qe+a.Wa):c+a.Qe;a.moveTo(c,a.pg+a.Db.y)}b.moveTo=function(a,c){this.Ce.setAttribute("transform","translate("+a+","+c+")")};b.sg=function(a){!a&&this.Hw&&this.Hw()};
function ab(a,c,d){var e=2*h.Ba.xg;c=Math.max(c,e+45);d=Math.max(d,e+20);a.Wa=c;a.Vb=d;a.im.setAttribute("width",c);a.im.setAttribute("height",d);a.xf&&(a.o.I?a.xf.setAttribute("transform","translate("+2*h.Ba.xg+","+(d-e)+") scale(-1 1)"):a.xf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.sp){c=a.o.Yc();c.Ab/=a.o.scale;c.qb/=a.o.scale;c.Gb/=a.o.scale;c.zb/=a.o.scale;d=-a.Wa/4;if(!(a.Wa>c.qb)){if(a.o.I){e=a.Db.x-d;var f=e-a.Wa;var g=c.Ab+c.qb,k=c.Ab+h.Ca.Yb/a.o.scale}else f=d+a.Db.x,
e=f+a.Wa,k=c.Ab,g=c.Ab+c.qb-h.Ca.Yb/a.o.scale;a.o.I?f<k?d=-(k-a.Db.x+a.Wa):e>g&&(d=-(g-a.Db.x)):f<k?d=k-a.Db.x:e>g&&(d=g-a.Db.x-a.Wa)}f=d;d=-a.Vb/4;if(!(a.Vb>c.zb)){e=a.Db.y+d;g=e+a.Vb;k=c.Gb;var l=c.Gb+c.zb-h.Ca.Yb/a.o.scale,m=a.Db.y;e<k?d=k-m:g>l&&(d=l-m-a.Vb)}k=d;g=a.SC.getBBox();d={x:f,y:-a.Vb-a.o.$a.m.Nl};e={x:-a.Wa-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=cb(a,d,c);l=cb(a,e,c);m=cb(a,f,c);c=Math.max(k,l,m,cb(a,g,c));k==c?(a.Qe=d.x,a.pg=d.y):
l==c?(a.Qe=e.x,a.pg=e.y):m==c?(a.Qe=f.x,a.pg=f.y):(a.Qe=g.x,a.pg=g.y)}$a(a);bb(a);a.gx&&a.gx()}
function bb(a){var c=[],d=a.Wa/2,e=a.Vb/2,f=-a.Qe,g=-a.pg;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.o.I&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=new h.g.gf(a.Wa,a.Vb);m=(r.width+r.height)/h.Ba.ay;m=Math.min(m,r.width,r.height)/4;r=1-h.Ba.Yx/k;f=d+r*f;g=e+r*g;r=d+m*q;var t=e+m*n;d-=m*q;e-=m*n;n=l+a.Tz;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.Ba.ws;k=Math.cos(n)*k/h.Ba.ws;c.push("M"+
r+","+t);c.push("C"+(r+k)+","+(t+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Gu.setAttribute("d",c.join(" "))}b.ge=function(a){this.im.setAttribute("fill",a);this.Gu.setAttribute("fill",a)};b.H=function(){this.hr&&h.eb(this.hr);this.ir&&h.eb(this.ir);h.Ba.gs();h.g.j.removeNode(this.Ce);this.Tf=!0};b.Xq=function(a,c){a?a.Eh(c.x,c.y):this.moveTo(c.x,c.y);this.Qe=this.o.I?this.Db.x-c.x-this.Wa:c.x-this.Db.x;this.pg=c.y-this.Db.y;bb(this)};
b.Ma=function(){return new h.g.N(this.o.I?-this.Qe+this.Db.x-this.Wa:this.Db.x+this.Qe,this.Db.y+this.pg)};h.h.$e=function(a){this.Fe=a.id;this.wb=a.B.id;this.group=h.h.Jb();this.Xb=h.h.Xb};h.g.object.S(h.h.$e,h.h.Abstract);h.h.$e.prototype.Ka=function(){var a=h.h.$e.u.Ka.call(this);this.Fe&&(a.commentId=this.Fe);return a};h.h.$e.prototype.oa=function(a){h.h.$e.u.oa.call(this,a);this.Fe=a.commentId};h.h.Mh=function(a,c,d){a&&(h.h.Mh.u.constructor.call(this,a),this.Jw=c,this.yn=d)};h.g.object.S(h.h.Mh,h.h.$e);b=h.h.Mh.prototype;b.type=h.h.Gs;
b.Ka=function(){var a=h.h.Mh.u.Ka.call(this);a.newContents=this.yn;return a};b.oa=function(a){h.h.Mh.u.oa.call(this,a);this.yn=a.newValue};b.Ji=function(){return this.Jw==this.yn};b.run=function(a){var c;(c=w(this).om[this.Fe]||null)?c.qH(a?this.yn:this.Jw):console.warn("Can't change non-existent comment: "+this.Fe)};h.h.af=function(a){a&&(h.h.af.u.constructor.call(this,a),this.xml=a.bs())};h.g.object.S(h.h.af,h.h.$e);h.h.af.prototype.type=h.h.Al;
h.h.af.prototype.Ka=function(){var a=h.h.af.u.Ka.call(this);a.xml=h.L.Vd(this.xml);return a};h.h.af.prototype.oa=function(a){h.h.af.u.oa.call(this,a);this.xml=h.L.tg(a.xml)};h.h.af.prototype.run=function(a){h.h.Ms(this,a)};h.h.Ms=function(a,c){var d=w(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.L.Tg(c,d)):(d=d.om[a.Fe]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Fe)};h.h.bf=function(a){a&&(h.h.bf.u.constructor.call(this,a),this.xml=a.bs())};
h.g.object.S(h.h.bf,h.h.$e);h.h.bf.prototype.type=h.h.Hs;h.h.bf.prototype.Ka=function(){return h.h.bf.u.Ka.call(this)};h.h.bf.prototype.oa=function(a){h.h.bf.u.oa.call(this,a)};h.h.bf.prototype.run=function(a){h.h.Ms(this,!a)};h.h.Ag=function(a){a&&(h.h.Ag.u.constructor.call(this,a),this.Dp=a,this.dr=a.Sv(),this.qh=null)};h.g.object.S(h.h.Ag,h.h.$e);b=h.h.Ag.prototype;
b.vh=function(){if(!this.Dp)throw Error("Tried to record the new position of a comment on the same event twice.");this.qh=this.Dp.Sv();this.Dp=null};b.type=h.h.Bl;b.Ka=function(){var a=h.h.Ag.u.Ka.call(this);this.qh&&(a.newCoordinate=Math.round(this.qh.x)+","+Math.round(this.qh.y));return a};b.oa=function(a){h.h.Ag.u.oa.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.qh=new h.g.N(Number(a[0]),Number(a[1])))};b.Ji=function(){return h.g.N.qf(this.dr,this.qh)};
b.run=function(a){var c;if(c=w(this).om[this.Fe]||null){a=a?this.qh:this.dr;var d=c.Sv();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Fe)};h.yl=function(a,c){this.Ib=a;this.o=c;this.Sg=null;this.Vn=!1;this.Ue=this.Ib.Ma();this.Ug=h.g.gh()&&c.Tc?c.Tc:null};h.yl.prototype.H=function(){this.Ug=this.o=this.Ib=null};function db(a,c,d){d=a.Qi(d);d=h.g.N.sum(a.Ue,d);a.Ib.Xq(a.Ug,d);a.Ib.Zc()&&(a.Sg=pa(a.o,c),a.Vn=a.Sg!=h.Os,c=a.o.ac,a.Vn?(qa(a.Ib,!0),a.Sg==h.oo&&c&&ra(c,!0)):(qa(a.Ib,!1),c&&ra(c,!1)))}
function eb(a,c,d){db(a,c,d);c=a.Qi(d);c=h.g.N.sum(a.Ue,c);a.Ib.moveTo(c.x,c.y);c=a.o.ac;a.Vn?(c&&setTimeout(c.close.bind(c),100),a.dk(),a.Ib.H(!1,!0)):c&&c.close();a.Vn||(a.Ug&&a.Ug.lm(a.o.Bf),a.Ib.sg&&a.Ib.sg(!1),a.dk());a.o.Sb(!0);a.o.qa&&a.o.qa.GC(a.Ib.Zc()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.h.la(!1)}h.yl.prototype.dk=function(){if(this.Ib.kw){var a=new h.h.Ag(this.Ib);a.dr=this.Ue;a.vh();h.h.Ha(a)}};
h.yl.prototype.Qi=function(a){a=new h.g.N(a.x/this.o.scale,a.y/this.o.scale);this.o.hn&&a.scale(1/this.o.options.Fd.scale);return a};h.Kj=function(a){this.o=a;this.yx=new h.g.N(a.scrollX,a.scrollY)};h.Kj.prototype.H=function(){this.o=null};h.Kj.prototype.Ur=function(){h.selected&&fb(h.selected);Ia(this.o)};h.Kj.prototype.Uf=function(a){a=h.g.N.sum(this.yx,a);this.o.scroll(a.x,a.y)};h.Hl=function(a){h.Hl.u.constructor.call(this,a.o);this.Rb=a.Rb;this.Bi=a.Bi};h.g.object.S(h.Hl,h.Kj);h.Hl.prototype.Uf=function(a){a=h.g.N.sum(this.yx,a);this.Bi?this.Rb.set(-a.x):this.Rb.set(-a.y)};h.xc=function(a){this.name=a};h.navigation={};h.navigation.Li=null;h.navigation.cu=1;h.navigation.Yl=2;h.navigation.du=3;h.navigation.vu=40;h.navigation.Rg=h.navigation.Yl;h.navigation.ya={ld:"previous",jd:"next",Eo:"in",Po:"out",Fo:"insert",Lo:"mark",Qs:"disconnect",ip:"toolbox",to:"exit",hp:"toggle_keyboard_nav",yt:"move workspace cursor up",vt:"move workspace cursor down",wt:"move workspace cursor left",xt:"move workspace cursor right"};h.navigation.Mo="local_marker_1";h.navigation.td=function(){return h.va().td(h.navigation.Mo)};
h.navigation.xv=function(){var a=h.va().qa;a&&(h.navigation.Rg=h.navigation.du,h.navigation.ex(!1),h.navigation.td().Qa||h.navigation.Sq(),a.nH())};h.navigation.wv=function(){h.navigation.Rg=h.navigation.cu;var a=h.va();var c=a.qa;a=c?c.Y:G(a);h.navigation.td().Qa||h.navigation.Sq();a&&a.o&&(a=a.o.ob(!0),0<a.length&&(a=a[0],a=h.v.ak(a),I(h.navigation.ui(),a)))};
h.navigation.Hm=function(){h.jc();var a=h.va(),c=a.tb(),d=!!a.qa,e=a.ob(!0);h.navigation.ex(d);h.navigation.Rg=h.navigation.Yl;0<e.length?I(c,h.navigation.qq(e[0])):(a=h.v.ni(a,new h.g.N(100,100)),I(c,a))};h.navigation.ui=function(){var a=h.va(),c=null;a.aa&&(c=(a=(c=a.qa)?c.Y:G(a))?a.o.tb():null);return c};
h.navigation.MB=function(){var a=h.va(),c=G(a);if(c&&c.isVisible()){var d=h.navigation.ui().Qa.$;d.isEnabled()?(c=gb(c,d),c.Aa(),Na(c,!0),I(a.tb(),h.v.mf(c)),h.navigation.Dw()||h.navigation.lc("Something went wrong while inserting a block from the flyout."),h.navigation.Hm(),I(a.tb(),h.navigation.qq(c)),h.navigation.FC()):h.navigation.lc("Can't insert a disabled block.")}else h.navigation.lc("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
h.navigation.ex=function(a){h.navigation.ui()&&(h.navigation.ui().wa(),a&&G(h.va()).wa())};
h.navigation.ZB=function(){var a=h.navigation.td().Qa,c=h.va().tb().Qa;if(!a)return h.navigation.lc("Cannot insert with no marked node."),!1;if(!c)return h.navigation.lc("Cannot insert with no cursor node."),!1;a=a.Sa();c=c.Sa();return a==h.v.types.Pc?(h.navigation.lc("Should not have been able to mark a field."),!1):a==h.v.types.yc?(h.navigation.lc("Should not have been able to mark a block."),!1):a==h.v.types.we?(h.navigation.lc("Should not have been able to mark a stack."),!1):c==h.v.types.Pc?
(h.navigation.lc("Cannot attach a field to anything else."),!1):c==h.v.types.Ae?(h.navigation.lc("Cannot attach a workspace to anything else."),!1):!0};h.navigation.bC=function(a,c){if(!a)return!1;if(a.Da)return h.navigation.lc("Cannot move a shadow block to the workspace."),!1;a.getParent()&&x(a,!1);a.moveTo(c.qs);return!0};
h.navigation.Dw=function(){var a=h.navigation.td().Qa,c=h.va().tb().Qa;if(!h.navigation.ZB())return!1;var d=a.Sa(),e=c.Sa(),f=c.$,g=a.$;if(a.Fi&&c.Fi)return h.navigation.Sd(f,g);if(a.Fi&&(e==h.v.types.yc||e==h.v.types.we))return h.navigation.iw(f,g);if(d==h.v.types.Ae)return c=c?c.R():null,h.navigation.bC(c,a);h.navigation.lc("Unexpected state in Blockly.navigation.modify_.");return!1};
h.navigation.IA=function(a,c){var d=a.R(),e=c.R();d.vc()==e.vc()&&(-1<p(d,!1).indexOf(e)?h.navigation.Mm(c).disconnect():h.navigation.Mm(a).disconnect())};h.navigation.Wq=function(a,c){if(!a||!c)return!1;var d=a.R();return hb(c,a)==h.ga.zl?(h.navigation.IA(a,c),B(c)||na(d.vc(),a,c),c.connect(a),!0):!1};h.navigation.Mm=function(a){var c=a.R();return B(a)?c.T?c.T:c.C?c.C:null:a};h.navigation.Rv=function(a){return B(a)?a:a.ea?a.ea:null};
h.navigation.Sd=function(a,c){if(!a||!c)return!1;var d=h.navigation.Mm(a),e=h.navigation.Rv(c),f=h.navigation.Rv(a),g=h.navigation.Mm(c);if(d&&e&&h.navigation.Wq(d,e)||f&&g&&h.navigation.Wq(f,g)||h.navigation.Wq(a,c))return!0;try{ib(c,a)}catch(k){h.navigation.lc("Connection failed with error: "+k)}return!1};
h.navigation.iw=function(a,c){switch(c.type){case h.md:if(h.navigation.Sd(a.V,c))return!0;break;case h.za:if(h.navigation.Sd(a.T,c))return!0;break;case h.La:if(h.navigation.Sd(a.C,c))return!0;break;case h.Qc:for(var d=0;d<a.O.length;d++){var e=a.O[d].connection;if(e&&e.type===h.La&&h.navigation.Sd(e,c))return!0}if(a.C&&h.navigation.Sd(a.C,c))return!0}h.navigation.lc("This block can not be inserted at the marked location.");return!1};
h.navigation.HA=function(){var a=h.va(),c=a.tb().Qa;if(c.Fi){var d=c.$;d.isConnected()?(c=B(d)?d:d.ea,d=B(d)?d.ea:d,d.R().Da?h.navigation.Pq("Cannot disconnect a shadow block"):(c.disconnect(),jb(d,c),ua(c.R().vc()),c=h.v.Ie(c),I(a.tb(),c))):h.navigation.Pq("Cannot disconnect unconnected connection")}else h.navigation.Pq("Cannot disconnect blocks when the cursor is not on a connection")};h.navigation.Sq=function(){I(h.navigation.td(),h.va().tb().Qa)};
h.navigation.FC=function(){var a=h.navigation.td();I(a,null);a.wa()};h.navigation.Bh=function(a){h.navigation.Rg=a};h.navigation.qq=function(a){var c=a.T||a.C;return c?h.v.Ie(c):h.v.mf(a)};h.navigation.cC=function(a){var c=h.va();if(c&&(c=c.tb())){var d=c.Qa;d=d?d.R():null;d===a?d.getParent()?(a=d.T||d.C)&&I(c,h.v.Ie(a.ea)):I(c,h.v.ni(d.B,d.Ma())):d&&-1<Qa(a,!1).indexOf(d)&&I(c,h.v.ni(d.B,d.Ma()))}};h.navigation.aH=function(a){var c=h.va().tb();if(c){var d=c.Qa;d=d?d.R():null;d===a&&I(c,h.v.mf(d))}};
h.navigation.SA=function(){h.va().Le||(h.va().Le=!0,h.navigation.Hm())};h.navigation.GA=function(){if(h.va().Le){var a=h.va();h.va().Le=!1;a.tb().wa();h.navigation.td().wa();h.navigation.ui()&&h.navigation.ui().wa()}};h.navigation.Pq=function(a){h.navigation.Li?h.navigation.Li("log",a):console.log(a)};h.navigation.lc=function(a){h.navigation.Li?h.navigation.Li("warn",a):console.warn(a)};h.navigation.DG=function(a){h.navigation.Li?h.navigation.Li("error",a):console.error(a)};
h.navigation.Nw=function(a){a=h.sa.pa.MC(a);return(a=h.sa.pa.cB(a))?h.navigation.ad(a):!1};h.navigation.ad=function(a){var c=h.va().options.readOnly,d=!1;h.va().Le?c?-1<h.navigation.pz.indexOf(a)&&(d=h.navigation.Vv(a)):d=h.navigation.Vv(a):a.name===h.navigation.ya.hp&&(h.navigation.SA(),d=!0);return d};
h.navigation.Vv=function(a){return a.name==h.navigation.ya.ip||h.navigation.Rg==h.navigation.du?h.navigation.fD(a):a.name==h.navigation.ya.hp?(h.navigation.GA(),!0):h.navigation.Rg==h.navigation.Yl?h.navigation.oD(a):h.navigation.Rg==h.navigation.cu?h.navigation.$A(a):!1};
h.navigation.$A=function(a){var c=h.va(),d=c.qa;if((c=d?d.Y:G(c))&&c.ad(a))return!0;switch(a.name){case h.navigation.ya.Po:return h.navigation.xv(),!0;case h.navigation.ya.Lo:return h.navigation.MB(),!0;case h.navigation.ya.to:return h.navigation.Hm(),!0;default:return!1}};
h.navigation.fD=function(a){var c=h.va(),d=c.qa;return d&&d.ad(a)?!0:a.name===h.navigation.ya.ip?(c.qa?h.navigation.xv():h.navigation.wv(),!0):a.name===h.navigation.ya.Eo?(h.navigation.wv(),!0):a.name===h.navigation.ya.to?(h.navigation.Hm(),!0):!1};h.navigation.xn=function(a,c){var d=h.va().tb(),e=h.va().tb().Qa;if(e.Sa()!==h.v.types.Ae)return!1;e=e.qs;I(d,h.v.ni(h.va(),new h.g.N(a*h.navigation.vu+e.x,c*h.navigation.vu+e.y)));return!0};
h.navigation.oD=function(a){if(h.va().tb().ad(a))return!0;switch(a.name){case h.navigation.ya.Fo:return h.navigation.Dw(),!0;case h.navigation.ya.Lo:return h.navigation.xB(),!0;case h.navigation.ya.Qs:return h.navigation.HA(),!0;case h.navigation.ya.yt:return h.navigation.xn(0,-1);case h.navigation.ya.vt:return h.navigation.xn(0,1);case h.navigation.ya.wt:return h.navigation.xn(-1,0);case h.navigation.ya.xt:return h.navigation.xn(1,0);default:return!1}};
h.navigation.xB=function(){var a=h.va().tb().Qa,c=a.Sa();c==h.v.types.Pc?(a=a.$,ha(a)&&a.Vk(void 0)):a.Fi||c==h.v.types.Ae?h.navigation.Sq():c==h.v.types.yc?h.navigation.lc("Cannot mark a block."):c==h.v.types.we&&h.navigation.lc("Cannot mark a stack.")};h.navigation.Yn=new h.xc(h.navigation.ya.ld);h.navigation.ts=new h.xc(h.navigation.ya.Po);h.navigation.Xn=new h.xc(h.navigation.ya.jd);h.navigation.ss=new h.xc(h.navigation.ya.Eo);h.navigation.Px=new h.xc(h.navigation.ya.Fo);h.navigation.Qx=new h.xc(h.navigation.ya.Lo);
h.navigation.Ox=new h.xc(h.navigation.ya.Qs);h.navigation.Vx=new h.xc(h.navigation.ya.ip);h.navigation.Wn=new h.xc(h.navigation.ya.to);h.navigation.us=new h.xc(h.navigation.ya.hp);h.navigation.Sx=new h.xc(h.navigation.ya.wt);h.navigation.Tx=new h.xc(h.navigation.ya.xt);h.navigation.Ux=new h.xc(h.navigation.ya.yt);h.navigation.Rx=new h.xc(h.navigation.ya.vt);h.navigation.pz=[h.navigation.Yn,h.navigation.ts,h.navigation.ss,h.navigation.Xn,h.navigation.us];h.D={};h.D.visible=!1;h.D.ji=!1;h.D.Yy=50;h.D.Fw=0;h.D.Wk=0;h.D.Kq=0;h.D.Lq=0;h.D.ba=null;h.D.In=null;h.D.Ct=0;h.D.Dt=10;h.D.oz=10;h.D.Ny=750;h.D.Ko=5;h.D.Ua=null;h.D.Ga=function(){h.D.Ua||(h.D.Ua=document.createElement("div"),h.D.Ua.className="blocklyTooltipDiv",document.body.appendChild(h.D.Ua))};h.D.ii=function(a){h.Tb(a,"mouseover",null,h.D.sC);h.Tb(a,"mouseout",null,h.D.rC);a.addEventListener("mousemove",h.D.qC,!1)};
h.D.sC=function(a){if(!h.D.ji){for(a=a.currentTarget;"string"!=typeof a.le&&"function"!=typeof a.le;)a=a.le;h.D.ba!=a&&(h.D.wa(),h.D.In=null,h.D.ba=a);clearTimeout(h.D.Fw)}};h.D.rC=function(){h.D.ji||(h.D.Fw=setTimeout(function(){h.D.ba=null;h.D.In=null;h.D.wa()},1),clearTimeout(h.D.Wk))};
h.D.qC=function(a){if(h.D.ba&&h.D.ba.le&&!h.D.ji)if(h.D.visible){var c=h.D.Kq-a.pageX;a=h.D.Lq-a.pageY;Math.sqrt(c*c+a*a)>h.D.oz&&h.D.wa()}else h.D.In!=h.D.ba&&(clearTimeout(h.D.Wk),h.D.Kq=a.pageX,h.D.Lq=a.pageY,h.D.Wk=setTimeout(h.D.UC,h.D.Ny))};h.D.wa=function(){h.D.visible&&(h.D.visible=!1,h.D.Ua&&(h.D.Ua.style.display="none"));h.D.Wk&&clearTimeout(h.D.Wk)};h.D.block=function(){h.D.wa();h.D.ji=!0};h.D.lD=function(){h.D.ji=!1};
h.D.UC=function(){if(!h.D.ji&&(h.D.In=h.D.ba,h.D.Ua)){h.D.Ua.innerHTML="";for(var a=h.D.ba.le;"function"==typeof a;)a=a();a=h.g.Ja.Kx(a,h.D.Yy);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.D.Ua.appendChild(d)}a=h.D.ba.I;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.D.Ua.style.direction=a?"rtl":"ltr";h.D.Ua.style.display="block";h.D.visible=!0;var e=h.D.Kq;e=a?e-(h.D.Ct+h.D.Ua.offsetWidth):
e+h.D.Ct;var f=h.D.Lq+h.D.Dt;f+h.D.Ua.offsetHeight>d+window.scrollY&&(f-=h.D.Ua.offsetHeight+2*h.D.Dt);a?e=Math.max(h.D.Ko-window.scrollX,e):e+h.D.Ua.offsetWidth>c+window.scrollX-2*h.D.Ko&&(e=c-h.D.Ua.offsetWidth-2*h.D.Ko);h.D.Ua.style.top=f+"px";h.D.Ua.style.left=e+"px"}};h.Rh=function(a,c){this.Ew=null;this.tc=new h.g.N(0,0);this.Eb=this.Fb=this.fj=this.gj=this.cd=null;this.Ip=c;this.vk=this.ih=this.wk=this.ah=!1;this.Dd=a;this.Y=this.Jh=this.Be=this.Of=this.Cn=this.Bn=null;this.Zm=this.bh=this.Ju=!1;this.aw=!h.Cy};b=h.Rh.prototype;b.H=function(){h.Touch.mm();h.D.lD();this.Ip.Nb=null;this.Bn&&h.eb(this.Bn);this.Cn&&h.eb(this.Cn);this.Be&&this.Be.H();this.Jh&&this.Jh.H();this.Of&&this.Of.H()};
function kb(a,c){a.tc=h.g.N.bk(new h.g.N(c.clientX,c.clientY),a.Ew);if(a.ah)var d=!1;else a.ah=h.g.N.WB(a.tc)>(a.Y?h.Hy:h.By),d=a.ah;if(d){if(a.Ju)throw Error("updateIsDragging_ should only be called once per gesture.");a.Ju=!0;if(a.cd){a.vk=!0;a.Of=new h.yl(a.cd,a.Eb);d=a.Of;h.h.Jb()||h.h.la(!0);d.o.Sb(!1);d.Ib.sp=!1;d.Ug&&(d.Ib.moveTo(0,0),d.Ug.Eh(d.Ue.x,d.Ue.y),lb(d.Ug,d.Ib.ca()));d.Ib.sg&&d.Ib.sg(!0);var e=d.o.qa;e&&e.Nz(d.Ib.Zc()?"blocklyToolboxDelete":"blocklyToolboxGrab");db(a.Of,a.Dd,a.tc);
d=!0}else d=!1;if(!d){if(a.Fb)if(a.Y?(a.Fb&&a.Fb.isEnabled()?((d=!mb(a.Y))||(d=a.tc,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.Y.PA,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.Eb=a.Y.Kb,nb(a.Eb),h.h.Jb()||h.h.la(!0),a.fj=null,a.Fb=gb(a.Y,a.Fb),a.Fb.select(),d=!0):d=!1):d=!1,a.ih=d):a.Fb.Hc()&&(a.ih=!0),a.ih){a.Be=new h.yg(a.Fb,a.Eb);d=a.Be;e=a.tc;var f=a.aw;h.h.Jb()||h.h.la(!0);var g=new h.h.dc(d.Za,"dragStart",null,p(d.Za,!1));h.h.Ha(g);d.o.hn&&ua(d.Za);h.g.j.Yk();d.o.Sb(!1);h.Va.Tp();if(d.Za.getParent()||
f&&d.Za.V&&d.Za.V.ma())x(d.Za,f),e=d.Qi(e),e=h.g.N.sum(d.Ue,e),d.Za.translate(e.x,e.y),h.Va.JA(d.Za);d.Za.sg(!0);e=d.Za;e.ll&&(f=e.Ma(),e.ca().removeAttribute("transform"),e.B.Tc.Eh(f.x,f.y),(f=e.ca())&&lb(e.B.Tc,f));(e=d.o.qa)&&e.Nz(d.Za.Zc()?"blocklyToolboxDelete":"blocklyToolboxGrab");oa(a.Be,a.Dd,a.tc);d=!0}else d=!1;else d=!1;if(d=!d)if(a.Y)d=mb(a.Y);else if(d=a.Eb)d=a.Eb,d=d.options.Pb&&d.options.Pb.Uf;d&&(a.Jh=a.Y?new h.Hl(a.Y):new h.Kj(a.Eb),a.wk=!0,a.Jh.Ur())}h.eg()}a.Dd=c}
b.Wp=function(a){h.g.ln(a)?this.cancel():(this.bh=!0,h.Va.Tp(),nb(this.Eb),this.Eb.hn&&this.Eb.resize(),h.jc(!!this.Y),Ga(this.Eb),this.Dd=a,h.D.block(),this.Fb&&(!this.Fb.$d&&a.shiftKey&&this.Fb.B.Le?I(this.Ip.tb(),h.navigation.qq(this.Fb)):this.Fb.select()),h.g.zk(a)?wa(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.VB(a,this),this.Ew=new h.g.N(a.clientX,a.clientY),this.aw=a.altKey||a.ctrlKey||a.metaKey,this.ii(a)))};
b.ii=function(a){this.Bn=h.ua(document,"mousemove",null,this.zi.bind(this));this.Cn=h.ua(document,"mouseup",null,this.Qm.bind(this));a.preventDefault();a.stopPropagation()};b.zi=function(a){kb(this,a);this.wk?this.Jh.Uf(this.tc):this.ih?oa(this.Be,this.Dd,this.tc):this.vk&&db(this.Of,this.Dd,this.tc);a.preventDefault();a.stopPropagation()};
b.Qm=function(a){kb(this,a);h.eg();if(this.Zm)console.log("Trying to end a gesture recursively.");else{this.Zm=!0;if(this.vk)eb(this.Of,a,this.tc);else if(this.ih)sa(this.Be,a,this.tc);else if(this.wk){var c=this.Jh;c.Uf(this.tc);Ja(c.o)}else if(this.cd&&!this.ah)this.cd.PC&&this.cd.PC(),this.cd.select&&this.cd.select();else if(ob(this)){c=this.gj;var d=this.Dd;ha(c)&&c.Vk(d);pb(this)}else!this.fj||this.ah||ob(this)?this.fj||this.cd||this.gj||this.ah||(c=this.Ip,a.shiftKey&&c.Le?(d=h.g.LC(c,new h.g.N(a.clientX,
a.clientY)),d=h.v.ni(c,d),I(c.tb(),d)):h.selected&&fb(h.selected)):(this.Y&&this.Y.gi?this.Fb.isEnabled()&&(h.h.Jb()||h.h.la(!0),va(gb(this.Y,this.Fb))):h.h.Ha(new h.h.dc(this.fj,"click",void 0,void 0)),pb(this),h.h.la(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){if(!this.Zm){h.eg();if(this.vk)eb(this.Of,this.Dd,this.tc);else if(this.ih)sa(this.Be,this.Dd,this.tc);else if(this.wk){var a=this.Jh;a.Uf(this.tc);Ja(a.o)}this.H()}};
function wa(a,c){a.Fb?(pb(a),h.jc(!!a.Y),a.Fb.Tk(c)):a.cd?a.cd.Tk(c):a.Eb&&!a.Y&&(h.jc(),a.Eb.Tk(c));c.preventDefault();c.stopPropagation();a.H()}function qb(a,c,d){if(a.bh)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Eb||(a.Eb=d);a.Dd=c;a.Wp(c);a.Eb.Le&&h.navigation.Bh(h.navigation.Yl)}function rb(a,c,d){if(a.bh)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.Y||(a.Y=d);qb(a,c,d.o)}
function pb(a){a.Fb&&!a.Y&&ua(a.Fb)}function sb(a,c){a.fj||a.cd||(a.fj=c,c.$d&&c!=c.vc()?tb(a,c.vc()):tb(a,c))}function tb(a,c){c.Da?tb(a,c.getParent()):a.Fb=c}function ob(a){return(a.gj?ha(a.gj):!1)&&!a.ah&&(!a.Y||!a.Y.gi)}b.Gc=function(){return this.wk||this.ih||this.vk};b.wi=function(){return this.Be?this.Be.wi():[]};h.Rh.yq=function(){for(var a=h.gb.getAll(),c=0,d;d=a[c];c++)if(d.Nb)return!0;return!1};h.gd=function(a,c,d){this.Bx=this.Fx=this.Xe=null;this.jb=new h.g.gf(0,0);this.m=this.Vq=this.Dh=this.$b=this.Hb=this.Ec=this.Bd=this.Wc=null;d&&this.Tj(d);this.setValue(a);c&&(this.Fx=c)};b=h.gd.prototype;b.name=void 0;b.Tf=!1;b.Cw=50;b.K=null;b.ag=!0;b.vg=!0;b.Rj=null;h.gd.Bt="\u00a0";b=h.gd.prototype;b.rj=!0;b.Yt=!1;b.Tj=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.Kc(a.tooltip));c&&this.ie(c)};b.R=function(){return this.K};
b.Ia=function(){this.Ec||(this.Ec=h.g.j.G("g",{},null),this.isVisible()||(this.Ec.style.display="none"),this.K.ca().appendChild(this.Ec),this.Um(),ub(this),this.ie(this.Bx),h.D.ii(this.Rj||this.ca()),this.Vq=h.ua(this.Rj||this.ca(),"mousedown",this,this.jg))};b.Um=function(){vb(this);wb(this)};
function vb(a){a.jb.height=Math.max(a.jb.height,a.m.uo);a.jb.width=Math.max(a.jb.width,2*a.m.df);a.Hb=h.g.j.G("rect",{rx:a.m.vo,ry:a.m.vo,x:0,y:0,height:a.jb.height,width:a.jb.width,"class":"blocklyFieldRect"},a.Ec)}
function wb(a){var c=a.Hb?a.m.df:0,d=a.m.$s,e=a.m.zo;a.jb.height=Math.max(a.jb.height,d?a.m.tj:e);a.jb.height>a.m.tj&&(e+=(a.jb.height-e)/2);a.$b=h.g.j.G("text",{"class":"blocklyText",y:d?a.jb.height/2:e,dy:a.m.Ao,x:c},a.Ec);d&&a.$b.setAttribute("dominant-baseline","central");a.Dh=document.createTextNode("");a.$b.appendChild(a.Dh)}b.H=function(){h.A.qk(this);h.U.qk(this);this.Vq&&h.eb(this.Vq);h.g.j.removeNode(this.Ec);this.Tf=!0};
function ub(a){var c=a.Ec;a.rj&&c&&(a.K.Gi()?(h.g.j.Cb(c,"blocklyEditableText"),h.g.j.bd(c,"blocklyNonEditableText"),c.style.cursor=a.ty):(h.g.j.Cb(c,"blocklyNonEditableText"),h.g.j.bd(c,"blocklyEditableText"),c.style.cursor=""))}function ha(a){return!!a.K&&a.K.Gi()&&!!a.Vk&&"function"===typeof a.Vk}b.isVisible=function(){return this.vg};b.Lc=function(a){if(this.vg!=a){this.vg=a;var c=this.ca();c&&(c.style.display=a?"block":"none")}};b.ca=function(){return this.Ec};b.fc=function(){};
b.Si=function(){if(this.Dh){this.Dh.nodeValue=xb(this);var a=h.g.j.kq(this.$b,this.m.Ph,this.m.Ff,this.m.ef);this.Hb&&(a+=2*this.m.df,this.Hb.setAttribute("width",a));this.jb.width=a}};b.sf=function(){if(!this.isVisible())return new h.g.gf(0,0);this.ag?(this.Si(),this.ag=!1):this.vg&&0==this.jb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Si());return this.jb};
function xb(a){var c=yb(a);if(!c)return h.gd.Bt;c.length>a.Cw&&(c=c.substring(0,a.Cw-2)+"\u2026");c=c.replace(/\s/g,h.gd.Bt);a.K&&a.K.I&&(c+="\u200f");return c}function yb(a){if(a.pq){var c=a.pq.call(a);if(null!==c)return String(c)}return String(a.getValue())}function zb(){throw Error("setText method is deprecated");}b.Dk=function(){this.ag=!0};function Ab(a){a.ag=!0;a.K&&a.K.aa&&(a.K.Aa(),a.K.qc())}
b.setValue=function(a){if(null!==a){var c=this.xm(a);a=Bb(this,a,c);if(!(a instanceof Error)){if(c=this.Fx)if(c=c.call(this,a),a=Bb(this,a,c),a instanceof Error)return;c=this.getValue();c!==a&&(this.K&&h.h.isEnabled()&&h.h.Ha(new h.h.Lh(this.K,"field",this.name||null,c,a)),this.ym(a),this.ag&&Ab(this))}}};function Bb(a,c,d){if(null===d)return a.ag&&Ab(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.Xe};b.xm=function(a){return null===a||void 0===a?null:a};
b.ym=function(a){this.Xe=a;this.ag=!0};b.jg=function(a){if(this.K&&this.K.B&&(a=this.K.B.Vf(a))){if(a.bh)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.gj||(a.gj=this)}};b.ie=function(a){var c=this.Rj||this.ca();c?c.le=a||""===a?a:this.K:this.Bx=a};b.Yd=function(){for(var a=null,c=this.K,d=c.O,e=0;e<c.O.length;e++)for(var f=d[e],g=f.Ra,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Hv=function(){return!1};b.ad=function(){return!1};
b.yf=function(a){a?(this.Ec.appendChild(a),this.Wc=a):this.Wc=null};b.Af=function(a){a?(this.Ec.appendChild(a),this.Bd=a):this.Bd=null};h.Xc={};h.Xc.fl={};h.Xc.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'". The type must be a non-empty string.');if(h.Xc.fl[a])throw Error('Error: Field "'+a+'" is already registered.');if(!c||"function"!=typeof c.oa)throw Error('Field "'+c+'" must have a fromJson function');a=a.toLowerCase();h.Xc.fl[a]=c};h.Xc.unregister=function(a){h.Xc.fl[a]?delete h.Xc.fl[a]:console.warn('No field mapping for type "'+a+'" found to unregister')};
h.Xc.oa=function(a){var c=h.Xc.fl[a.type.toLowerCase()];return c?c.oa(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.g.Il={};h.g.Il.jC=0;h.g.Il.pB=function(){return"blockly:"+(h.g.Il.jC++).toString(36)};h.mc=function(){this.ix=h.mc.cv;this.Ci=null;this.yd=!1;this.Jc=this.ba=null;this.Mb=[];this.Bp={}};h.mc.cv=!1;h.mc.Error={bo:"Component already rendered",Mt:"Unable to set parent component",ky:"Child component index out of bounds"};b=h.mc.prototype;b.ub=function(){return this.Ci||(this.Ci=h.g.Il.pB())};b.aj=function(a){if(this==a)throw Error(h.mc.Error.Mt);var c;if(c=a&&this.Jc&&this.Ci)c=(c=this.Ci)?this.Jc.Bp[c]||null:null;if(c&&this.Jc!=a)throw Error(h.mc.Error.Mt);this.Jc=a};b.getParent=function(){return this.Jc};
b.Ga=function(){this.ba=document.createElement("div")};b.Aa=function(a){this.Si(a)};b.Si=function(a,c){if(this.yd)throw Error(h.mc.Error.bo);this.ba||this.Ga();a?a.insertBefore(this.ba,c||null):document.body.appendChild(this.ba);this.Jc&&!this.Jc.yd||this.Cm()};b.Cm=function(){this.yd=!0;Cb(this,function(a){!a.yd&&a.ba&&a.Cm()})};b.Dm=function(){Cb(this,function(a){a.yd&&a.Dm()});this.yd=!1};b.H=function(){this.LA||(this.LA=!0,this.Up())};
b.Up=function(){this.yd&&this.Dm();Cb(this,function(a){a.H()});this.ba&&h.g.j.removeNode(this.ba);this.Jc=this.ba=this.Bp=this.Mb=null};
function Db(a,c){var d=a.Mb.length;if(c.yd)throw Error(h.mc.Error.bo);if(0>d||d>a.Mb.length)throw Error(h.mc.Error.ky);a.Bp[c.ub()]=c;if(c.getParent()==a){var e=a.Mb.indexOf(c);-1<e&&a.Mb.splice(e,1)}c.aj(a);a.Mb.splice(d,0,c);c.yd&&a.yd&&c.getParent()==a?(a=a.ba,d=a.childNodes[d]||null,d!=c.ba&&a.insertBefore(c.ba,d)):(a.ba||a.Ga(),d=a.Mb[d+1]||null,c.Si(a.ba,d?d.ba:null))}b.qw=function(){return this.ix};function Eb(a,c){if(a.yd)throw Error(h.mc.Error.bo);a.ix=c}
function Cb(a,c,d){for(var e=0;e<a.Mb.length;e++)c.call(d,a.Mb[e],e)};h.g.hb={};h.g.hb.Zx="aria-";h.g.hb.qz="role";h.g.hb.Dj={iE:"grid",jE:"gridcell",kE:"group",Zy:"listbox",ez:"menu",fz:"menuitem",gz:"menuitemcheckbox",kz:"option",JF:"presentation",Wo:"row",bG:"tree",cG:"treeitem"};h.g.hb.State={Wx:"activedescendant",zD:"colcount",MD:"expanded",qE:"invalid",Xy:"label",uE:"labelledby",yE:"level",AF:"orientation",IF:"posinset",QF:"rowcount",Zo:"selected",TF:"setsize",fG:"valuemax",gG:"valuemin"};h.g.hb.bj=function(a,c){a.setAttribute(h.g.hb.qz,c)};
h.g.hb.Bh=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.hb.Zx+c,d)};h.Dg=function(){h.mc.call(this);this.kr=null;this.tf=-1;this.An=this.vn=this.un=this.Pf=this.wn=null};h.g.object.S(h.Dg,h.mc);b=h.Dg.prototype;b.Ga=function(){var a=document.createElement("div");a.id=this.ub();this.ba=a;a.className="goog-menu goog-menu-vertical blocklyNonSelectable";a.tabIndex=0;h.g.hb.bj(a,this.Gr||h.g.hb.Dj.ez)};b.focus=function(){var a=this.ba;a&&(a.focus({preventScroll:!0}),h.g.j.Cb(a,"focused"))};b.blur=function(){var a=this.ba;a&&(a.blur(),h.g.j.bd(a,"focused"))};
b.bj=function(a){this.Gr=a};b.Cm=function(){h.Dg.u.Cm.call(this);Cb(this,function(a){if(a.yd){var c=a.ba;c=c.id||(c.id=a.ub());this.li||(this.li={});this.li[c]=a}},this);Fb(this)};b.Dm=function(){Gb(this,-1);h.Dg.u.Dm.call(this)};b.Up=function(){h.Dg.u.Up.call(this);this.wn&&(h.eb(this.wn),this.wn=null);this.Pf&&(h.eb(this.Pf),this.Pf=null);this.un&&(h.eb(this.un),this.un=null);this.vn&&(h.eb(this.vn),this.vn=null);this.An&&(h.eb(this.An),this.An=null)};
function Fb(a){var c=a.ba;a.wn=h.ua(c,"mouseover",a,a.BB,!0);a.Pf=h.ua(c,"click",a,a.wB,!0);a.un=h.ua(c,"mouseenter",a,a.zB,!0);a.vn=h.ua(c,"mouseleave",a,a.AB,!0);a.An=h.ua(c,"keydown",a,a.uq)}b.li=null;function Hb(a,c){if(a.li)for(var d=a.ba;c&&c!==d;){var e=c.id;if(e in a.li)return a.li[e];c=c.parentNode}return null}function Ib(a){(a=a.Mb[a.tf]||null)&&a.zf(!1)}function Gb(a,c){var d=a.Mb[c]||null;d?(d.zf(!0),a.tf=c):-1<a.tf&&((a.Mb[a.tf]||null).zf(!1),a.tf=-1);d&&h.g.style.lx(d.ba,a.ba)}
b.zf=function(a){Gb(this,this.Mb.indexOf(a))};function Jb(a){Ib(a);Kb(a,function(c,d){return(c+1)%d},a.tf)}function Lb(a){Ib(a);Kb(a,function(c,d){c--;return 0>c?d-1:c},a.tf)}function Kb(a,c,d){var e=a.Mb.length;d=c.call(a,0>d?-1:d,e);for(var f=0;f<=e;){var g=a.Mb[d]||null;if(g&&g.isEnabled()){Gb(a,d);break}f++;d=c.call(a,d,e)}}b.BB=function(a){(a=Hb(this,a.target))&&a.isEnabled()&&(this.Mb[this.tf]||null)!==a&&(Ib(this),this.zf(a))};
b.wB=function(a){var c=this.kr;this.kr=null;if(!(c&&"number"===typeof a.clientX&&1>h.g.N.Vp(c,new h.g.N(a.clientX,a.clientY)))){c=Hb(this,a.target);var d;if(d=c)c.isEnabled()&&(c.zf(!0),Mb(c)),d=void 0;d&&a.preventDefault()}};b.zB=function(){this.focus()};b.AB=function(){this.ba&&(this.blur(),Ib(this),Gb(this,-1))};b.uq=function(a){return 0!=this.Mb.length&&Nb(this,a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
function Nb(a,c){var d=a.Mb[a.tf]||null;if(d&&"function"==typeof d.uq&&d.uq(c))return!0;if(c.shiftKey||c.ctrlKey||c.metaKey||c.altKey)return!1;switch(c.keyCode){case h.g.fb.Ts:d&&Mb(d);break;case h.g.fb.zz:Lb(a);break;case h.g.fb.Ay:Jb(a);break;default:return!1}return!0};h.Ol=function(a,c){h.mc.call(this);this.Ng=a;this.setValue(c);this.Bm=!0};h.g.object.S(h.Ol,h.mc);b=h.Ol.prototype;
b.Ga=function(){var a=document.createElement("div");a.id=this.ub();this.ba=a;a.className="goog-menuitem goog-option "+(this.Bm?"":"goog-menuitem-disabled ")+(this.Ap?"goog-option-selected ":"")+(this.qw()?"goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="goog-menuitem-content";a.appendChild(c);if(this.Pj){var d=document.createElement("div");d.className="goog-menuitem-checkbox"}else d=null;d&&c.appendChild(d);c.appendChild(Ob(this));h.g.hb.bj(a,this.Gr||(this.Pj?h.g.hb.Dj.gz:
h.g.hb.Dj.fz));h.g.hb.Bh(a,h.g.hb.State.Zo,this.Pj&&this.Ap||!1)};function Ob(a){a=a.Ng;"string"===typeof a&&(a=document.createTextNode(a));return a}b.setValue=function(a){this.Xe=a};b.getValue=function(){return this.Xe};b.bj=function(a){this.Gr=a};function Pb(a,c){if(a.Pj){a.Ap=c;var d=a.ba;d&&a.isEnabled()&&(c?(h.g.j.Cb(d,"goog-option-selected"),h.g.hb.Bh(d,h.g.hb.State.Zo,!0)):(h.g.j.bd(d,"goog-option-selected"),h.g.hb.Bh(d,h.g.hb.State.Zo,!1)))}}
b.zf=function(a){var c=this.ba;c&&this.isEnabled()&&(a?h.g.j.Cb(c,"goog-menuitem-highlight"):h.g.j.bd(c,"goog-menuitem-highlight"))};b.isEnabled=function(){return this.Bm};b.Re=function(a){this.Bm=a;(a=this.ba)&&(this.Bm?h.g.j.bd(a,"goog-menuitem-disabled"):h.g.j.Cb(a,"goog-menuitem-disabled"))};function Mb(a){a.Pj&&Pb(a,!a.Ap);a.Bu&&a.Bu.call(a.Lz,a)}function Qb(a,c,d){a.Bu=c;a.Lz=d};h.Oa=function(a,c,d){"function"!=typeof a&&h.Oa.Ex(a);this.Oi=a;this.Xr=this.wr=this.Im=null;a=this.Oi;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.Kc(g):(null!=g.alt&&(a[f][0].alt=h.g.Kc(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Ja.Or(e);g=h.g.Ja.Qu(e,f);var k=h.g.Ja.Ru(e,f);!g&&!k||f<=g+k||(g&&(this.wr=e[0].substring(0,g-1)),k&&(this.Xr=e[0].substr(1-k)),this.Oi=h.Oa.Sz(a,g,k))}}this.Vi=this.getOptions(!1)[0];
h.Oa.u.constructor.call(this,this.Vi[1],c,d);this.ij=this.qd=this.Fc=this.$c=this.yh=null};h.g.object.S(h.Oa,h.gd);h.Oa.oa=function(a){return new h.Oa(a.options,void 0,a)};h.Oa.prototype.Yt=!0;h.Oa.xD=25;h.Oa.EE=.45;h.Oa.Ry=5;h.Oa.Sy=2*h.Oa.Ry;h.Oa.rl=h.g.userAgent.ql?"\u25bc":"\u25be";b=h.Oa.prototype;b.ty="default";
b.Um=function(){!this.m.xo||this.m.xo&&!this.K.Da?vb(this):this.Rj=this.K.ca();wb(this);this.Fc=h.g.j.G("image",{},this.Ec);this.m.Ys?(this.ij=h.g.j.G("image",{height:this.m.sj+"px",width:this.m.sj+"px"},this.Ec),this.ij.setAttributeNS(h.g.j.Sc,"xlink:href",this.m.Gy)):(this.qd=h.g.j.G("tspan",{},this.$b),this.qd.appendChild(document.createTextNode(this.K.I?h.Oa.rl+" ":" "+h.Oa.rl)),this.K.I?this.$b.insertBefore(this.qd,this.Dh):this.$b.appendChild(this.qd));this.Hb&&h.g.j.Cb(this.Hb,"blocklyDropdownRect")};
b.Vk=function(a){var c=new h.Dg;Eb(c,this.K.I);c.bj(h.g.hb.Dj.Zy);var d=this.getOptions(!1);this.yh=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.Ol(f);f.bj(h.g.hb.Dj.kz);Eb(f,this.K.I);f.setValue(g);f.Pj=!0;Db(c,f);Pb(f,g==this.Xe);g==this.Xe&&(this.yh=f);Qb(f,this.yB,this)}h.g.hb.Bh(c.ba,h.g.hb.State.Wx,this.yh?this.yh.ub():"");this.$c=c;this.$c.kr=a&&"number"===typeof a.clientX?new h.g.N(a.clientX,
a.clientY):null;this.$c.Aa(h.A.lB());h.g.j.Cb(this.$c.ba,"blocklyDropdownMenu");this.m.Xs&&(a=this.K.Da?this.K.getParent().iq():this.K.iq(),c=this.K.Da?this.K.getParent().style.Qf:this.K.style.Qf,h.A.ge(a,c));h.A.TC(this,this.RA.bind(this));this.$c.focus();this.yh&&h.g.style.lx(this.yh.ba,this.$c.ba);this.fc()};b.RA=function(){this.$c&&this.$c.H();this.yh=this.$c=null;this.fc()};b.yB=function(a){h.A.qk(this,!0);this.setValue(a.getValue())};
h.Oa.Sz=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};b=h.Oa.prototype;b.getOptions=function(a){return"function"==typeof this.Oi?(this.Im&&a||(this.Im=this.Oi.call(this),h.Oa.Ex(this.Im)),this.Im):this.Oi};
b.xm=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.K&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.K.type+", Field name: "+this.name+", Value: "+a),null)};b.ym=function(a){h.Oa.u.ym.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.Xe&&(this.Vi=d)};
b.fc=function(){this.Hb&&(this.Hb.setAttribute("stroke",this.K.style.Qf),this.$c?this.Hb.setAttribute("fill",this.K.style.Qf):this.Hb.setAttribute("fill","transparent"));this.K&&this.qd&&(this.qd.style.fill=this.K.Da?this.K.style.Pu:this.K.style.mi)};
b.Si=function(){this.Dh.nodeValue="";this.Fc.style.display="none";var a=this.Vi&&this.Vi[0];if(a&&"object"==typeof a){this.Fc.style.display="";this.Fc.setAttributeNS(h.g.j.Sc,"xlink:href",a.src);this.Fc.setAttribute("height",a.height);this.Fc.setAttribute("width",a.width);var c=Number(a.height),d=Number(a.width),e=!!this.Hb;this.jb.height=Math.max(e?this.m.wo:0,c+h.Oa.Sy);a=this.jb.height/2;e=e?this.m.df:0;var f=this.ij?Rb(this,d+e,a-this.m.sj/2):h.g.j.kq(this.qd,this.m.Ph,this.m.Ff,this.m.ef);this.jb.width=
d+f+2*e;this.K.I?(d=e-1,this.Fc.setAttribute("x",e+f),this.$b.setAttribute("x",d)):(d=d+f+e+1,this.$b.setAttribute("text-anchor","end"),this.$b.setAttribute("x",d),this.Fc.setAttribute("x",e));this.Fc.setAttribute("y",a-c/2)}else this.Dh.nodeValue=xb(this),h.g.j.Cb(this.$b,"blocklyDropdownText"),this.$b.setAttribute("text-anchor","start"),d=!!this.Hb,this.jb.height=Math.max(d?this.m.wo:0,this.m.tj),c=this.jb.height/2,a=h.g.j.kq(this.$b,this.m.Ph,this.m.Ff,this.m.ef),d=d?this.m.df:0,e=0,this.ij&&(e=
Rb(this,a+d,c-this.m.sj/2)),this.jb.width=a+e+2*d,this.$b.setAttribute("x",this.K.I?this.jb.width-a-d:d),this.$b.setAttribute("y",c),this.m.$s||this.$b.setAttribute("dy",this.m.zo-this.m.tj/2+this.m.Ao);this.Hb&&(this.Hb.setAttribute("height",this.jb.height),this.Hb.setAttribute("width",this.jb.width))};function Rb(a,c,d){if(!a.ij)return 0;var e=a.Hb?a.m.df:0,f=a.m.Zs,g=a.m.sj;a.ij.setAttribute("transform","translate("+(a.K.I?e:c+f)+","+d+")");return g+f}
b.pq=function(){if(!this.Vi)return null;var a=this.Vi[0];return"object"==typeof a?a.alt:a};
h.Oa.Ex=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.Oa.prototype.ad=function(a){if(this.$c){if(a===h.navigation.Yn)return Lb(this.$c),!0;if(a===h.navigation.Xn)return Jb(this.$c),!0}return h.Oa.u.ad.call(this,a)};h.Xc.register("field_dropdown",h.Oa);h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.mp=function(a){this.o=a;this.Og=[];this.Wg=null;if(!(0>=this.o.options.sn)){a=new h.oc({scrollbars:!0,parentWorkspace:this.o,rtl:this.o.I,oneBasedIndex:this.o.options.Dn,renderer:this.o.options.Kn});if(this.o.dh){a.ab=this.o.ab==h.Jg?h.Fj:h.Jg;if(!h.Do)throw Error("Missing require for Blockly.HorizontalFlyout");this.Wg=new h.Do(a)}else{a.ab=this.o.ab==h.Ig?h.Nd:h.Ig;if(!h.Kg)throw Error("Missing require for Blockly.VerticalFlyout");this.Wg=new h.Kg(a)}F(this.o,this.lC.bind(this))}};b=h.mp.prototype;
b.Ij=47;b.ul=44;b.Uh=16;b.bz=20;b.st=20;b.Ml=10;b.ap=0;b.bp=32;b.Ly=.1;b.Gq=!1;b.tn=0;b.M=null;b.Pn=null;b.Mq=0;b.dg=0;b.tw=0;b.Cx=0;
b.Ga=function(){this.M=h.g.j.G("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.j.G("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.M);h.g.j.G("rect",{width:this.Ij,height:this.ul,y:this.Uh},c);var d=h.g.j.G("image",{width:h.$h.width,x:-this.ap,height:h.$h.height,y:-this.bp,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.M);d.setAttributeNS(h.g.j.Sc,"xlink:href",this.o.options.Hn+h.$h.url);c=h.g.j.G("clipPath",{id:"blocklyTrashLidClipPath"+a},this.M);
h.g.j.G("rect",{width:this.Ij,height:this.Uh},c);this.Pn=h.g.j.G("image",{width:h.$h.width,x:-this.ap,height:h.$h.height,y:-this.bp,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.M);this.Pn.setAttributeNS(h.g.j.Sc,"xlink:href",this.o.options.Hn+h.$h.url);h.ua(this.M,"mouseup",this,this.click);h.Tb(d,"mouseover",this,this.aC);h.Tb(d,"mouseout",this,this.$B);this.op();return this.M};
b.Ia=function(a){0<this.o.options.sn&&(h.g.j.Ei(this.Wg.Ga("svg"),y(this.o)),this.Wg.Ia(this.o));this.Un=this.bz+a;ra(this,!1);return this.Un+this.ul+this.Uh};b.H=function(){this.M&&(h.g.j.removeNode(this.M),this.M=null);this.o=this.Pn=null;clearTimeout(this.Mq)};
b.position=function(){if(this.Un){var a=this.o.Yc();a&&(this.tw=a.ab==h.Nd||this.o.dh&&!this.o.I?a.qb+a.ec-this.Ij-this.st-h.Ca.Yb:this.st+h.Ca.Yb,this.Cx=a.ab==h.Fj?this.Un:a.zb+a.pc-(this.ul+this.Uh)-this.Un,this.M.setAttribute("transform","translate("+this.tw+","+this.Cx+")"))}};b.Jm=function(){if(!this.M)return null;var a=this.M.getBoundingClientRect(),c=a.top+this.bp-this.Ml;a=a.left+this.ap-this.Ml;return new h.g.Rect(c,c+this.Uh+this.ul+2*this.Ml,a,a+this.Ij+2*this.Ml)};
function ra(a,c){a.Gq!=c&&(clearTimeout(a.Mq),a.Gq=c,a.op())}b.op=function(){this.dg+=this.Gq?.2:-.2;this.dg=Math.min(Math.max(this.dg,this.tn),1);Sb(this,45*this.dg);this.M.style.opacity=.4+.4*this.dg;this.dg>this.tn&&1>this.dg&&(this.Mq=setTimeout(this.op.bind(this),20))};function Sb(a,c){var d=a.o.ab==h.Ig||a.o.dh&&a.o.I;a.Pn.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.Ij-4)+","+(a.Uh-2)+")")}b.close=function(){ra(this,!1)};
b.click=function(){if(this.Og.length){for(var a=[],c=0,d;d=this.Og[c];c++)a[c]=h.L.tg(d);this.Wg.show(a)}};b.aC=function(){this.Og.length&&ra(this,!0)};b.$B=function(){ra(this,!1)};
b.lC=function(a){if(!(0>=this.o.options.sn)&&a.type==h.h.zs&&"shadow"!=a.gr.tagName.toLowerCase()){for(var c=a=a.gr.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.L.Vd(a);if(-1==this.Og.indexOf(a)){for(this.Og.unshift(a);this.Og.length>
this.o.options.sn;)this.Og.pop();this.tn=this.Ly;Sb(this,45*this.tn)}}};h.bc=Object.create(null);h.ga=function(a,c){this.K=a;this.type=c};h.ga.zl=0;h.ga.Rt=1;h.ga.Ut=2;h.ga.Tt=3;h.ga.Pt=4;h.ga.Qt=5;h.ga.St=6;b=h.ga.prototype;b.ea=null;b.Tf=!1;b.Qd=null;b.Se=null;b.x=0;b.y=0;
b.Sd=function(a){var c=this,d=c.R(),e=a.R();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.ma(),g=c.Se;c.Se=null;if(f.Da)g=h.L.Nf(f),f.H(!1),f=null;else if(c.type==h.La){if(!f.C)throw Error("Orphan block does not have an output connection.");var k=h.ga.rw(e,f);k&&(f.C.connect(k),f=null)}else if(c.type==h.za){if(!f.T)throw Error("Orphan block does not have a previous connection.");for(k=e;k.V;){var l=u(k);if(l&&!l.Da)k=l;else{Tb(f.T,k.V)&&(k.V.connect(f.T),f=null);break}}}if(f&&(c.disconnect(),
h.h.Xb)){var m=h.h.Jb();setTimeout(function(){f.B&&!f.getParent()&&(h.h.la(m),f.C?f.C.zn(c):f.T&&f.T.zn(c),h.h.la(!1))},h.jo)}c.Se=g}var n;h.h.isEnabled()&&(n=new h.h.nj(e));h.ga.tA(c,a);e.aj(d);n&&(n.vh(),h.h.Ha(n))};b.H=function(){if(this.isConnected()){this.Se=null;var a=this.ma();a.Da?a.H(!1):x(a)}this.Tf=!0};b.R=function(){return this.K};function B(a){return a.type==h.La||a.type==h.za}b.isConnected=function(){return!!this.ea};
function hb(a,c){if(!c)return h.ga.Tt;if(B(a))var d=a.K,e=c.R();else e=a.K,d=c.R();return d&&d==e?h.ga.Rt:c.type!=h.Xh[a.type]?h.ga.Ut:d&&e&&d.B!==e.B?h.ga.Qt:Tb(a,c)?d.Da&&!e.Da?h.ga.St:h.ga.zl:h.ga.Pt}
function ib(a,c){switch(hb(a,c)){case h.ga.zl:break;case h.ga.Rt:throw Error("Attempted to connect a block to itself.");case h.ga.Qt:throw Error("Blocks not on same workspace.");case h.ga.Ut:throw Error("Attempt to connect incompatible types.");case h.ga.Tt:throw Error("Target connection is null.");case h.ga.Pt:throw Error("Connection checks failed. "+(a+" expected "+a.Qd+", found "+c.Qd));case h.ga.St:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}}
b.Xm=function(a){if(a.K.wf()||hb(this,a)!=h.ga.zl)return!1;switch(a.type){case h.md:return this.ea||-1!=h.ck.indexOf(a)?a=!1:a.ea?(a=a.ma(),a=a.wf()?!(a.T&&a.T.ma()):!1):a=!0,a;case h.Qc:if(a.isConnected()&&!a.ma().wf()||this.isConnected())return!1;break;case h.La:if(a.isConnected()&&!a.ma().Hc()&&!a.ma().Da)return!1;break;case h.za:if(a.isConnected()&&!this.K.V&&!a.ma().Da&&a.ma().V)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=h.ck.indexOf(a)?!1:
!0};b.zn=function(){};b.connect=function(a){if(this.ea!=a){ib(this,a);var c=h.h.Jb();c||h.h.la(!0);B(this)?this.Sd(a):a.Sd(this);c||h.h.la(!1)}};h.ga.tA=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ea=c;c.ea=a};h.ga.VC=function(a,c){for(var d=null,e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==h.La&&Tb(c.C,f)){if(d)return null;d=f}}return d};h.ga.rw=function(a,c){for(var d;d=h.ga.VC(a,c);)if(a=d.ma(),!a||a.Da)return d;return null};b=h.ga.prototype;
b.disconnect=function(){var a=this.ea;if(!a)throw Error("Source connection not connected.");if(a.ea!=this)throw Error("Target connection not connected to source connection.");if(B(this)){var c=this.K;var d=a.R();a=this}else c=a.R(),d=this.K;var e=h.h.Jb();e||h.h.la(!0);this.Rp(c,d);a.Er();e||h.h.la(!1)};b.Rp=function(a,c){var d;h.h.isEnabled()&&(d=new h.h.nj(c));this.ea=this.ea.ea=null;c.aj(null);d&&(d.vh(),h.h.Ha(d))};
b.Er=function(){var a=this.R(),c=this.Se;if(a.B&&c&&h.h.Xb)if(a=h.L.ri(c,a.B),a.C)this.connect(a.C);else if(a.T)this.connect(a.T);else throw Error("Child block does not have output or previous statement.");};b.ma=function(){return this.isConnected()?this.ea.R():null};function Tb(a,c){if(!a.Qd||!c.Qd)return!0;for(var d=0;d<a.Qd.length;d++)if(-1!=c.Qd.indexOf(a.Qd[d]))return!0;return!1}b.Mw=function(){!this.isConnected()||this.ea&&Tb(this,this.ea)||x(B(this)?this.ma():this.K)};
b.Wi=function(a){a?(Array.isArray(a)||(a=[a]),this.Qd=a,this.Mw()):this.Qd=null};b.Iw=function(){return[]};b.Yd=function(){for(var a=null,c=this.K,d=c.O,e=0;e<c.O.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.K;if(a)if(a.C==this)var c="Output Connection of ";else if(a.T==this)c="Previous Connection of ";else if(a.V==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.O[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.ra={};h.ra.mj={};h.ra.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.ra.mj[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.ra.mj[a]=c};h.ra.fH=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.ra.register(a,function(){this.ph(c)})};
h.ra.gH=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.ra.Lu(f,c.nf,"domToMutation");h.ra.Lu(f,c.Ed,"mutationToDom");var g=h.ra.Nu(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.ra.register(a,function(){if(g){if(!h.iz)throw Error(f+"Missing require for Blockly.Mutator");this.px(new h.iz(e||[]))}this.ph(c);d&&d.apply(this)})};h.ra.unregister=function(a){h.ra.mj[a]?delete h.ra.mj[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.ra.apply=function(a,c,d){var e=h.ra.mj[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.ra.iA(a,c);else var f=h.ra.mq(c);e.apply(c);if(d)h.ra.fA('Error after applying mutator "'+a+'": ',c);else if(!h.ra.fC(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.ra.Lu=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.ra.iA=function(a,c){if(h.ra.mq(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.ra.Nu=function(a,c){var d=void 0!==a.Ep,e=void 0!==a.Jp;if(d&&e){if("function"!=typeof a.Ep)throw Error(c+"compose must be a function.");if("function"!=typeof a.Jp)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
h.ra.fA=function(a,c){if("function"!=typeof c.nf)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Ed)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.ra.Nu(c,a)};h.ra.mq=function(a){var c=[];void 0!==a.nf&&c.push(a.nf);void 0!==a.Ed&&c.push(a.Ed);void 0!==a.Ep&&c.push(a.Ep);void 0!==a.Jp&&c.push(a.Jp);return c};h.ra.fC=function(a,c){c=h.ra.mq(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.ra.qG=function(a,c){var d=[];"object"==typeof document&&h.g.kx(function(){for(var e in c)h.g.Mu(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.ra.gA(this,a,c),d.push(this.type));this.ie(function(){var e=String(Ta(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.Kc(f);return f}.bind(this))}};
h.ra.gA=function(a,c,d){var e=ba(a,c);if("function"!=typeof e.Oi){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.ra.rG=function(a,c){"object"==typeof document&&h.g.kx(function(){h.g.Mu(a)});return function(){this.ie(function(){var d=ba(this,c);return h.g.Kc(a).replace("%1",d?yb(d):"")}.bind(this))}};
h.ra.UA=function(){this.gD=this.le;this.ie(function(){var a=this.getParent();return a&&Ub(a)&&a.le||this.gD}.bind(this))};h.ra.register("parent_tooltip_when_inline",h.ra.UA);h.zc=function(a,c,d){this.km=null;null==a&&(a="");h.zc.u.constructor.call(this,a,null,d);d||(this.km=c||null)};h.g.object.S(h.zc,h.gd);h.zc.oa=function(a){var c=h.g.Kc(a.text);return new h.zc(c,void 0,a)};h.zc.prototype.rj=!1;h.zc.prototype.Tj=function(a){h.zc.u.Tj.call(this,a);this.km=a["class"]};h.zc.prototype.Um=function(){wb(this);this.km&&h.g.j.Cb(this.$b,this.km)};h.zc.prototype.xm=function(a){return null===a||void 0===a?null:String(a)};h.Xc.register("field_label",h.zc);h.mt=function(a,c,d,e){if(a!=h.Ld&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.K=d;this.connection=e;this.Ra=[]};b=h.mt.prototype;b.align=h.ol;b.vg=!0;b.R=function(){return this.K};function J(a,c,d){Vb(a,a.Ra.length,c,d);return a}
function Vb(a,c,d,e){if(0>c||c>a.Ra.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new h.zc(d));var f=d,g=a.K;if(f.K)throw Error("Field already bound to a block.");f.K=g;g.B.aa&&(f.m=g.B.$a.m);a.K.aa&&d.Ia();d.name=e;d.wr&&(c=Vb(a,c,d.wr));a.Ra.splice(c,0,d);++c;d.Xr&&(c=Vb(a,c,d.Xr));a.K.aa&&(a.K.Aa(),a.K.qc());return c}b.isVisible=function(){return this.vg};
b.Lc=function(a){var c=[];if(this.vg==a)return c;for(var d=(this.vg=a)?"block":"none",e=0,f;f=this.Ra[e];e++)f.Lc(a);if(this.connection){if(a)c=Wb(this.connection);else if(e=this.connection,Xb(e,!1),e.ea)for(e=p(e.ma(),!1),f=0;f<e.length;f++){for(var g=e[f],k=g.Xd(!0),l=0;l<k.length;l++)Xb(k[l],!1);g=A(g);for(l=0;l<g.length;l++)g[l].Lc(!1)}if(e=this.connection.ma())e.ca().style.display=d,a||(e.aa=!1)}return c};b.Dk=function(){for(var a=0,c;c=this.Ra[a];a++)c.Dk()};
b.Wi=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Wi(a)};b.Ia=function(){if(this.K.B.aa)for(var a=0;a<this.Ra.length;a++)this.Ra[a].Ia()};b.H=function(){for(var a=0,c;c=this.Ra[a];a++)c.H();this.connection&&this.connection.H();this.K=null};h.wl=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.uc(d)?d:h.g.rf();a.up[this.id]=this;this.T=this.V=this.C=null;this.O=[];this.uf=void 0;this.disabled=!1;this.le="";this.contextMenu=!0;this.Ne=null;this.kf=[];this.tv=this.Gw=this.dv=!0;this.De=this.Da=!1;this.Rw=null;this.Rd={text:null,Vw:!1,size:new h.g.gf(160,80)};this.Nx=new h.g.N(0,0);this.B=a;this.$d=a.vf;this.I=
a.I;this.yk=!1;this.wd=void 0;if(c){this.type=c;d=h.bc[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.ph(this,d)}a.lj.push(this);a.me[this.type]||(a.me[this.type]=[]);a.me[this.type].push(this);"function"==typeof this.Ia&&this.Ia();this.LB=this.uf;if(h.h.isEnabled()){(a=h.h.Jb())||h.h.la(!0);try{h.h.Ha(new h.h.xl(this))}finally{a||h.h.la(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");
this.Jk&&Za(this.B,this.Jk);if(this.onchange=a)this.Jk=a.bind(this),F(this.B,this.Jk)}};b=h.wl.prototype;b.data=null;b.Tf=!1;b.rd="#000000";b.$k=null;
b.H=function(a){if(this.B){this.Jk&&Za(this.B,this.Jk);x(this,a);h.h.isEnabled()&&h.h.Ha(new h.h.iy(this));h.h.disable();try{if(this.B){Va(this.B,this);var c=this.B;c.me[this.type].splice(c.me[this.type].indexOf(this),1);c.me[this.type].length||delete c.me[this.type];delete this.B.up[this.id];this.B=null}h.selected==this&&(h.selected=null);for(var d=this.kf.length-1;0<=d;d--)this.kf[d].H(!1);d=0;for(var e;e=this.O[d];d++)e.H();this.O.length=0;var f=this.Xd(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.Tf=!0}}};function x(a,c){if(a.C){var d=null;a.C.isConnected()&&(d=a.C.ea,a.C.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==h.La&&f.ea){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!a.ma().Da&&(a=a.ea,a.disconnect(),Tb(a,d)?d.connect(a):a.zn(d))}}else a.T&&(d=null,a.T.isConnected()&&(d=a.T.ea,a.T.disconnect()),e=u(a),c&&e&&!e.Da&&(a=a.V.ea,a.disconnect(),d&&Tb(d,a)&&d.connect(a)))}
b.Xd=function(){var a=[];this.C&&a.push(this.C);this.T&&a.push(this.T);this.V&&a.push(this.V);for(var c=0,d;d=this.O[c];c++)d.connection&&a.push(d.connection);return a};b.Hq=function(){for(var a=this.V;a;){var c=a.ma();if(!c)return a;a=c.V}return null};b.qc=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.Ne};
function Yb(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}function u(a){return a.V&&a.V.ma()}b.vc=function(){var a=this;do{var c=a;a=c.Ne}while(a);return c};function Qa(a,c){if(!c)return a.kf;c=[];for(var d=0,e;e=a.O[d];d++)e.connection&&(e=e.connection.ma())&&c.push(e);(a=u(a))&&c.push(a);return c}
b.aj=function(a){if(a!=this.Ne){if(this.Ne){h.g.fm(this.Ne.kf,this);if(this.T&&this.T.isConnected())throw Error("Still connected to previous block.");if(this.C&&this.C.isConnected())throw Error("Still connected to parent block.");this.Ne=null}else Va(this.B,this);(this.Ne=a)?a.kf.push(this):this.B.lj.push(this)}};function p(a,c){var d=[a];a=Qa(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,p(e,c));return d}b.Zc=function(){return this.dv&&!this.Da&&!(this.B&&this.B.options.readOnly)};
b.Hc=function(){return this.Gw&&!this.Da&&!(this.B&&this.B.options.readOnly)};b.Kr=function(a){this.Gw=a};b.Mr=function(a){this.Da=a};b.wf=function(){return this.yk};b.nx=function(a){this.yk=a};b.Gi=function(){return this.tv&&!(this.B&&this.B.options.readOnly)};b.Jr=function(a){this.tv=a;a=0;for(var c;c=this.O[a];a++)for(var d=0,e;e=c.Ra[d];d++)ub(e)};
b.lq=function(a,c){var d=this.Xd(!0);a=a.Xd(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.ie=function(a){this.le=a};b.iq=function(){return this.rd};b.ge=function(a){this.rd=h.g.En(a).pk};b.cj=function(a){this.$k=a};function ba(a,c){for(var d=0,e;e=a.O[d];d++)for(var f=0,g;g=e.Ra[f];f++)if(g.name==c)return g;return null}function Ra(a){for(var c=0,d;d=a.O[c];c++)for(var e=0;d.Ra[e];e++);return[]}
function Ta(a,c){return(a=ba(a,c))?a.getValue():null}b.Ah=function(a,c){if(a){void 0===c&&(c=null);if(!this.T){if(this.C)throw Error("Remove output connection prior to adding previous connection.");this.T=this.Ck(h.md)}this.T.Wi(c)}else if(this.T){if(this.T.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.T.H();this.T=null}};
b.$i=function(a,c){if(a)void 0===c&&(c=null),this.V||(this.V=this.Ck(h.za)),this.V.Wi(c);else if(this.V){if(this.V.isConnected())throw Error("Must disconnect next statement before removing connection.");this.V.H();this.V=null}};
b.Lr=function(a,c){if(a){void 0===c&&(c=null);if(!this.C){if(this.T)throw Error("Remove previous connection prior to adding output connection.");this.C=this.Ck(h.Qc)}this.C.Wi(c)}else if(this.C){if(this.C.isConnected())throw Error("Must disconnect output value before removing connection.");this.C.H();this.C=null}};b.Yi=function(a){this.uf!=a&&(h.h.Ha(new h.h.Lh(this,"inline",null,this.uf,a)),this.uf=a)};
function Ub(a){if(void 0!=a.uf)return a.uf;for(var c=1;c<a.O.length;c++)if(a.O[c-1].type==h.Ld&&a.O[c].type==h.Ld)return!1;for(c=1;c<a.O.length;c++)if(a.O[c-1].type==h.La&&a.O[c].type==h.Ld)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Re=function(a){this.isEnabled()!=a&&(h.h.Ha(new h.h.Lh(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Zb(a){for(a=Yb(a);a;){if(a.disabled)return!0;a=Yb(a)}return!1}b.isCollapsed=function(){return this.De};
b.rg=function(a){this.De!=a&&(h.h.Ha(new h.h.Lh(this,"collapsed",null,this.De,a)),this.De=a)};b.toString=function(a,c){var d=[],e=c||"?";if(this.De)d.push(yb(da(this,"_TEMP_COLLAPSED_INPUT").Ra[0]));else for(var f=0,g;g=this.O[f];f++){for(var k=0,l;l=g.Ra[k];k++)d.push(yb(l));g.connection&&((g=g.connection.ma())?d.push(g.toString(void 0,c)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};function $b(a,c){return a.jf(h.Ld,c||"")}
function ac(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.wd&&(a.wd=c.style.wd,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.cj(e)}catch(H){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.ge(e)}catch(H){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.eD(c["message"+e]),n=[],q=0,r=[],t=0;t<m.length;t++){var v=m[t];if("number"==typeof v){if(0>=v||v>g.length)throw Error('Block "'+f.type+'": Message index %'+v+" out of range.");if(n[v])throw Error('Block "'+f.type+'": Message index %'+v+" duplicated.");n[v]=!0;q++;r.push(g[v-1])}else(v=v.trim())&&r.push(v)}if(q!=g.length)throw Error('Block "'+f.type+'": Message does not reference all '+
g.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||h.g.Ja.startsWith(r[r.length-1].type,"field_"))&&(t={type:"input_dummy"},k&&(t.align=k),r.push(t));k={LEFT:h.ol,RIGHT:h.ao,CENTRE:h.$n,CENTER:h.$n};g=[];for(t=0;t<r.length;t++)if(n=r[t],"string"==typeof n)g.push([n,void 0]);else{m=q=null;do if(v=!1,"string"==typeof n)q=new h.zc(n);else switch(n.type){case "input_value":m=f.jf(h.La,n.name);break;case "input_statement":m=f.jf(h.za,n.name);break;case "input_dummy":m=$b(f,n.name);break;default:q=
h.Xc.oa(n),!q&&n.alt&&(n=n.alt,v=!0)}while(v);if(q)g.push([q,n.name]);else if(m){n.check&&m.Wi(n.check);n.align&&(q=k[n.align.toUpperCase()],void 0===q?console.warn(l+"Illegal align value: ",n.align):(n=m,n.align=q,n.K.aa&&n.K.Aa()));for(n=0;n<g.length;n++)J(m,g[n][0],g[n][1]);g.length=0}}e++}void 0!==c.inputsInline&&a.Yi(c.inputsInline);void 0!==c.output&&a.Lr(!0,c.output);void 0!==c.outputShape&&(a.Rw=c.outputShape);void 0!==c.previousStatement&&a.Ah(!0,c.previousStatement);void 0!==c.nextStatement&&
a.$i(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=h.g.Kc(e),a.ie(e));void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.Kc(e),a.Ai=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.ra.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)h.ra.apply(c[d],
a,!1)}b.ph=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.ph(this,a)};b.jf=function(a,c){var d=null;if(a==h.La||a==h.za)d=this.Ck(a);a=new h.mt(a,c,this,d);this.O.push(a);return a};
b.Ar=function(a,c){for(var d=0,e;e=this.O[d];d++)if(e.name==a){e.H();this.O.splice(d,1);return}if(!c)throw Error("Input not found: "+a);};function da(a,c){for(var d=0,e;e=a.O[d];d++)if(e.name==c)return e;return null}function bc(a,c){return(a=da(a,c))&&a.connection&&a.connection.ma()}b.Xi=function(a){this.Rd.text!=a&&(h.h.Ha(new h.h.Lh(this,"comment",null,this.Rd.text,a)),this.Rd.text=a)};b.Sk=function(){};b.px=function(){};b.Ma=function(){return this.Nx};
b.moveBy=function(a,c){if(this.Ne)throw Error("Block has parent.");var d=new h.h.nj(this);this.Nx.translate(a,c);d.vh();h.h.Ha(d)};b.Ck=function(a){return new h.ga(this,a)};h.i={};h.i.Ti={};h.i.kl=!1;h.i.register=function(a,c){if(h.i.Ti[a])throw Error("Renderer has already been registered.");h.i.Ti[a]=c};h.i.unregister=function(a){h.i.Ti[a]?delete h.i.Ti[a]:console.warn('No renderer mapping for name "'+a+'" found to unregister')};h.i.vH=function(){h.i.kl=!0};h.i.wH=function(){h.i.kl=!1};h.i.Ia=function(a){function c(d){c.u.constructor.call(this,d)}if(!h.i.Ti[a])throw Error("Renderer not registered: ",a);h.g.object.S(c,h.i.Ti[a]);a=new c(a);a.Ia();return a};h.Aj=function(){this.Dc=this.Qa=this.ib=null;this.type="marker"};function I(a,c){var d=a.Qa;a.Qa=c;a.Dc&&a.Dc.draw(d,a.Qa)}h.Aj.prototype.draw=function(){this.Dc&&this.Dc.draw(this.Qa,this.Qa)};h.Aj.prototype.wa=function(){this.Dc&&this.Dc.wa()};h.Aj.prototype.H=function(){this.Dc&&this.Dc.H()};h.Oh=function(){h.Oh.u.constructor.call(this);this.type="cursor"};h.g.object.S(h.Oh,h.Aj);b=h.Oh.prototype;b.next=function(){var a=this.Qa;if(!a)return null;for(a=a.next();a&&a.next()&&(a.Sa()==h.v.types.jd||a.Sa()==h.v.types.yc);)a=a.next();a&&I(this,a);return a};b.Zf=function(){var a=this.Qa;if(!a)return null;if(a.Sa()==h.v.types.ld||a.Sa()==h.v.types.Kf)a=a.next();(a=a.Zf())&&I(this,a);return a};
b.Gd=function(){var a=this.Qa;if(!a)return null;for(a=a.Gd();a&&a.Gd()&&(a.Sa()==h.v.types.jd||a.Sa()==h.v.types.yc);)a=a.Gd();a&&I(this,a);return a};b.mg=function(){var a=this.Qa;if(!a)return null;(a=a.mg())&&a.Sa()==h.v.types.yc&&(a=a.Gd()||a);a&&I(this,a);return a};
b.ad=function(a){if(this.Qa&&this.Qa.Sa()===h.v.types.Pc&&this.Qa.$.ad(a))return!0;switch(a.name){case h.navigation.ya.ld:return this.Gd(),!0;case h.navigation.ya.Po:return this.mg(),!0;case h.navigation.ya.jd:return this.next(),!0;case h.navigation.ya.Eo:return this.Zf(),!0;default:return!1}};h.Gl=function(){h.Gl.u.constructor.call(this)};h.g.object.S(h.Gl,h.Oh);b=h.Gl.prototype;b.ad=function(a){switch(a.name){case h.navigation.ya.ld:return this.Gd(),!0;case h.navigation.ya.jd:return this.next(),!0;default:return!1}};b.next=function(){var a=this.Qa;if(!a)return null;(a=a.next())&&I(this,a);return a};b.Zf=function(){return null};b.Gd=function(){var a=this.Qa;if(!a)return null;(a=a.Gd())&&I(this,a);return a};b.mg=function(){return null};h.i.rE=function(){};h.g.Sn={};h.g.Sn.sf=function(a){a=a.ba;var c=h.g.style.sf(a);c.height=a.scrollHeight;return c};h.g.Sn.Oz=function(a,c,d){c.left+=d.width;c.right+=d.width;a.left+=d.width;a.right+=d.width};h.xa={};h.xa.sm=null;h.xa.$p=null;h.xa.show=function(a,c,d){h.U.show(h.xa,d,null);if(c.length){var e=h.xa.CC(c,d);h.xa.Pe(e,a,d);setTimeout(function(){e.ba.focus()},1);h.xa.sm=null}else h.xa.wa()};h.xa.CC=function(a,c){var d=new h.Dg;Eb(d,c);for(var e=0,f;f=a[e];e++){var g=new h.Ol(f.text);Eb(g,c);Db(d,g);g.Re(f.enabled);f.enabled&&Qb(g,function(){h.xa.wa();this.Lb()},f)}return d};
h.xa.Pe=function(a,c,d){var e=h.g.uB();c={top:c.clientY+e.top,bottom:c.clientY+e.top,left:c.clientX+e.left,right:c.clientX+e.left};h.xa.AA(a);var f=h.g.Sn.sf(a);d&&h.g.Sn.Oz(e,c,f);h.U.DC(e,c,f,d);a.ba.focus()};h.xa.AA=function(a){a.Aa(h.U.Ua);var c=a.ba;h.g.j.Cb(c,"blocklyContextMenu");h.ua(c,"contextmenu",null,h.g.kC);a.focus()};h.xa.wa=function(){h.U.qk(h.xa);h.xa.sm=null;h.xa.$p&&(h.eb(h.xa.$p),h.xa.$p=null)};
h.xa.tG=function(a,c){return function(){h.h.disable();try{var d=h.L.ri(c,a.B),e=a.Ma();e.x=a.I?e.x-h.cc:e.x+h.cc;e.y+=2*h.cc;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Da&&h.h.Ha(new h.h.xl(d));d.select()}};h.xa.Wz=function(a){var c=p(a,!1).length,d=u(a);d&&(c-=p(d,!1).length);return{text:1==c?h.J.DELETE_BLOCK:h.J.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,Lb:function(){h.h.la(!0);a.H(!0,!0);h.h.la(!1)}}};
h.xa.Yz=function(a){return{enabled:!("function"==typeof a.Ai?!a.Ai():!a.Ai),text:h.J.HELP,Lb:function(){a.showHelp()}}};h.xa.Xz=function(a){var c=Ya(a.B)?Xa(a.B,h.g.hq(a,!0)):!0;return{text:h.J.DUPLICATE_BLOCK,enabled:c,Lb:function(){h.duplicate(a)}}};h.xa.Vz=function(a){var c={enabled:!h.g.userAgent.se};a.Ee?(c.text=h.J.REMOVE_COMMENT,c.Lb=function(){a.Xi(null)}):(c.text=h.J.ADD_COMMENT,c.Lb=function(){a.Xi("")});return c};
h.xa.xG=function(a){return{text:h.J.REMOVE_COMMENT,enabled:!0,Lb:function(){h.h.la(!0);a.H(!0,!0);h.h.la(!1)}}};h.xa.yG=function(a){return{text:h.J.DUPLICATE_COMMENT,enabled:!0,Lb:function(){h.duplicate(a)}}};
h.xa.EH=function(a,c){if(!h.ei)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.se};d.text=h.J.ADD_COMMENT;d.Lb=function(){var e=new h.ei(a,h.J.WORKSPACE_COMMENT_DEFAULT_TEXT,h.ei.zy,h.ei.zy),f=aa(a).getBoundingClientRect();f=new h.g.N(c.clientX-f.left,c.clientY-f.top);var g=h.g.ik(a.lb);f=h.g.N.bk(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.aa&&(e.Di(),e.Aa(),e.select())};return d};h.rb=function(a,c){h.rb.u.constructor.call(this,a,c);this.Je=a.B.pm[c];this.av=a.B.pm[h.Xh[c]];this.hg=new h.g.N(0,0);this.Df=h.rb.ye.tu};h.g.object.S(h.rb,h.ga);h.rb.ye={tu:-1,ku:0,ci:1};b=h.rb.prototype;b.H=function(){h.rb.u.H.call(this);this.Df==h.rb.ye.ci&&cc(this.Je,this,this.y)};b.R=function(){return h.rb.u.R.call(this)};b.ma=function(){return h.rb.u.ma.call(this)};function dc(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function jb(a,c){if(!a.K.B.Gc()){var d=a.K.vc();if(!d.$d){var e=!1;if(!d.Hc()){d=c.R().vc();if(!d.Hc())return;c=a;e=!0}var f=h.selected==d;f||d.dm();var g=c.x+h.cc+Math.floor(Math.random()*h.lo)-a.x,k=c.y+h.cc+Math.floor(Math.random()*h.lo)-a.y;e&&(k=-k);d.I&&(g=c.x-h.cc-Math.floor(Math.random()*h.lo)-a.x);d.moveBy(g,k);f||d.Qk()}}}
b.moveTo=function(a,c){if(this.Df==h.rb.ye.tu){var d=this.Je;d.sb.splice(ec(d,c),0,this);this.Df=h.rb.ye.ci}else this.Df==h.rb.ye.ci&&(cc(this.Je,this,this.y),d=this.Je,d.sb.splice(ec(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function fc(a,c){a.moveTo(c.x+a.hg.x,c.y+a.hg.y)}function gc(a,c,d){a.hg.x=c;a.hg.y=d}
function hc(a){var c=a.ea.x-a.x,d=a.ea.y-a.y;if(0!=c||0!=d){a=a.ma();var e=a.ca();if(!e)throw Error("block is not rendered.");e=h.g.Zd(e);a.ca().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");ta(a,-c,-d)}}
b.closest=function(a,c){var d=this.av;if(d.sb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=ec(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.sb[m].y-this.y)<=a;)l=d.sb[m],this.Xm(l,k)&&(c=l,k=dc(l,this)),m--;for(;g<d.sb.length&&Math.abs(d.sb[g].y-this.y)<=a;)l=d.sb[g],this.Xm(l,k)&&(c=l,k=dc(l,this)),g++;this.x=f;this.y=e;a={connection:c,Jn:k}}else a={connection:null,Jn:a};return a};
function Xb(a,c){c&&a.Df==h.rb.ye.ci||!c&&a.Df==h.rb.ye.ku||a.K.$d||(c?(c=a.Je,c.sb.splice(ec(c,a.y),0,a),a.Df=h.rb.ye.ci):(a.Df==h.rb.ye.ci&&cc(a.Je,a,a.y),a.Df=h.rb.ye.ku))}function Wb(a){Xb(a,!0);var c=[];if(a.type!=h.La&&a.type!=h.za)return c;if(a=a.ma()){if(a.isCollapsed()){var d=[];a.C&&d.push(a.C);a.V&&d.push(a.V);a.T&&d.push(a.T)}else d=a.Xd(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Wb(d[e]));c.length||(c[0]=a)}return c}b.Xm=function(a,c){return dc(this,a)>c?!1:h.rb.u.Xm.call(this,a)};
b.zn=function(a){jb(this,a)};b.Rp=function(a,c){h.rb.u.Rp.call(this,a,c);a.aa&&a.Aa();c.aa&&(Oa(c),c.Aa())};b.Er=function(){var a=this.R(),c=this.Se;if(a.B&&c&&h.h.Xb){h.rb.u.Er.call(this);c=this.ma();if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.Di();c.Aa(!1);a.aa&&a.Aa()}};b.Iw=function(a){return ic(this.av,this,a)};b.Sd=function(a){h.rb.u.Sd.call(this,a);var c=this.R();a=a.R();c.aa&&Oa(c);a.aa&&Oa(a);c.aa&&a.aa&&(this.type==h.za||this.type==h.md?a.Aa():c.Aa())};
b.Mw=function(){!this.isConnected()||this.ea&&Tb(this,this.ea)||(x(B(this)?this.ma():this.K),this.K.qc())};h.vl=function(){h.vl.u.constructor.call(this)};h.g.object.S(h.vl,h.Oh);b=h.vl.prototype;b.next=function(){var a=this.Qa;if(!a)return null;(a=jc(this,a,this.ns))&&I(this,a);return a};b.Zf=function(){return this.next()};b.Gd=function(){var a=this.Qa;if(!a)return null;(a=kc(this,a,this.ns))&&I(this,a);return a};b.mg=function(){return this.Gd()};function jc(a,c,d){if(!c)return null;var e=c.Zf()||c.next();if(d(e))return e;if(e)return jc(a,e,d);c=lc(a,c.mg());return d(c)?c:c?jc(a,c,d):null}
function kc(a,c,d){if(!c)return null;var e=c.Gd();e=e?mc(a,e):c.mg();return d(e)?e:e?kc(a,e,d):null}b.ns=function(a){var c=!1;a=a&&a.Sa();if(a==h.v.types.Kf||a==h.v.types.te||a==h.v.types.Pc||a==h.v.types.jd||a==h.v.types.ld||a==h.v.types.Ae)c=!0;return c};function lc(a,c){if(!c)return null;var d=c.next();return d?d:lc(a,c.mg())}function mc(a,c){if(!c.Zf())return c;for(c=c.Zf();c.next();)c=c.next();return mc(a,c)};h.kp=function(){h.kp.u.constructor.call(this)};h.g.object.S(h.kp,h.vl);h.kp.prototype.ns=function(a){a&&a.Sa();return!1};h.Na=function(a,c,d){this.M=h.g.j.G("g",{},null);this.M.dl="";this.style=nc(a.$a.m,null);this.pb=a.$a.zw(this.M,this.style);this.aa=!1;this.B=a;this.T=this.V=this.C=null;this.ll=h.g.gh()&&!!a.Tc;var e=this.pb.Nc;e.le=this;h.D.ii(e);h.Na.u.constructor.call(this,a,c,d);this.M.dataset&&(this.M.dataset.id=this.id)};h.g.object.S(h.Na,h.wl);h.Na.prototype.height=0;h.Na.prototype.width=0;h.Na.prototype.Oc=null;h.Na.pE=-1;h.Na.Fs="TEMP_COLLAPSED_WARNING_";b=h.Na.prototype;
b.Di=function(){if(!this.B.aa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.O[a];a++)c.Ia();c=A(this);for(a=0;a<c.length;a++)c[a].xA();this.fc();K(this.pb,"blocklyDraggable",this.Hc());a=this.ca();this.B.options.readOnly||this.TA||!a||h.ua(a,"mousedown",this,this.jg);this.TA=!0;a.parentNode||this.B.lb.appendChild(a)};
b.select=function(){if(this.Da&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{fb(h.selected)}finally{h.h.enable()}}a=new h.h.dc(null,"selected",a,this.id);a.wb=this.B.id;h.h.Ha(a);h.selected=this;this.dm()}};function fb(a){if(h.selected==a){var c=new h.h.dc(null,"selected",a.id,null);c.wb=a.B.id;h.h.Ha(c);h.selected=null;a.Qk()}}b.ae=null;b.Ee=null;b.dd=null;
function A(a){var c=[];a.ae&&c.push(a.ae);a.Ee&&c.push(a.Ee);a.dd&&c.push(a.dd);return c}b.aj=function(a){var c=this.Ne;if(a!=c){h.g.j.Yk();h.Na.u.aj.call(this,a);h.g.j.Zk();var d=this.ca();if(!this.B.Eq&&d){var e=this.Ma();a?(a.ca().appendChild(d),a=this.Ma(),ta(this,a.x-e.x,a.y-e.y)):c&&(this.B.lb.appendChild(d),this.translate(e.x,e.y));this.fc()}}};
b.Ma=function(){var a=0,c=0,d=this.ll?this.B.Tc.Jb():null,e=this.ca();if(e){do{var f=h.g.Zd(e);a+=f.x;c+=f.y;this.ll&&this.B.Tc.Wd.firstChild==e&&(f=this.B.Tc.oq(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.B.lb&&e!=d)}return new h.g.N(a,c)};b.moveBy=function(a,c){if(this.Ne)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new h.h.nj(this);var f=this.Ma();this.translate(f.x+a,f.y+c);ta(this,a,c);d&&(e.vh(),h.h.Ha(e));Pa(this.B)};
b.translate=function(a,c){this.ca().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Ma();this.moveBy(a.x-c.x,a.y-c.y)};b.Xq=function(a){this.ll?this.B.Tc.Eh(a.x,a.y):(this.M.dl="translate("+a.x+","+a.y+")",this.M.setAttribute("transform",this.M.dl+this.M.Xk))};
function oc(a){if(a.B&&!a.B.Gc()&&!a.getParent()&&!a.$d){var c=a.B.ud;if(c&&c.WC){var d=c.Tr,e=d/2,f=a.Ma();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function pc(a){var c=a.Ma(),d=z(a);if(a.I){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.Dk=function(){for(var a=0,c;c=this.O[a];a++)c.Dk()};
b.rg=function(a){if(this.De!=a){for(var c=[],d=0,e;e=this.O[d];d++)c.push.apply(c,e.Lc(!a));if(a){e=A(this);for(d=0;d<e.length;d++)e[d].Lc(!1);d=this.toString(h.ny);J($b(this,"_TEMP_COLLAPSED_INPUT"),d).Ia();e=p(this,!0);if(d=u(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.dd){this.Sk(h.J.COLLAPSED_WARNINGS_WARNING,h.Na.Fs);break}}else this.Ar("_TEMP_COLLAPSED_INPUT"),this.dd&&(zb(),Object.keys(this.dd.zH).length||this.Sk(null));h.Na.u.rg.call(this,a);c.length||(c[0]=this);
if(this.aa)for(d=0;f=c[d];d++)f.Aa()}};b.jg=function(a){var c=this.B&&this.B.Vf(a);if(c){if(c.bh)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");sb(c,this);c.Dd=a}};b.showHelp=function(){var a="function"==typeof this.Ai?this.Ai():this.Ai;a&&window.open(a)};
function qc(a){if(a.B.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.$d){a.Zc()&&a.Hc()&&c.push(h.xa.Xz(a));a.B.options.nA&&!a.De&&a.Gi()&&c.push(h.xa.Vz(a));if(a.Hc())if(a.De)a.B.options.collapse&&(d={enabled:!0},d.text=h.J.EXPAND_BLOCK,d.Lb=function(){a.rg(!1)},c.push(d));else{for(var d=1;d<a.O.length;d++)if(a.O[d-1].type!=h.za&&a.O[d].type!=h.za){d={enabled:!0};var e=Ub(a);d.text=e?h.J.EXTERNAL_INPUTS:h.J.INLINE_INPUTS;d.Lb=function(){a.Yi(!e)};c.push(d);break}a.B.options.collapse&&
(d={enabled:!0},d.text=h.J.COLLAPSE_BLOCK,d.Lb=function(){a.rg(!0)},c.push(d))}a.B.options.disable&&a.Gi()&&(d={text:a.isEnabled()?h.J.DISABLE_BLOCK:h.J.ENABLE_BLOCK,enabled:!Zb(a),Lb:function(){var f=h.h.Jb();f||h.h.la(!0);a.Re(!a.isEnabled());f||h.h.la(!1)}},c.push(d));a.Zc()&&c.push(h.xa.Wz(a))}c.push(h.xa.Yz(a));a.BA&&a.BA(c);return c}b.Tk=function(a){var c=qc(this);c&&c.length&&(h.xa.show(a,c,this.I),h.xa.sm=this)};
function ta(a,c,d){if(a.aa){for(var e=a.Xd(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=A(a);for(f=0;f<e.length;f++)e[f].qA();for(f=0;f<a.kf.length;f++)ta(a.kf[f],c,d)}}b.sg=function(a){if(a){var c=this.ca();c.dl="";c.Xk="";h.ck=h.ck.concat(this.Xd(!0));h.g.j.Cb(this.M,"blocklyDragging")}else h.ck=[],h.g.j.bd(this.M,"blocklyDragging");for(c=0;c<this.kf.length;c++)this.kf[c].sg(a)};b.Kr=function(a){h.Na.u.Kr.call(this,a);K(this.pb,"blocklyDraggable",a)};
b.Jr=function(a){h.Na.u.Jr.call(this,a);a=A(this);for(var c=0;c<a.length;c++)ub(a[c])};b.Mr=function(a){h.Na.u.Mr.call(this,a);this.fc()};b.nx=function(a){this.yk!=a&&(this.yk=a)&&(this.ge(h.Uy),K(this.pb,"blocklyInsertionMarker",!0))};b.ca=function(){return this.M};
b.H=function(a,c){if(this.B){h.D.wa();h.g.j.Yk();var d=this.B;if(h.selected==this){fb(this);var e=this.B;e.Nb&&e.Nb.cancel()}h.xa.sm==this&&h.xa.wa();this.B.Le&&h.navigation.cC(this);c&&this.aa&&(x(this,a),h.Va.KA(this));this.aa=!1;if(this.Oc){for(var f in this.Oc)clearTimeout(this.Oc[f]);this.Oc=null}c=A(this);for(e=0;e<c.length;e++)c[e].H();h.Na.u.H.call(this,!!a);h.g.j.removeNode(this.M);Pa(d);this.M=null;h.g.j.Zk()}};
b.fc=function(){this.pb.fc(this);for(var a=A(this),c=0;c<a.length;c++)a[c].fc();for(a=0;c=this.O[a];a++)for(var d=0,e;e=c.Ra[d];d++)e.fc()};function Oa(a){var c=Qa(a,!1);a.fc();a=0;for(var d;d=c[a];a++)Oa(d)}b.hB=function(){return this.Ee};b.Xi=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.Rd.text!=a&&(h.Na.u.Xi.call(this,a),a=null!=a,!!this.Ee==a?this.Ee.DH():(a?this.Ee=new h.Comment(this):(this.Ee.H(),this.Ee=null),this.aa&&(this.Aa(),this.qc())))};
b.Sk=function(a,c){if(!h.Cz)throw Error("Missing require for Blockly.Warning");this.Oc||(this.Oc=Object.create(null));var d=c||"";if(d)this.Oc[d]&&(clearTimeout(this.Oc[d]),delete this.Oc[d]);else for(var e in this.Oc)clearTimeout(this.Oc[e]),delete this.Oc[e];if(this.B.Gc()){var f=this;this.Oc[d]=setTimeout(function(){f.B&&(delete f.Oc[d],f.Sk(a,d))},100)}else{this.$d&&(a=null);c=Yb(this);for(e=null;c;)c.isCollapsed()&&(e=c),c=Yb(c);e&&e.Sk(h.J.COLLAPSED_WARNINGS_WARNING,h.Na.Fs);c=!1;"string"==
typeof a?(this.dd||(this.dd=new h.Cz(this),c=!0),zb()):this.dd&&!d?(this.dd.H(),c=!0):this.dd&&(c=yb(this.dd),zb(),(e=yb(this.dd))||this.dd.H(),c=c!=e);c&&this.aa&&(this.Aa(),this.qc())}};b.px=function(a){this.ae&&this.ae!==a&&this.ae.H();a&&(a.pH(this),this.ae=a,a.xA());this.aa&&(this.Aa(),this.qc())};b.Re=function(a){this.isEnabled()!=a&&(h.Na.u.Re.call(this,a),this.aa&&Oa(this))};
b.zf=function(a){if(this.aa){var c=this.pb;a?c.Nc.setAttribute("filter","url(#"+c.m.Yp+")"):c.Nc.setAttribute("filter","none")}};b.dm=function(){this.pb.ks(!0)};b.Qk=function(){this.pb.ks(!1)};function qa(a,c){K(a.pb,"blocklyDraggingDelete",c)}b.iq=function(){return this.style.mi};b.ge=function(a){h.Na.u.ge.call(this,a);var c=this.B.$a.m;var d=this.rd;a="auto_"+d;c.Lg[a]||(c.Lg[a]=rc(c,{colourPrimary:d}));c=c.Lg[a];this.pb.cj(c);this.style=c;this.$k=a;this.fc()};
b.cj=function(a){var c=nc(this.B.$a.m,a);this.$k=a;if(c)this.wd=c.wd,this.pb.cj(c),this.rd=c.mi,this.style=c,this.fc();else throw Error("Invalid style name: "+a);};function ua(a){do{var c=a.ca(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Ah=function(a,c){h.Na.u.Ah.call(this,a,c);this.aa&&(this.Aa(),this.qc())};b.$i=function(a,c){h.Na.u.$i.call(this,a,c);this.aa&&(this.Aa(),this.qc())};
b.Lr=function(a,c){h.Na.u.Lr.call(this,a,c);this.aa&&(this.Aa(),this.qc())};b.Yi=function(a){h.Na.u.Yi.call(this,a);this.aa&&(this.Aa(),this.qc())};b.Ar=function(a,c){h.Na.u.Ar.call(this,a,c);this.aa&&(this.Aa(),this.qc())};b.jf=function(a,c){a=h.Na.u.jf.call(this,a,c);this.aa&&(this.Aa(),this.qc());return a};function Na(a,c){a.T&&Xb(a.T,c);a.C&&Xb(a.C,c);if(a.V){Xb(a.V,c);var d=a.V.ma();d&&Na(d,c)}if(!a.De)for(d=0;d<a.O.length;d++){var e=a.O[d].connection;e&&(Xb(e,c),(e=e.ma())&&Na(e,c))}}
b.Xd=function(a){var c=[];if(a||this.aa)if(this.C&&c.push(this.C),this.T&&c.push(this.T),this.V&&c.push(this.V),a||!this.De){a=0;for(var d;d=this.O[a];a++)d.connection&&c.push(d.connection)}return c};b.Hq=function(){return h.Na.u.Hq.call(this)};b.lq=function(a,c){return h.Na.u.lq.call(this,a,c)};b.Ck=function(a){return new h.rb(this,a)};
b.qc=function(){if(this.B&&!this.B.Gc()){var a=this.vc();if(!a.$d)for(var c=this.Xd(!1),d=0,e;e=c[d];d++){e.isConnected()&&B(e)&&e.ma().qc();for(var f=e.Iw(h.cc),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.R().vc()!=a&&(B(e)?jb(k,e):jb(e,k))}}};function va(a){var c=h.h.Jb();setTimeout(function(){h.h.la(c);oc(a);h.h.la(!1)},h.jo/2);setTimeout(function(){h.h.la(c);a.qc();h.h.la(!1)},h.jo)}function na(a,c,d){c.type!=h.za&&c.type!=h.La||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return h.Na.u.getParent.call(this)};
b.vc=function(){return h.Na.u.vc.call(this)};b.Aa=function(a){h.g.j.Yk();this.aa=!0;this.B.$a.Aa(this);var c=this.Ma();this.T&&fc(this.T,c);this.C&&fc(this.C,c);for(var d=0;d<this.O.length;d++){var e=this.O[d].connection;e&&(fc(e,c),e.isConnected()&&hc(e))}this.V&&(fc(this.V,c),this.V.isConnected()&&hc(this.V));!1!==a&&((a=this.getParent())?a.Aa(!0):Pa(this.B));h.g.j.Zk();a=this.B.tb();this.pb.Wc&&a.draw()};b.yf=function(a){this.pb.yf(a)};b.Af=function(a){this.pb.Af(a)};
function z(a){var c=a.height,d=a.width,e=u(a);e&&(e=z(e),c+=e.height-a.B.$a.m.Wh,d=Math.max(d,e.width));return{height:c,width:d}};h.Nh=function(){this.sb=[]};function sc(a,c,d){if(!a.sb.length)return-1;var e=ec(a,d);if(e>=a.sb.length)return-1;d=c.y;for(var f=e;0<=f&&a.sb[f].y==d;){if(a.sb[f]==c)return f;f--}for(;e<a.sb.length&&a.sb[e].y==d;){if(a.sb[e]==c)return e;e++}return-1}function ec(a,c){if(!a.sb.length)return 0;for(var d=0,e=a.sb.length;d<e;){var f=Math.floor((d+e)/2);if(a.sb[f].y<c)d=f+1;else if(a.sb[f].y>c)e=f;else{d=f;break}}return d}
function cc(a,c,d){c=sc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.sb.splice(c,1)}function ic(a,c,d){function e(n){var q=g-f[n].x,r=k-f[n].y;Math.sqrt(q*q+r*r)<=d&&m.push(f[n]);return r<d}var f=a.sb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}h.Nh.Ia=function(){var a=[];a[h.La]=new h.Nh;a[h.Qc]=new h.Nh;a[h.za]=new h.Nh;a[h.md]=new h.Nh;return a};h.Cg=function(a,c){this.yi=a;this.Tr=c.spacing;this.uw=c.length;this.TB=(this.Nq=a.firstChild)&&this.Nq.nextSibling;this.WC=c.snap};h.Cg.prototype.qg=1;h.Cg.prototype.H=function(){this.yi=null};h.Cg.prototype.update=function(a){this.qg=a;var c=this.Tr*a||100;this.yi.setAttribute("width",c);this.yi.setAttribute("height",c);c=Math.floor(this.Tr/2)+.5;var d=c-this.uw/2,e=c+this.uw/2;c*=a;d*=a;e*=a;tc(this.Nq,a,d,e,c,c);tc(this.TB,a,c,c,d,e)};
function tc(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.Cg.prototype.moveTo=function(a,c){this.yi.setAttribute("x",a);this.yi.setAttribute("y",c);(h.g.userAgent.se||h.g.userAgent.Bg)&&this.update(this.qg)};
h.Cg.Ga=function(a,c,d){a=h.g.j.G("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.G("line",{stroke:c.colour},a),1<c.length&&h.g.j.G("line",{stroke:c.colour},a)):h.g.j.G("line",{},a);return a};h.zt=function(a){this.Wc=this.Ud=null;this.oh={};this.o=a};function uc(a,c){var d=a.oh[c];if(d)d.H(),delete a.oh[c];else throw Error("Marker with id "+c+" does not exist. Can only unregistermarkers that exist.");}b=h.zt.prototype;b.tb=function(){return this.Ud};b.td=function(a){return this.oh[a]};b.Ir=function(a){this.Ud&&this.Ud.Dc&&this.Ud.Dc.H();if(this.Ud=a)a=this.o.$a.Rq(this.o,this.Ud),this.Ud.Dc=a,this.yf(this.Ud.Dc.Ga())};b.yf=function(a){a?(this.o.lb.appendChild(a),this.Wc=a):this.Wc=null};
b.Af=function(a){a?this.o.lb&&(this.Wc?this.o.lb.insertBefore(a,this.Wc):this.o.lb.appendChild(a)):this.Bd=null};b.H=function(){for(var a=Object.keys(this.oh),c=0,d;d=a[c];c++)uc(this,d);this.oh=null;this.Ud.H();this.Ud=null};h.Gj=function(a,c){this.o=a;this.Qn=c;this.On=[];this.Rf=Object.create(null)};h.Gj.prototype.$g=function(){return this.Qn};h.Gj.prototype.subscribe=function(a,c,d){this.Rf[c]||(this.Rf[c]=[]);this.Rf[c].push({element:a,propertyName:d});a.style[d]=this.Qn&&Ka(this.Qn,c)||""};h.Gj.prototype.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Rf),d=0,e;e=c[d];d++){for(var f=this.Rf[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.Rf[e].length||delete this.Rf[e]}};
h.Gj.prototype.H=function(){this.Rf=this.On=this.Qn=this.Ic=null};h.Ac=function(a,c){h.Ac.u.constructor.call(this,a,c);this.gn=!1;this.Uc=Object.create(null);this.wx=this.Nk=0;this.ow=this.jr=null};h.g.object.S(h.Ac,h.Rh);h.Ac.Iz=5;h.Ac.Jz=6;b=h.Ac.prototype;b.Wp=function(a){this.ow=this.Eb.options.Ta&&this.Eb.options.Ta.vr;h.Ac.u.Wp.call(this,a);!this.Zm&&h.Touch.nn(a)&&vc(this,a)};
b.ii=function(a){this.jr=h.ua(document,"mousedown",null,this.CB.bind(this),!0);this.Bn=h.ua(document,"mousemove",null,this.zi.bind(this),!0);this.Cn=h.ua(document,"mouseup",null,this.Qm.bind(this),!0);a.preventDefault();a.stopPropagation()};b.CB=function(a){!this.Gc()&&h.Touch.nn(a)&&(vc(this,a),this.gn&&h.eg())};
b.zi=function(a){if(this.Gc())h.Touch.Pr(a)&&h.Ac.u.zi.call(this,a);else if(this.gn){if(h.Touch.nn(a)){this.Uc[h.Touch.Om(a)]=wc(this,a);var c=Object.keys(this.Uc);if(this.ow&&2===c.length){c=Object.keys(this.Uc);c=h.g.N.Vp(this.Uc[c[0]],this.Uc[c[1]])/this.wx;if(0<this.Nk&&Infinity>this.Nk){var d=c-this.Nk;d=0<d?d*h.Ac.Iz:d*h.Ac.Jz;var e=this.Eb,f=h.g.Ik(a,y(e),Ha(e));e.zoom(f.x,f.y,d)}this.Nk=c;a.preventDefault()}else h.Ac.u.zi.call(this,a)}h.eg()}else h.Ac.u.zi.call(this,a)};
b.Qm=function(a){if(h.Touch.nn(a)&&!this.Gc()){var c=h.Touch.Om(a);this.Uc[c]&&delete this.Uc[c];2>Object.keys(this.Uc).length&&(this.Uc=Object.create(null),this.Nk=0)}!this.gn||this.Gc()?h.Touch.Pr(a)&&h.Ac.u.Qm.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Ac.u.H.call(this);this.jr&&h.eb(this.jr)};function vc(a,c){a.Uc[h.Touch.Om(c)]=wc(a,c);var d=Object.keys(a.Uc);2==d.length&&(a.wx=h.g.N.Vp(a.Uc[d[0]],a.Uc[d[1]]),a.gn=!0,c.preventDefault())}
function wc(a,c){return a.Eb?new h.g.N(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};h.wu=function(a){this.mr=a;this.Ej=Object.create(null)};b=h.wu.prototype;b.Jq=null;b.H=function(){this.Ej=this.mr=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Ej[c]=e)}};
b.preload=function(){for(var a in this.Ej){var c=this.Ej[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.wj||h.g.userAgent.jt)break}};b.play=function(a,c){var d=this.Ej[a];d?(a=new Date,null!=this.Jq&&a-this.Jq<h.rz||(this.Jq=a,d=h.g.userAgent.wj||h.g.userAgent.ql?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.mr&&this.mr.Bc.play(a,c)};h.xu=function(a){this.Wj=a;this.Ga()};b=h.xu.prototype;b.cb=null;b.Wd=null;b.Wj=null;b.Ga=function(){this.cb||(this.cb=h.g.j.G("svg",{xmlns:h.g.j.Zl,"xmlns:html":h.g.j.Bo,"xmlns:xlink":h.g.j.Sc,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Wj.appendChild(this.cb))};b.Eh=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.cb.style.display="block";h.g.j.Rk(this.cb,"translate3d("+a+"px, "+c+"px, 0px)")};b.oq=function(){return h.g.Zd(this.cb)};
b.lm=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.cb.childNodes[0],d=this.cb.childNodes[1];if(!(c&&d&&h.g.j.Xv(c,"blocklyBlockCanvas")&&h.g.j.Xv(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.xr?h.g.j.Ei(c,this.xr):a.insertBefore(c,a.firstChild);h.g.j.Ei(d,c);this.cb.style.display="none";if(this.cb.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.Rk(this.cb,
"");this.xr=null};/*

 Copyright 2014 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.Xa=function(a,c,d){h.Xa.u.constructor.call(this,a);this.Yc=a.Yc||h.Xa.tB;this.Zi=a.Zi||h.Xa.RC;this.pm=h.Nh.Ia();c&&(this.Tc=c);d&&(this.Ih=d);this.Tn=!!this.Ih&&h.g.gh();this.tk=[];this.Bc=new h.wu(a.Fd);this.ud=this.options.tq?new h.Cg(a.tq,a.Tv):null;this.Ad=new h.zt(this);h.X&&h.X.Xg&&xc(this,h.di,h.X.Xg);h.pu&&h.pu.Xg&&xc(this,h.Bz,h.pu.Xg);h.Pa&&h.Pa.Xg&&(xc(this,h.Nt,h.Pa.Xg),F(this,h.Pa.eC));this.kc=this.options.Fd?this.options.Fd.kc:new h.Gj(this,this.options.cD||h.Mf.zg);this.$a=h.i.Ia(this.options.Kn||
"geras");this.yp=null;this.kc.On.push(this);this.$a.m.zr(this.$g());this.Le=!1};h.g.object.S(h.Xa,h.gb);b=h.Xa.prototype;b.Ln=null;b.aa=!0;b.cg=!0;b.vf=!1;b.hn=!1;b.Dr=!0;b.scrollX=0;b.scrollY=0;b.ov=null;b.scale=1;b.ac=null;b.yb=null;b.Y=null;b.qa=null;b.Nb=null;b.Tc=null;b.Ih=null;b.Tn=!1;b.Ym=!1;b.Cq=null;b.sw=null;b.uv={};b.fs={};b.Ch=null;b.jw=null;b.Dq=!0;b.yf=function(a){this.Ad.yf(a)};b.Af=function(a){this.Ad.Af(a)};b.td=function(a){return this.Ad?this.Ad.td(a):null};
b.tb=function(){return this.Ad?this.Ad.tb():null};b.$g=function(){return this.kc.$g()};b.zr=function(){this.$a.m.zr(this.$g());yc(E(this,!1).filter(function(c){return void 0!==c.$k}));zc(this);this.qa&&this.qa.CH();var a=new h.h.dc(null,"theme",null,null);a.wb=this.id;h.h.Ha(a)};function yc(a){for(var c=0,d;d=a[c];c++){var e=d.$k;e&&(d.cj(e),d.ae&&d.ae.BH())}}function Ha(a){if(a.Dq){var c=y(a).getScreenCTM();c&&(a.jw=c.inverse(),a.Dq=!1)}return a.jw}b.jl=function(){this.Dq=!0};b.isVisible=function(){return this.cg};
function ia(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.lb,c)||h.g.j.containsNode(a.Bf,c))f=a.scale;do{var g=h.g.Zd(c);if(c==a.lb||c==a.Bf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=y(a));return new h.g.N(d,e)}function aa(a){if(!a.Cq)for(var c=a.M;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Cq=c;break}c=c.parentNode}return a.Cq}
b.Ga=function(a){this.M=h.g.j.G("g",{"class":"blocklyWorkspace"},null);a&&(this.Zb=h.g.j.G("rect",{height:"100%",width:"100%","class":a},this.M),"blocklyMainBackground"==a&&this.ud?this.Zb.style.fill="url(#"+this.ud.yi.id+")":this.kc.subscribe(this.Zb,"workspaceBackgroundColour","fill"));this.lb=h.g.j.G("g",{"class":"blocklyBlockCanvas"},this.M);this.Bf=h.g.j.G("g",{"class":"blocklyBubbleCanvas"},this.M);this.vf||(h.ua(this.M,"mousedown",this,this.jg,!1,!0),h.ua(this.M,"wheel",this,this.uC));if(this.options.Wv){if(!h.yz)throw Error("Missing require for Blockly.Toolbox");
this.qa=new h.yz(this)}this.ud&&this.ud.update(this.scale);Ac(this);this.Ad.Ir(new h.Oh);a=this.Ad;var c=h.navigation.Mo,d=new h.Aj;a.oh[c]&&uc(a,c);var e=a.o.$a.Rq(a.o,d);d.Dc=e;a.Af(d.Dc.Ga());a.oh[c]=d;a=this.$a.m;c=this.$a.name;d=a.Dv(c);c="blockly-renderer-style-"+c;document.getElementById(c)||(e=d.join("\n"),d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild));a.Ga(this.M);return this.M};
b.H=function(){this.aa=!1;this.Nb&&this.Nb.cancel();this.M&&(h.g.j.removeNode(this.M),this.M=null);this.Bf=this.lb=null;this.qa&&(this.qa.H(),this.qa=null);this.Y&&(this.Y.H(),this.Y=null);this.ac&&(this.ac.H(),this.ac=null);this.yb&&(this.yb.H(),this.yb=null);this.Kh&&(this.Kh.H(),this.Kh=null);this.Bc&&(this.Bc.H(),this.Bc=null);this.ud&&(this.ud.H(),this.ud=null);this.$a.m.H();if(this.kc){var a=this.kc,c=a.On.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.On.splice(c,1);this.kc.unsubscribe(this.Zb);this.options.Fd||(this.kc.H(),this.kc=null)}this.Ad&&(this.Ad.H(),this.Ad=null);h.Xa.u.H.call(this);this.uv=this.fs=this.pm=null;this.options.Fd||(a=y(this).parentNode)&&h.g.j.removeNode(a);this.Ln&&(h.eb(this.Ln),this.Ln=null)};b.Yq=function(a,c){return new h.Na(this,a,c)};function Bc(a){if(!h.mp)throw Error("Missing require for Blockly.Trashcan");a.ac=new h.mp(a);var c=a.ac.Ga();a.M.insertBefore(c,a.lb)}
function Cc(a){if(!h.Kz)throw Error("Missing require for Blockly.ZoomControls");a.Kh=new h.Kz(a);var c=a.Kh.Ga();a.M.appendChild(c)}function Dc(a){var c=new h.oc({parentWorkspace:a,rtl:a.I,oneBasedIndex:a.options.Dn,horizontalLayout:a.dh,renderer:a.options.Kn});c.ab=a.options.ab;if(a.dh){if(!h.Do)throw Error("Missing require for Blockly.HorizontalFlyout");a.Y=new h.Do(c)}else{if(!h.Kg)throw Error("Missing require for Blockly.VerticalFlyout");a.Y=new h.Kg(c)}a.Y.gi=!1;return a.Y.Ga("svg")}
function G(a,c){return a.Y||c?a.Y:a.qa?G(a.qa):null}function Pa(a){a.Dr&&a.aa&&(a.yb&&a.yb.resize(),a.jl())}b.resize=function(){this.qa&&this.qa.position();this.Y&&this.Y.position();this.ac&&this.ac.position();this.Kh&&this.Kh.position();this.yb&&this.yb.resize();this.jl();Ac(this)};function nb(a){var c=h.g.nB();h.g.N.qf(a.sw,c)||(a.sw=c,a.jl(),Ac(a))}function y(a){if(!a.yp)for(var c=a.M;c;){if("svg"==c.tagName){a.yp=c;break}c=c.parentNode}return a.yp}
b.translate=function(a,c){if(this.Tn&&this.Ym)this.Ih.Eh(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.lb.setAttribute("transform",d);this.Bf.setAttribute("transform",d)}if(this.Tc){d=this.Tc;var e=this.scale;d.qg=e;d.Wd.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.ud&&this.ud.moveTo(a,c)};
function Ja(a){if(a.Tn){a.Ym=!1;var c=a.Ih.oq();a.Ih.lm(a.M);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.lb.setAttribute("transform",c);a.Bf.setAttribute("transform",c)}}
function Ia(a){if(a.Tn&&!a.Ym){a.Ym=!0;var c=a.lb.previousSibling,d=parseInt(y(a).getAttribute("width"),10),e=parseInt(y(a).getAttribute("height"),10),f=h.g.Zd(a.lb),g=a.Ih,k=a.lb,l=a.Bf,m=a.scale;if(g.cb.childNodes.length)throw Error("Already dragging a block.");g.xr=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.cb.setAttribute("width",d);g.cb.setAttribute("height",e);g.cb.appendChild(k);g.cb.appendChild(l);g.cb.style.display=
"block";a.Ih.Eh(f.x,f.y)}}b.jk=function(){var a=this.Yc();return a?a.qb/this.scale:0};b.Lc=function(a){this.yb&&this.yb.zh(a);G(this)&&G(this).zh(a);y(this).style.display=a?"block":"none";this.qa&&(this.qa.oE.style.display=a?"block":"none");if(a){for(var c=E(this,!1),d=c.length-1;0<=d;d--)c[d].Dk();this.Aa();this.qa&&this.qa.position()}else h.jc(!0);this.cg=a};b.Aa=function(){for(var a=E(this,!1),c=a.length-1;0<=c;c--)a[c].Aa(!1);if(this.Nb)for(a=this.Nb.wi(),c=0;c<a.length;c++)a[c].Aa(!1)};
function Ec(a,c){var d=D;if(void 0===c){for(var e=0,f;f=d.tk[e];e++)f.zf(!1);d.tk.length=0}if(f=a?d.uc(a):null)(a=void 0===c||c)?-1==d.tk.indexOf(f)&&d.tk.push(f):h.g.fm(d.tk,f),f.zf(a)}
function Fc(a){var c=h.Sj;if(a.aa&&!(c.getElementsByTagName("block").length>=Wa(a)))if(a.Nb&&a.Nb.cancel(),"comment"==c.tagName.toLowerCase()){h.h.disable();try{h.ei.setValue(c.textContent);var d=void 0;var e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.I&&(e=-e),d.moveBy(e+50,f+50))}finally{h.h.enable()}d.select()}else a:{h.h.disable();try{var g=h.L.ri(c,a),k=a.td(h.navigation.Mo).Qa;if(a.Le&&k&&k.Fi){h.navigation.iw(g,k.$);break a}var l=parseInt(c.getAttribute("x"),
10),m=parseInt(c.getAttribute("y"),10);if(!isNaN(l)&&!isNaN(m)){a.I&&(l=-l);do{c=!1;var n=E(a,!1);d=0;for(var q;q=n[d];d++){var r=q.Ma();if(1>=Math.abs(l-r.x)&&1>=Math.abs(m-r.y)){c=!0;break}}if(!c){var t=g.Xd(!1);d=0;for(var v;v=t[d];d++)if(v.closest(h.cc,new h.g.N(l,m)).connection){c=!0;break}}c&&(l=a.I?l-h.cc:l+h.cc,m+=2*h.cc)}while(c);g.moveBy(l,m)}}finally{h.h.enable()}h.h.isEnabled()&&!g.Da&&h.h.Ha(new h.h.xl(g));g.select()}}function zc(a){(a=a.vf?a.Ch:a)&&!a.Nb&&a.qa&&G(a.qa)&&a.qa.eH()}
b.xh=function(a,c){h.Xa.u.xh.call(this,a,c);zc(this)};b.oi=function(a){h.Xa.u.oi.call(this,a);zc(this)};b.Td=function(a,c,d){a=h.Xa.u.Td.call(this,a,c,d);zc(this);return a};function Ac(a){a.fv=a.ac&&a.M.parentNode?a.ac.Jm():null;a.ev=a.Y?a.Y.Jm():a.qa?a.qa.Jm():null}function pa(a,c){return a.fv&&a.fv.contains(c.clientX,c.clientY)?h.oo:a.ev&&a.ev.contains(c.clientX,c.clientY)?h.Ps:h.Os}b.jg=function(a){var c=this.Vf(a);c&&qb(c,a,this)};
b.Ur=function(a,c){a=h.g.Ik(a,y(this),Ha(this));a.x/=this.scale;a.y/=this.scale;this.ov=h.g.N.bk(c,a)};b.Gc=function(){return null!=this.Nb&&this.Nb.Gc()};function Gc(a){return a.options.Pb&&a.options.Pb.scrollbars||a.options.Pb&&a.options.Pb.wg||a.options.Pb&&a.options.Pb.Uf||a.options.Ta&&a.options.Ta.controls||a.options.Ta&&a.options.Ta.wg||a.options.Ta&&a.options.Ta.vr}
b.Hc=function(){return this.options.Pb&&this.options.Pb.scrollbars||this.options.Pb&&this.options.Pb.wg||this.options.Pb&&this.options.Pb.Uf||this.options.Ta&&this.options.Ta.wg||this.options.Ta&&this.options.Ta.vr};
b.uC=function(a){if(h.Rh.yq())a.preventDefault(),a.stopPropagation();else{var c=this.options.Ta&&this.options.Ta.wg,d=this.options.Pb&&this.options.Pb.wg;if(c||d){var e=h.g.Mv(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.Ik(a,y(this),Ha(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function Ma(a){var c=a.ob(!1);a=La(a,!1);c=c.concat(a);if(!c.length)return new h.g.Rect(0,0,0,0);a=pc(c[0]);for(var d=1;d<c.length;d++){var e=pc(c[d]);e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}b.kA=function(){this.Sb(!1);h.h.la(!0);for(var a=this.ob(!0),c=0,d=0,e;e=a[d];d++)if(e.Hc()){var f=e.Ma();e.moveBy(-f.x,c-f.y);oc(e);c=e.Ma().y+z(e).height+this.$a.m.Nl}h.h.la(!1);this.Sb(!0)};
b.Tk=function(a){function c(v){if(v.Zc())t=t.concat(p(v,!1));else{v=Qa(v,!1);for(var H=0;H<v.length;H++)c(v[H])}}function d(){h.h.la(g);var v=t.shift();v&&(v.B?(v.H(!1,!0),setTimeout(d,10)):d());h.h.la(!1)}if(!this.options.readOnly&&!this.vf){var e=[],f=this.ob(!0),g=h.g.rf(),k=this,l={};l.text=h.J.UNDO;l.enabled=0<this.Fh.length;l.Lb=this.hs.bind(this,!1);e.push(l);l={};l.text=h.J.REDO;l.enabled=0<this.Pk.length;l.Lb=this.hs.bind(this,!0);e.push(l);this.Hc()&&(l={},l.text=h.J.CLEAN_UP,l.enabled=
1<f.length,l.Lb=this.kA.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var q=f[n];q;)q.isCollapsed()?l=!0:m=!0,q=u(q);var r=function(v){for(var H=0,S=0;S<f.length;S++)for(var ja=f[S];ja;)setTimeout(ja.rg.bind(ja,v),H),ja=u(ja),H+=10};m={enabled:m};m.text=h.J.COLLAPSE_ALL;m.Lb=function(){r(!0)};e.push(m);l={enabled:l};l.text=h.J.EXPAND_ALL;l.Lb=function(){r(!1)};e.push(l)}var t=[];for(n=0;n<f.length;n++)c(f[n]);l={text:1==t.length?h.J.DELETE_BLOCK:h.J.DELETE_X_BLOCKS.replace("%1",
String(t.length)),enabled:0<t.length,Lb:function(){k.Nb&&k.Nb.cancel();2>t.length?d():h.confirm(h.J.DELETE_ALL_BLOCKS.replace("%1",t.length),function(v){v&&d()})}};e.push(l);this.rA&&this.rA(e);h.xa.show(a,e,this.I)}};function Ga(a){if(a.options.Fd)Ga(a.options.Fd);else{h.Bk=a;document.activeElement&&document.activeElement.blur();try{y(a).focus({preventScroll:!0})}catch(c){try{y(a).parentNode.setActive()}catch(d){y(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.Ta.KC,d);var e=this.scale*d;if(this.scale!=e){e>this.options.Ta.Gk?d=this.options.Ta.Gk/this.scale:e<this.options.Ta.Hk&&(d=this.options.Ta.Hk/this.scale);var f=this.lb.getCTM(),g=y(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.Ta.Gk&&a>this.options.Ta.Gk?a=this.options.Ta.Gk:this.options.Ta.Hk&&a<this.options.Ta.Hk&&(a=this.options.Ta.Hk);this.scale=a;h.jc(!1);this.Y&&(this.Y.yr(),Ac(this));this.ud&&this.ud.update(this.scale);a=this.Yc();this.scrollX-=a.ec;this.scrollY-=a.pc;a.Ab+=a.ec;a.Gb+=a.pc;this.scroll(this.scrollX,this.scrollY);this.yb&&(this.Y?(Aa(this.yb.vd,a),Ba(this.yb.Id,a)):(Da(this.yb.vd,a),Fa(this.yb.Id,a)))};
b.scroll=function(a,c){h.jc(!0);var d=this.Yc(),e=d.He+d.rc-d.qb,f=d.sd+d.ic-d.zb;a=Math.min(a,-d.rc);c=Math.min(c,-d.ic);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.yb&&(C(this.yb.vd,-(a+d.rc)*this.yb.vd.Qb),C(this.yb.Id,-(c+d.ic)*this.yb.Id.Qb));a+=d.ec;c+=d.pc;this.translate(a,c)};h.Xa.Gv=function(a){var c=0,d=0;a&&(c=a.jk(),d=a.Vb);return{width:c,height:d}};h.Xa.kB=function(a,c){return Gc(a)?h.Xa.jB(a,c):h.Xa.Ev(a)};
h.Xa.Ev=function(a){var c=Ma(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};h.Xa.jB=function(a,c){a=h.Xa.Ev(a);var d=c.width;c=c.height;var e=d/2,f=c/2,g=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:g,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-g}};
h.Xa.tB=function(){var a=h.Xa.Gv(this.qa),c=h.Xa.Gv(this.Y),d=h.aD(y(this)),e={height:d.height,width:d.width};if(this.qa)if(this.ab==h.Jg||this.ab==h.Fj)e.height-=a.height;else{if(this.ab==h.Nd||this.ab==h.Ig)e.width-=a.width}else if(this.Y)if(this.ab==h.Jg||this.ab==h.Fj)e.height-=c.height;else if(this.ab==h.Nd||this.ab==h.Ig)e.width-=c.width;var f=h.Xa.kB(this,e),g=0;this.qa&&this.ab==h.Nd?g=a.width:this.Y&&this.ab==h.Nd&&(g=c.width);var k=0;this.qa&&this.ab==h.Jg?k=a.height:this.Y&&this.ab==h.Jg&&
(k=c.height);return{sd:f.height,He:f.width,ic:f.top,rc:f.left,zb:e.height,qb:e.width,Gb:-this.scrollY,Ab:-this.scrollX,pc:k,ec:g,xH:d.height,yH:d.width,Ax:a.width,AH:a.height,FG:c.width,EG:c.height,ab:this.ab}};h.Xa.RC=function(a){var c=this.Yc();"number"==typeof a.x&&(this.scrollX=-c.He*a.x-c.rc);"number"==typeof a.y&&(this.scrollY=-c.sd*a.y-c.ic);this.translate(this.scrollX+c.ec,this.scrollY+c.pc)};b=h.Xa.prototype;b.uc=function(a){return h.Xa.u.uc.call(this,a)};
b.ob=function(a){return h.Xa.u.ob.call(this,a)};b.Sb=function(a){var c=!this.Dr&&a;this.Dr=a;c&&Pa(this)};b.clear=function(){this.Sb(!1);h.Xa.u.clear.call(this);this.Sb(!0)};function Hc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.uv.CREATE_VARIABLE=c}function xc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.fs[c]=d}
b.Vf=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Nb;return d?c&&d.bh?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.Nb=new h.Ac(a,this):null};h.vj=function(a){a.Yc=this.Nm.bind(this);a.Zi=this.ox.bind(this);this.o=new h.Xa(a);this.o.vf=!0;this.I=!!a.I;this.kj=a.ab;this.aq=[];this.rn=[];this.Nj=[];this.wc=[];this.rr=[];this.jj=this.o.$a.m.fu};b=h.vj.prototype;b.gi=!0;b.cg=!1;b.Mg=!0;b.bb=8;b.Hf=h.vj.prototype.bb;b.Jy=3*h.vj.prototype.Hf;b.Ky=3*h.vj.prototype.Hf;b.Yo=2;b.Wa=0;b.Vb=0;b.PA=70;
b.Ga=function(a){this.M=h.g.j.G(a,{"class":"blocklyFlyout",style:"display: none"},null);this.Zb=h.g.j.G("path",{"class":"blocklyFlyoutBackground"},this.M);this.M.appendChild(this.o.Ga());this.o.kc.subscribe(this.Zb,"flyoutBackgroundColour","fill");this.o.kc.subscribe(this.Zb,"flyoutOpacity","fill-opacity");this.o.Ad.Ir(new h.Gl);return this.M};
b.Ia=function(a){this.Kb=a;this.o.Ch=a;this.Rb=new h.Ca(this.o,this.Bi,!1,"blocklyFlyoutScrollbar");this.wa();Array.prototype.push.apply(this.aq,h.ua(this.M,"wheel",this,this.nD));this.gi||(this.Em=this.bq.bind(this),F(this.Kb,this.Em));Array.prototype.push.apply(this.aq,h.ua(this.Zb,"mousedown",this,this.jg));this.o.Vf=this.Kb.Vf.bind(this.Kb);this.o.Nr(this.Kb.Ea);a=this.o;a.Ri=new h.np(a)};
b.H=function(){this.wa();h.eb(this.aq);this.Em&&(Za(this.Kb,this.Em),this.Em=null);this.Rb&&(this.Rb.H(),this.Rb=null);this.o&&(this.o.kc.unsubscribe(this.Zb),this.o.Ch=null,this.o.H(),this.o=null);this.M&&(h.g.j.removeNode(this.M),this.M=null);this.Kb=this.Zb=null};b.jk=function(){return this.Wa};b.isVisible=function(){return this.cg};b.Lc=function(a){var c=a!=this.isVisible();this.cg=a;c&&this.il()};b.zh=function(a){var c=a!=this.Mg;this.Mg=a;c&&this.il()};
b.il=function(){var a=this.Mg?this.isVisible():!1;this.M.style.display=a?"block":"none";this.Rb.zh(a)};b.wa=function(){if(this.isVisible()){this.Lc(!1);for(var a=0,c;c=this.wc[a];a++)h.eb(c);this.wc.length=0;this.og&&(Za(this.o,this.og),this.og=null)}};
b.show=function(a){this.o.Sb(!1);this.wa();Ic(this);if("string"==typeof a){a=this.o.Ch.fs[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.o.Ch);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Lc(!0);var c=[],d=[];this.rr.length=0;for(var e=this.Bi?this.Jy:this.Ky,f=0,g;g=a[f];f++)if(g.tagName)switch(g.tagName.toUpperCase()){case "BLOCK":var k=h.L.ri(g,this.o);k.isEnabled()||
this.rr.push(k);c.push({type:"block",block:k});g=parseInt(g.getAttribute("gap"),10);d.push(isNaN(g)?e:g);break;case "SEP":g=parseInt(g.getAttribute("gap"),10);!isNaN(g)&&0<d.length?d[d.length-1]=g:d.push(e);break;case "LABEL":case "BUTTON":k="LABEL"==g.tagName.toUpperCase();if(!h.Iy)throw Error("Missing require for Blockly.FlyoutButton");g=new h.Iy(this.o,this.Kb,g,k);c.push({type:"button",button:g});d.push(e)}Jc(this,c,d);this.wc.push(h.ua(this.Zb,"mouseover",this,function(){for(var l=this.o.ob(!1),
m=0,n;n=l[m];m++)n.Qk()}));this.Bi?this.Vb=0:this.Wa=0;this.o.Sb(!0);this.yr();this.bq();this.position();this.og=this.yr.bind(this);F(this.o,this.og)};function Ic(a){for(var c=a.o.ob(!1),d=0,e;e=c[d];d++)e.B==a.o&&e.H(!1,!1);for(d=0;d<a.rn.length;d++)(c=a.rn[d])&&h.g.j.removeNode(c);for(d=a.rn.length=0;c=a.Nj[d];d++)c.H();a.Nj.length=0;a.o.Ri.clear()}function Kc(a,c){return function(d){var e=a.Kb.Vf(d);e&&(sb(e,c),rb(e,d,a))}}b.jg=function(a){var c=this.Kb.Vf(a);c&&rb(c,a,this)};
function gb(a,c){var d=null;h.h.disable();var e=a.Kb.Yg();a.Kb.Sb(!1);try{var f=a.Kb;if(!c.ca())throw Error("oldBlock is not rendered.");var g=h.L.Nf(c,!0);f.Sb(!1);var k=h.L.ri(g,f);if(!k.ca())throw Error("block is not rendered.");var l=h.g.ik(f.lb),m=h.g.ik(a.o.lb),n=c.Ma();n.scale(a.o.scale);var q=h.g.N.sum(m,n),r=h.g.N.bk(q,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;h.jc()}finally{h.h.enable()}c=h.X.Bv(a.Kb,e);if(h.h.isEnabled())for(h.h.la(!0),h.h.Ha(new h.h.Kd(d)),e=0;e<c.length;e++)h.h.Ha(new h.h.pd(c[e]));
a.gi?a.wa():a.bq();return d}b.bq=function(){for(var a=this.o.ob(!1),c=0,d;d=a[c];c++)if(-1==this.rr.indexOf(d))for(var e=Xa(this.Kb,h.g.hq(d));d;)d.Re(e),d=u(d)};
b.yr=function(){this.og&&Za(this.o,this.og);this.o.scale=this.Kb.scale;for(var a=0,c=this.o.ob(!1),d=0,e;e=c[d];d++){var f=z(e).width;e.C&&(f-=this.jj);a=Math.max(a,f)}for(d=0;e=this.Nj[d];d++)a=Math.max(a,e.width);a+=1.5*this.Hf+this.jj;a*=this.o.scale;a+=h.Ca.Yb;if(this.Wa!=a){for(d=0;e=c[d];d++){if(this.I){f=e.Ma().x;var g=a/this.o.scale-this.Hf;e.C||(g-=this.jj);e.moveBy(g-f,0)}e.vv&&(f=e.vv,g=e,e=z(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Ma(),f.setAttribute("y",
g.y),f.setAttribute("x",this.I?g.x-e.width:g.x))}if(this.I)for(d=0;e=this.Nj[d];d++)c=e.NG().y,e.moveTo(a/this.o.scale-e.width-this.Hf-this.jj,c);this.Wa=a;this.position()}this.og&&F(this.o,this.og)};function mb(a){return a.Rb?a.Rb.isVisible():!1}b.ad=function(a){return this.o.tb().ad(a)};h.U={};h.U.Ic=null;h.U.wm=null;h.U.fe=null;h.U.ke=null;h.U.Ga=function(){h.U.Ua||(h.U.Ua=document.createElement("div"),h.U.Ua.className="blocklyWidgetDiv",document.body.appendChild(h.U.Ua))};h.U.show=function(a,c,d){h.U.wa();h.U.Ic=a;h.U.wm=d;a=h.U.Ua;a.style.direction=c?"rtl":"ltr";a.style.display="block";h.U.fe=h.va().$a.name+"-renderer";h.U.ke=h.va().$g().name+"-theme";h.g.j.Cb(a,h.U.fe);h.g.j.Cb(a,h.U.ke)};
h.U.wa=function(){var a=h.U.Ua;h.U.Ic&&(h.U.Ic=null,a.style.display="none",a.style.left="",a.style.top="",h.U.wm&&h.U.wm(),h.U.wm=null,a.innerHTML="");h.U.fe&&(h.g.j.bd(a,h.U.fe),h.U.fe=null);h.U.ke&&(h.g.j.bd(a,h.U.ke),h.U.ke=null);Ga(h.va())};h.U.isVisible=function(){return!!h.U.Ic};h.U.qk=function(a){h.U.Ic==a&&h.U.wa()};h.U.Lk=function(a,c,d){h.U.Ua.style.left=a+"px";h.U.Ua.style.top=c+"px";h.U.Ua.style.height=d+"px"};
h.U.DC=function(a,c,d,e){var f=h.U.dA(a,c,d);a=h.U.cA(a,c,d,e);0>f?h.U.Lk(a,0,d.height+f):h.U.Lk(a,f,d.height)};h.U.cA=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.U.dA=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.Kg=function(a){a.Yc=this.Nm.bind(this);a.Zi=this.ox.bind(this);h.Kg.u.constructor.call(this,a);this.Bi=!1};h.g.object.S(h.Kg,h.vj);b=h.Kg.prototype;b.Nm=function(){if(!this.isVisible())return null;try{var a=this.o.lb.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.Yo,d=this.Vb-2*this.Yo,e=this.Wa;this.I||(e-=this.Yo);return{zb:d,qb:e,sd:a.height*this.o.scale+2*this.Hf,He:a.width*this.o.scale+2*this.Hf,Gb:-this.o.scrollY+a.y,Ab:-this.o.scrollX,ic:a.y,rc:a.x,pc:c,ec:0}};
b.ox=function(a){var c=this.Nm();c&&("number"==typeof a.y&&(this.o.scrollY=-c.sd*a.y),this.o.translate(this.o.scrollX+c.ec,this.o.scrollY+c.pc))};
b.position=function(){if(this.isVisible()){var a=this.Kb.Yc();if(a){this.Vb=a.zb;var c=this.Wa-this.bb,d=a.zb-2*this.bb,e=this.kj==h.Ig,f=c+this.bb;f=["M "+(e?f:0)+",0"];f.push("h",e?-c:c);f.push("a",this.bb,this.bb,0,0,e?0:1,e?-this.bb:this.bb,this.bb);f.push("v",Math.max(0,d));f.push("a",this.bb,this.bb,0,0,e?0:1,e?this.bb:-this.bb,this.bb);f.push("h",e?c:-c);f.push("z");this.Zb.setAttribute("d",f.join(" "));c=this.Vb;a=this.Kb.ab==this.kj?a.Ax?this.kj==h.Nd?a.Ax:a.qb-this.Wa:this.kj==h.Nd?0:a.qb:
this.kj==h.Nd?0:a.qb+a.ec-this.Wa;this.M.setAttribute("width",this.Wa);this.M.setAttribute("height",c);"svg"==this.M.tagName?h.g.j.Rk(this.M,"translate("+a+"px,0px)"):this.M.setAttribute("transform","translate("+a+",0)");this.Rb&&(this.Rb.lr=new h.g.N(a,0),this.Rb.resize(),za(this.Rb,this.Rb.Pe.x,this.Rb.Pe.y))}}};b.nD=function(a){var c=h.g.Mv(a);if(c.y){var d=this.Nm();c=d.Gb-d.ic+c.y;c=Math.min(c,d.sd-d.zb);c=Math.max(c,0);this.Rb.set(c);h.U.wa()}a.preventDefault();a.stopPropagation()};
function Jc(a,c,d){a.o.scale=a.Kb.scale;for(var e=a.Hf,f=a.I?e:e+a.jj,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=p(k,!1),m=0,n;n=l[m];m++)n.$d=!0;k.Aa();n=k.ca();l=z(k);m=k.C?f-a.jj:f;k.moveBy(m,e);var q=a,r=k,t=g;m=h.g.j.G("rect",{"fill-opacity":0,x:a.I?m-l.width:m,y:e,height:l.height,width:l.width},null);m.le=r;h.D.ii(m);q.o.lb.insertBefore(m,r.ca());r.vv=m;q.rn[t]=m;q=a;q.wc.push(h.ua(n,"mousedown",null,Kc(q,k)));q.wc.push(h.ua(m,"mousedown",null,Kc(q,k)));q.wc.push(h.Tb(n,"mouseenter",
k,k.dm));q.wc.push(h.Tb(n,"mouseleave",k,k.Qk));q.wc.push(h.Tb(m,"mouseenter",k,k.dm));q.wc.push(h.Tb(m,"mouseleave",k,k.Qk));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,q=e,r=m.Ga(),m.moveTo(n,q),m.show(),l.wc.push(h.ua(r,"mousedown",l,l.jg)),l.Nj.push(m),e+=k.button.height+d[g])}b.Jm=function(){if(!this.M)return null;var a=this.M.getBoundingClientRect(),c=a.left;return this.kj==h.Nd?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};h.Es=function(a){this.Wj=a;this.Ga()};b=h.Es.prototype;b.cb=null;b.Wd=null;b.Wj=null;b.qg=1;b.al=null;b.Ga=function(){this.cb||(this.cb=h.g.j.G("svg",{xmlns:h.g.j.Zl,"xmlns:html":h.g.j.Bo,"xmlns:xlink":h.g.j.Sc,version:"1.1","class":"blocklyBlockDragSurface"},this.Wj),this.Wd=h.g.j.G("g",{},this.cb))};function lb(a,c){if(a.Wd.childNodes.length)throw Error("Already dragging a block.");a.Wd.appendChild(c);a.cb.style.display="block";a.al=new h.g.N(0,0)}
b.Eh=function(a,c){this.al=new h.g.N(a*this.qg,c*this.qg);a=this.al.x;c=this.al.y;a=a.toFixed(0);c=c.toFixed(0);this.cb.style.display="block";h.g.j.Rk(this.cb,"translate3d("+a+"px, "+c+"px, 0px)")};b.oq=function(){var a=h.g.Zd(this.cb);return new h.g.N(a.x/this.qg,a.y/this.qg)};b.Jb=function(){return this.Wd};
b.lm=function(a){a?a.appendChild(this.Wd.firstChild):this.Wd.removeChild(this.Wd.firstChild);this.cb.style.display="none";if(this.Wd.childNodes.length)throw Error("Drag group was not cleared.");this.al=null};h.fd={};h.fd.Bq=!1;h.fd.register=function(a){if(h.fd.Bq)throw Error("CSS already injected");Array.prototype.push.apply(h.fd.mo,a);a.length=0};h.fd.$f=function(a,c){if(!h.fd.Bq){h.fd.Bq=!0;var d=h.fd.mo.join("\n");h.fd.mo.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};h.fd.Ir=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
h.fd.mo=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;",
"border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {",
"fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",
'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {",
"display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text, .blocklyBlockDragSurface text {",
"user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;",
"}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {",
"z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {",
"padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;",
"border-color: transparent;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',
"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem,",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem,",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem {",
"padding-left: 12px;","}",".blocklyWidgetDiv .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-content {","font-family: Arial, sans-serif;","font-size: 13px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","}",".blocklyWidgetDiv .goog-menuitem-disabled,",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {",
"color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight ,",".blocklyDropDownDiv .goog-menuitem-highlight {","background-color: rgba(0,0,0,.1);","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-icon {",
"background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",
".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyComputeCanvas {",
"position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}"];/*

 Copyright 2016 Massachusetts Institute of Technology
 All rights reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.A=function(){};h.A.wp=null;h.A.Ic=null;h.A.Xw=null;h.A.tl=16;h.A.Bs=1;h.A.xs=12;h.A.Kt=16;h.A.co=.25;h.A.pp=null;h.A.uh=null;h.A.fe=null;h.A.ke=null;
h.A.Ga=function(){if(!h.A.qe){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);h.A.qe=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.A.Ng=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.A.qd=c;h.A.qe.style.opacity=0;h.A.qe.style.transition="transform "+h.A.co+"s, opacity "+h.A.co+"s";a.addEventListener("focusin",function(){h.g.j.Cb(a,"focused")});a.addEventListener("focusout",
function(){h.g.j.bd(a,"focused")})}};h.A.NC=function(a){h.A.wp=a};h.A.lB=function(){return h.A.Ng};h.A.lA=function(){h.A.Ng.innerHTML="";h.A.Ng.style.width=""};h.A.ge=function(a,c){h.A.qe.style.backgroundColor=a;h.A.qe.style.borderColor=c};h.A.tH=function(a,c,d,e){return h.A.tx(h.A.Kv(c),a,d,e)};h.A.TC=function(a,c){h.A.Xw=!0;h.A.tx(h.A.Lv(a),a,c,void 0)};h.A.Kv=function(a){var c=a.ca(),d=c.getBBox(),e=a.B.scale;a=d.height*e;d=d.width*e;c=h.g.style.Zg(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.A.Lv=function(a){if(a.Hb)c=a.Hb.getBoundingClientRect(),a=h.g.style.Zg(a.Hb),e=c.width,c=c.height;else{var c=z(a.K),d=a.K.B.scale;a=h.g.style.Zg(a.Rj||a.ca());var e=c.width*d;c=c.height*d;h.g.userAgent.bt?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.Bg||h.g.userAgent.se||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}return new h.g.Rect(a.y,a.y+c,a.x,a.x+e)};h.A.tx=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.R();h.A.NC(y(e.B).parentNode);return h.A.show(c,e.I,f,g,f,a,d)};
h.A.show=function(a,c,d,e,f,g,k){h.A.Ic=a;h.A.uh=k||null;a=h.A.qe;a.style.direction=c?"rtl":"ltr";h.A.fe=h.va().$a.name+"-renderer";h.A.ke=h.va().$g().name+"-theme";h.g.j.Cb(a,h.A.fe);h.g.j.Cb(a,h.A.ke);return h.A.Lk(d,e,f,g)};h.A.eB=function(){var a=h.g.style.Zg(h.A.wp),c=h.g.style.sf(h.A.wp);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};
h.A.qB=function(a,c,d,e){var f=h.A.eB(),g=h.g.style.sf(h.A.qe);return c+g.height<f.bottom?h.A.Jv(a,c,f,g):e-g.height>f.top?h.A.Iv(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.A.Jv(a,c,f,g):e-g.height>document.documentElement.clientTop?h.A.Iv(d,e,f,g):h.A.rB(a,f,g)};h.A.Jv=function(a,c,d,e){a=h.A.nq(a,d.left,d.right,e.width);return{zq:a.pi,Aq:c,cq:a.pi,eq:c+h.A.Kt,Lj:a.Lj,Eu:-(h.A.tl/2+h.A.Bs),qp:!0,rp:!0}};
h.A.Iv=function(a,c,d,e){a=h.A.nq(a,d.left,d.right,e.width);return{zq:a.pi,Aq:c-e.height,cq:a.pi,eq:c-e.height-h.A.Kt,Lj:a.Lj,Eu:e.height-2*h.A.Bs-h.A.tl/2,qp:!1,rp:!0}};h.A.rB=function(a,c,d){a=h.A.nq(a,c.left,c.right,d.width);return{zq:a.pi,Aq:0,cq:a.pi,eq:0,rp:!1}};h.A.nq=function(a,c,d,e){var f=a;a=h.g.Cd.Qj(c,a-e/2,d-e);f-=h.A.tl/2;c=h.g.Cd.Qj(h.A.xs,f-a,e-h.A.xs-h.A.tl);return{Lj:c,pi:a}};h.A.isVisible=function(){return!!h.A.Ic};h.A.qk=function(a,c){h.A.Ic===a&&(c?h.A.vq():h.A.wa())};
h.A.wa=function(){var a=h.A.qe;a.style.transform="translate(0, 0)";a.style.opacity=0;h.A.pp=setTimeout(function(){h.A.vq()},1E3*h.A.co);h.A.uh&&(h.A.uh(),h.A.uh=null)};
h.A.vq=function(){if(h.A.isVisible()){h.A.pp&&clearTimeout(h.A.pp);var a=h.A.qe;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.A.uh&&(h.A.uh(),h.A.uh=null);h.A.lA();h.A.Ic=null;h.A.fe&&(h.g.j.bd(a,h.A.fe),h.A.fe=null);h.A.ke&&(h.g.j.bd(a,h.A.ke),h.A.ke=null);Ga(h.va())}};
h.A.Lk=function(a,c,d,e){a=h.A.qB(a,c,d,e);a.rp?(h.A.qd.style.display="",h.A.qd.style.transform="translate("+a.Lj+"px,"+a.Eu+"px) rotate(45deg)",h.A.qd.setAttribute("class",a.qp?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.A.qd.style.display="none";c=Math.floor(a.zq);d=Math.floor(a.Aq);e=Math.floor(a.cq);var f=Math.floor(a.eq),g=h.A.qe;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return a.qp};h.A.jH=function(){if(h.A.Ic){var a=h.A.Ic,c=h.A.Ic.R();a=h.A.Xw?h.A.Lv(a):h.A.Kv(c);c=a.left+(a.right-a.left)/2;h.A.Lk(c,a.bottom,c,a.top)}else h.A.wa()};h.$f=function(a,c){h.eA();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.oc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.hb.Bh(d,h.g.hb.State.Xy,h.J.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.Yj(d,c);var e=new h.Es(d),f=new h.xu(d),g=h.yA(a,c,e,f);h.sa.pa.QC(c.pa);h.JB(g);h.Bk=g;h.bl(g);d.addEventListener("focusin",function(){h.Bk=
g});return g};h.Yj=function(a,c){a.setAttribute("dir","LTR");h.mc.cv=c.I;h.fd.$f(c.DB,c.Hn);a=h.g.j.G("svg",{xmlns:h.g.j.Zl,"xmlns:html":h.g.j.Bo,"xmlns:xlink":h.g.j.Sc,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.G("defs",{},a);c.tq=h.Cg.Ga(String(Math.random()).substring(2),c.Tv,d);return a};
h.yA=function(a,c,d,e){c.Fd=null;var f=new h.Xa(c,d,e);c=f.options;f.scale=c.Ta.ZC;a.appendChild(f.Ga("blocklyMainBackground"));h.g.j.Cb(aa(f),(c.Kn||"geras")+"-renderer");h.g.j.Cb(aa(f),f.$g().name+"-theme");!c.Wv&&c.kh&&(d=Dc(f),h.g.j.Ei(d,a));c.$v&&Bc(f);c.Ta&&c.Ta.controls&&Cc(f);f.kc.subscribe(a,"workspaceBackgroundColour","background-color");f.translate(0,0);c.readOnly||f.Hc()||F(f,function(g){if(!f.Gc()&&!f.Hc()&&-1!=h.h.gy.indexOf(g.type)){var k=Object.create(null),l=f.Yc(),m=f.scale;k.I=
f.I;k.Ab=l.Ab/m;k.Gb=l.Gb/m;k.Ix=(l.Ab+l.qb)/m;k.Hx=(l.Gb+l.zb)/m;Gc(f)?(l=Ma(f),k.rc=l.left,k.ic=l.top,k.Yu=l.right,k.Vu=l.bottom):(k.rc=l.rc/m,k.ic=l.ic/m,k.Yu=(l.rc+l.He)/m,k.Vu=(l.ic+l.sd)/m);if(k.ic<k.Gb||k.Vu>k.Hx||k.rc<k.Ab||k.Yu>k.Ix){l=null;g&&(l=h.h.Jb(),h.h.la(g.group));switch(g.type){case h.h.ho:case h.h.As:var n=f.uc(g.Ub);n&&(n=n.vc());break;case h.h.Al:case h.h.Bl:n=f.om[g.Fe]||null}if(n){m=pc(n);m.height=m.bottom-m.top;m.width=m.right-m.left;var q=k.Gb,r=k.Hx-m.height;r=Math.max(q,
r);q=h.g.Cd.Qj(q,m.top,r)-m.top;r=k.Ab;var t=k.Ix-m.width;k.I?r=Math.min(t,r):t=Math.max(r,t);n.moveBy(h.g.Cd.Qj(r,m.left,t)-m.left,q)}g&&(!g.group&&n&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==l&&h.h.la(l))}}});h.bl(f);h.U.Ga();h.A.Ga();h.D.Ga();return f};
h.JB=function(a){var c=a.options,d=y(a);h.ua(d.parentNode,"contextmenu",null,function(f){h.g.ln(f)||f.preventDefault()});d=h.ua(window,"resize",null,function(){h.jc(!0);h.bl(a)});a.Ln=d;h.$f.Uz();if(c.kh){d=a.qa;var e=G(a,!0);d?d.Ia():e&&(e.Ia(a),e.show(c.kh.childNodes),e.Rb.set(0))}d=h.Ca.Yb;c.$v&&(d=a.ac.Ia(d));c.Ta&&c.Ta.controls&&a.Kh.Ia(d);c.Pb&&c.Pb.scrollbars?(a.yb=new h.ai(a),a.yb.resize()):a.Zi({x:.5,y:.5});c.EB&&h.$f.UB(c.Hn,a)};
h.$f.Uz=function(){h.MA||(h.ua(document,"scroll",null,function(){for(var a=h.gb.getAll(),c=0,d;d=a[c];c++)d.jl&&d.jl()}),h.ua(document,"keydown",null,h.mC),h.Tb(document,"touchend",null,h.eg),h.Tb(document,"touchcancel",null,h.eg),h.g.userAgent.wj&&h.ua(window,"orientationchange",document,function(){h.bl(h.va())}));h.MA=!0};
h.$f.UB=function(a,c){function d(){for(;f.length;)h.eb(f.pop());e.preload()}var e=c.Bc;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.ua(document,"mousemove",null,d,!0));f.push(h.ua(document,"touchstart",null,d,!0))};h.kd=function(a,c){this.Gx=c||"";this.bx=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.bx[a[c]]=!0;this.reset()};h.kd.po="DEVELOPER_VARIABLE";h.kd.prototype.reset=function(){this.Je=Object.create(null);this.bv=Object.create(null);this.Ea=null};h.kd.prototype.Nr=function(a){this.Ea=a};
function Lc(a,c){var d=h.F.ml;if(c==h.di){var e=a;d.Ea?e=(e=d.Ea.Xf(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==h.di||c==h.kd.po?d.Gx:"";if(e in d.Je)return f+d.Je[e];a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=
"0123456789".indexOf(a[0])&&(a="my_"+a)):a=h.J.UNNAMED_KEY||"unnamed";for(var g="";d.bv[a+g]||a+g in d.bx;)g=g?g+1:2;a+=g;d.bv[a]=!0;c=(c==h.di||c==h.kd.po?d.Gx:"")+a;d.Je[e]=c.substr(f.length);return c}h.kd.qf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Pa={};h.Pa.At=h.Nt;h.Pa.xy="x";h.Pa.Rz=function(a){a=E(a,!1);for(var c=[],d=[],e=0;e<a.length;e++)if(a[e].xi){var f=a[e].xi();f&&(f[2]?c.push(f):d.push(f))}d.sort(h.Pa.Yw);c.sort(h.Pa.Yw);return[d,c]};h.Pa.Yw=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};h.Pa.WA=function(a,c){if(c.$d)return a;for(a=a||h.J.UNNAMED_KEY||"unnamed";!h.Pa.OB(a,c.B,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Pa.OB=function(a,c,d){return!h.Pa.QB(a,c,d)};h.Pa.QB=function(a,c,d){c=E(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].xi){var f=c[e].xi();if(h.kd.qf(f[0],a))return!0}return!1};h.Pa.hH=function(a){a=a.trim();var c=h.Pa.WA(a,this.R()),d=this.getValue();if(d!=a&&d!=c){a=E(this.R().B,!1);for(var e=0;e<a.length;e++)a[e].HC&&a[e].HC(d,c)}return c};
h.Pa.Xg=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],q=h.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=h.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<n.length;m++){var t=h.g.xml.createElement("arg");t.setAttribute("name",n[m]);r.appendChild(t)}d.push(q)}}var d=[];if(h.bc.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.J.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.bc.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.J.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.bc.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Pa.Rz(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Pa.Dx=function(a){var c=[];var d=a.me.procedures_mutatorarg?a.me.procedures_mutatorarg.slice(0):[];for(var e=0,f;f=d[e];e++)c.push(Ta(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.X.Av(h.Pa.xy,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.oc.Tw(d)){if(!a.options.kh)throw Error("Existing toolbox is null.  Can't create new toolbox.");
if(c.getElementsByTagName("category").length){if(!a.qa)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.kh=c;a.qa.iH(c)}else{if(!a.Y)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.kh=c;a.Y.show(c.childNodes)}}else if(a.options.kh)throw Error("Can't nullify an existing toolbox.");};
h.Pa.eC=function(a){if(a.type==h.h.Hj&&"mutatorOpen"==a.element&&a.newValue){a=h.gb.hk(a.wb).uc(a.Ub);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.ae.o,h.Pa.Dx(a),F(a,h.Pa.dC)}};h.Pa.dC=function(a){a.type!=h.h.ho&&a.type!=h.h.zs&&a.type!=h.h.ey||h.Pa.Dx(h.gb.hk(a.wb))};h.Pa.fB=function(a,c){var d=[];c=E(c,!1);for(var e=0;e<c.length;e++)if(c[e].sB){var f=c[e].sB();f&&h.kd.qf(f,a)&&d.push(c[e])}return d};
h.Pa.cH=function(a){var c=h.h.Xb,d=a.xi()[0],e=a.Ed(!0);a=h.Pa.fB(d,a.B);d=0;for(var f;f=a[d];d++){var g=f.Ed();g=g&&h.L.Vd(g);f.nf(e);var k=f.Ed();k=k&&h.L.Vd(k);g!=k&&(h.h.Xb=!1,h.h.Ha(new h.h.Lh(f,"mutation",null,g,k)),h.h.Xb=c)}};h.Pa.IG=function(a,c){c=c.ob(!1);for(var d=0;d<c.length;d++)if(c[d].xi){var e=c[d].xi();if(e&&h.kd.qf(e[0],a))return c[d]}return null};h.bm=function(a,c,d,e){this.B=a;this.name=c;this.type=d||"";this.Ci=e||h.g.rf();h.h.Ha(new h.h.pd(this))};h.bm.prototype.ub=function(){return this.Ci};h.bm.oA=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};h.X={};h.X.At=h.di;h.X.Du=function(a){var c=E(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=Ra(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.ub();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.X.nG=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};h.X.vs={};
h.X.Pz=function(a){a=E(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.JG;!f&&e.mB&&(f=e.mB,h.X.vs[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.X.vs[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.X.Xg=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Hc(a,function(e){h.X.$u(e.OG())});c.push(d);a=h.X.ZA(a);return c=c.concat(a)};
h.X.ZA=function(a){a=a.Pm("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.bc.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.bc.math_change?8:24);e.appendChild(h.X.fq(d));c.push(e)}h.bc.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.bc.variables_get?20:8),e.appendChild(h.X.fq(d)),d=h.L.tg('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.bc.variables_get){a.sort(h.bm.oA);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.X.fq(f)),c.push(e)}}return c};h.X.nu="ijkmnopqrstuvwxyzabcdefgh";h.X.bB=function(a){return h.X.Av(h.X.nu.charAt(0),a.gq())};
h.X.Av=function(a,c){if(!c.length)return a;for(var d=h.X.nu,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.X.$u=function(a,c,d){function e(g){h.X.Zw(h.J.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.X.gC(k,a);if(l){if(l.type==f)var m=h.J.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.J.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.Td(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.X.Td=h.X.$u;
h.X.$w=function(a,c){function d(e){var f=h.J.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.X.Zw(f,e,function(g){if(g){var k=h.X.hC(g,c.type,a);k?(k=h.J.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.xh(c.ub(),g)}})}d("")};h.X.Zw=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.J.RENAME_VARIABLE||e==h.J.NEW_VARIABLE)&&(e=null);d(e)})};
h.X.hC=function(a,c,d){d=d.Ea.Yg();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.X.gC=function(a,c){c=c.Ea.Yg();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.X.fq=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.ub());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.X.MG=function(a,c,d,e){var f=h.X.Wf(a,c,d,e);f||(f=h.X.zA(a,c,d,e));return f};h.X.Wf=function(a,c,d,e){var f=a.Ri,g=null;if(c&&(g=a.Xf(c),!g&&f&&(g=f.Xf(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Wf(d,e);!g&&f&&(g=f.Wf(d,e))}return g};h.X.zA=function(a,c,d,e){var f=a.Ri;d||(d=h.X.bB(a.vf?a.Ch:a));return f?f.Td(d,e,c):a.Td(d,e,c)};
h.X.Bv=function(a,c){a=a.Yg();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Bk=null;h.selected=null;h.ck=[];h.Sj=null;h.nm=null;h.Cp=null;h.sG=null;h.aD=function(a){return{width:a.Iu,height:a.Hu}};h.kH=function(a){Pa(a)};h.bl=function(a){for(;a.options.Fd;)a=a.options.Fd;var c=y(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.Iu!=e&&(c.setAttribute("width",e+"px"),c.Iu=e);c.Hu!=d&&(c.setAttribute("height",d+"px"),c.Hu=d);a.resize()}};
h.mC=function(a){var c=h.Bk;if(c&&!(h.g.ln(a)||c.aa&&!c.isVisible()))if(c.options.readOnly)h.navigation.Nw(a);else{var d=!1;if(a.keyCode==h.g.fb.Us)h.jc(),h.navigation.ad(h.navigation.Wn);else{if(h.navigation.Nw(a))return;if(a.keyCode==h.g.fb.by||a.keyCode==h.g.fb.qj){a.preventDefault();if(h.Rh.yq())return;h.selected&&h.selected.Zc()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(h.Rh.yq())return;h.selected&&h.selected.Zc()&&h.selected.Hc()&&(a.keyCode==h.g.fb.jy?(h.jc(),h.Fp(h.selected)):a.keyCode!=
h.g.fb.yu||h.selected.B.vf||(h.Fp(h.selected),d=!0));a.keyCode==h.g.fb.Az?h.Sj&&(a=h.nm,a.vf&&(a=a.Ch),h.Cp&&Xa(a,h.Cp)&&(h.h.la(!0),Fc(a),h.h.la(!1))):a.keyCode==h.g.fb.Hz&&(h.jc(),c.hs(a.shiftKey))}}d&&!h.selected.B.vf&&(h.h.la(!0),h.jc(),h.selected.H(!0,!0),h.h.la(!1))}};h.Fp=function(a){if(a.kw)var c=a.bs();else{c=h.L.Nf(a,!0);h.L.DA(c);var d=a.Ma();c.setAttribute("x",a.I?-d.x:d.x);c.setAttribute("y",d.y)}h.Sj=c;h.nm=a.B;h.Cp=a.kw?null:h.g.hq(a,!0)};
h.duplicate=function(a){var c=h.Sj,d=h.nm;h.Fp(a);Fc(a.B);h.Sj=c;h.nm=d};h.dH=function(a){h.g.ln(a)||a.preventDefault()};h.jc=function(a){h.D.wa();h.U.wa();h.A.vq();a||(a=h.va(),a.ac&&a.ac.Wg&&a.ac.Wg.wa(),(a=a.qa)&&G(a)&&G(a).gi&&a.uG())};h.va=function(){return h.Bk};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.SB=function(a){return function(){ac(this,a)}};
h.AG=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.bc[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.bc[e]={Ia:h.SB(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
h.ua=function(a,c,d,e,f,g){function k(t){var v=!f;t=h.Touch.XC(t);for(var H=0,S;S=t[H];H++)if(!v||h.Touch.Pr(S))h.Touch.OC(S),d?e.call(d,S):e(S),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.xe)for(var n=0,q;q=h.Touch.xe[c][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.xe){var r=function(t){k(t);var v=!g;l&&v&&t.preventDefault()};for(n=0;q=h.Touch.xe[c][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
h.Tb=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.xe)for(var k=0,l;l=h.Touch.xe[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.xe){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.xe[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.eb=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};h.RB=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.QG=function(a){return h.g.ib.fw(a)};
h.eA=function(){h.hc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.hc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.hc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.hc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.hc("MATH_HUE",["Blocks","math","HUE"],void 0);h.hc("MATH_HUE",["Constants","Math","HUE"],230);h.hc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.hc("TEXTS_HUE",["Constants","Text","HUE"],160);h.hc("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.hc("LISTS_HUE",["Constants","Lists","HUE"],
260);h.hc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.hc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.hc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.hc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.hc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.hc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.hc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};
var Mc={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Nc="ace ar fa he mzn ps ur".split(" "),L=window.BlocklyGamesLang,Oc=window.BlocklyGamesLanguages,Pc=/\.html$/.test(window.location.pathname);function Qc(a,c,d){var e=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=e(a);return isNaN(e)?c:h.g.Cd.Qj(c,e,d)}var M=Qc("level",1,10);
function Rc(){document.title=document.getElementById("title").textContent;document.dir=-1!=Nc.indexOf(L)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",L);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Oc.length;d++){var e=Oc[d];c.push([Mc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==L&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),c=!!Sc(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Tc,1)}function Sc(a){var c=Uc;try{var d=window.localStorage[c+a]}catch(e){}return d}function N(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function Vc(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function Tc(){if(!Pc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.g.w={};h.g.w.ka=function(a,c){return" "+a+","+c+" "};h.g.w.curve=function(a,c){return" "+a+c.join("")};h.g.w.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.w.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.w.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.w.line=function(a){return" l"+a.join("")};h.g.w.Z=function(a,c){return" "+a+" "+c+" "};h.g.w.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.Jd=function(){this.Jf=0;this.ve=3;this.ue=5;this.yj=10;this.am=15;this.Hg=5;this.fu=8;this.Pl=15;this.Wh=4;this.ut=12;this.Ey=16;this.qo=this.El=this.am;this.bb=8;this.Vl=this.If=15;this.au=0;this.gp=20;this.gu=this.ue;this.iu=this.yj;this.Ds=this.ue;this.Cs=this.yj;this.Zn=!1;this.ep=15;this.fp=100;this.sz=15;this.Nl=24;this.Ss=14.5;this.Rs=this.am+11;this.Fy=2;this.so=this.Nl;h.g.w.moveBy(0,0);this.ot=12;this.qt=6;this.Ph=11;this.tj=16;this.Ff="normal";this.ef="sans-serif";this.vo=4;this.uo=
16;this.df=5;this.Ws="#fff";this.zo=h.g.userAgent.bt?12:13.09;this.Ao=0;this.$s=!h.g.userAgent.se&&!h.g.userAgent.Bg;this.wo=this.uo;this.Ys=this.Xs=this.xo=!1;this.Zs=this.df;this.sj=12;this.Gy="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.Ok=String(Math.random()).substring(2);this.Yp="";this.Zp=null;this.kv="";this.Pp=null;this.Js="#cc0a0a";this.dz="#4286f4";this.pj=100;this.uu=5;this.Dl=10;this.uy=2;this.Ls=4;this.Rc={Ot:1,Vh:2}};b=h.i.Jd.prototype;
b.Ia=function(){var a=this.ot,c=this.qt,d=h.g.w.line([h.g.w.ka(c,a/4),h.g.w.ka(2*-c,a/2),h.g.w.ka(c,a/4)]);this.Ll={height:a,width:c,path:d};this.Vh=this.yw();this.cp=this.Bw();this.nz=Wc(this);this.nc=this.xw();a=this.bb;c=h.g.w.moveBy(0,a)+h.g.w.arc("a","0 0,1",a,h.g.w.ka(a,-a));d=h.g.w.arc("a","0 0,1",a,h.g.w.ka(a,a));var e=h.g.w.arc("a","0 0,1",a,h.g.w.ka(-a,-a)),f=h.g.w.arc("a","0 0,1",a,h.g.w.ka(-a,a));this.Cj={hD:c,iD:d,$z:f,Zz:e,Mn:a}};
b.zr=function(a){this.Lg={};a=a.Lg;for(var c in a)this.Lg[c]=rc(this,a[c])};function nc(a,c){return a.Lg[c||""]||rc(a,{colourPrimary:"#000000"})}function rc(a,c){var d={};c&&h.g.object.ph(d,c);c=h.g.En(d.colourPrimary||"#000");d.mi=c.pk;d.Pu=d.colourSecondary?h.g.En(d.colourSecondary).pk:a.yv(d.mi);d.Qf=d.colourTertiary?h.g.En(d.colourTertiary).pk:a.zv(d.mi);d.wd=d.hat||"";return d}b.yv=function(a){return h.g.ib.hm("#fff",a,.6)||a};b.zv=function(a){return h.g.ib.hm("#fff",a,.3)||a};
b.H=function(){this.Zp&&h.g.j.removeNode(this.Zp);this.Pp&&h.g.j.removeNode(this.Pp)};b.Bw=function(){var a=this.ep,c=this.fp,d=h.g.w.curve("c",[h.g.w.ka(30,-a),h.g.w.ka(70,-a),h.g.w.ka(c,0)]);return{height:a,width:c,path:d}};
function Wc(a){function c(k){k=k?-1:1;var l=-k,m=e/2,n=h.g.w.ka(d,k*m);return h.g.w.curve("c",[h.g.w.ka(0,k*(m+2.5)),h.g.w.ka(-d,l*(m+.5)),h.g.w.ka(-d,k*m)])+h.g.w.curve("s",[h.g.w.ka(d,2.5*l),n])}var d=a.fu,e=a.am,f=c(!0),g=c(!1);return{type:a.Rc.Ot,width:d,height:e,Oe:g,ng:f}}b.yw=function(){function a(k){return h.g.w.line([h.g.w.ka(k*e,d),h.g.w.ka(3*k,0),h.g.w.ka(k*e,-d)])}var c=this.Pl,d=this.Wh,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.Rc.Vh,width:c,height:d,Kk:f,Fn:g}};
b.xw=function(){var a=this.bb,c=h.g.w.arc("a","0 0,0",a,h.g.w.ka(-a,a)),d=h.g.w.arc("a","0 0,0",a,h.g.w.ka(a,a));return{width:a,height:a,pr:c,nr:d}};b.dj=function(a){switch(a.type){case h.La:case h.Qc:return this.nz;case h.md:case h.za:return this.Vh;default:throw Error("Unknown connection type");}};
b.Ga=function(a){a=h.g.j.G("defs",{},a);var c=h.g.j.G("filter",{id:"blocklyEmbossFilter"+this.Ok},a);h.g.j.G("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);var d=h.g.j.G("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.G("fePointLight",{x:-5E3,y:-1E4,z:2E4},d);h.g.j.G("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.G("feComposite",{"in":"SourceGraphic",
in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.Yp=c.id;this.Zp=c;a=h.g.j.G("pattern",{id:"blocklyDisabledPattern"+this.Ok,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.G("rect",{width:10,height:10,fill:"#aaa"},a);h.g.j.G("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.kv=a.id;this.Pp=a};
b.Dv=function(a){a="."+a+"-renderer";return[a+" .blocklyText {","fill: #fff;","font-family: "+this.ef+";","font-size: "+this.Ph+"pt;","font-weight: "+this.Ff+";","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Ws+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+
this.ef+";","font-weight: "+this.Ff+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}"]};h.i.Bb=function(a,c,d){this.o=a;this.XB=d;this.Jc=null;this.m=c;this.Qg=null;a=Xc(this)?this.m.Js:this.m.dz;this.rd=d.ib||a};h.i.Bb.vy="blocklyCursor";h.i.Bb.cz="blocklyMarker";h.i.Bb.My=.75;b=h.i.Bb.prototype;b.ca=function(){return this.M};function Xc(a){return"cursor"==a.XB.type}b.Ga=function(){this.M=h.g.j.G("g",{"class":Xc(this)?h.i.Bb.vy:h.i.Bb.cz},null);this.Hp();return this.M};function Yc(a,c){Xc(a)?(a.Jc&&a.Jc.yf(null),c.yf(a.ca())):(a.Jc&&a.Jc.Af(null),c.Af(a.ca()));a.Jc=c}
function Zc(a,c){if(c){var d=c.width,e=c.height,f=e*h.i.Bb.My,g=a.m.uy;if(c.T){var k=a.m.dj(c.T);e=k;d=h.g.w.moveBy(-g,f)+h.g.w.Z("V",-g)+h.g.w.Z("H",a.m.If)+e.Kk+h.g.w.Z("H",d+2*g)+h.g.w.Z("V",f);a.mh.setAttribute("d",d)}else c.C?(f=k=a.m.dj(c.C),d=h.g.w.moveBy(d,0)+h.g.w.Z("h",-(d-f.width))+h.g.w.Z("v",a.m.Hg)+f.Oe+h.g.w.Z("V",e)+h.g.w.Z("H",d),a.mh.setAttribute("d",d)):(d=h.g.w.moveBy(-g,f)+h.g.w.Z("V",-g)+h.g.w.Z("H",d+2*g)+h.g.w.Z("V",f),a.mh.setAttribute("d",d));a.o.I&&a.fk(a.mh);a.Qg=a.mh;
Yc(a,c);$c(a)}}b.Sr=function(a){var c=a.$;a=c.R();var d=c.hg.x,e=c.hg.y;c=h.g.w.moveTo(0,0)+this.m.dj(c).Oe;this.Fk.setAttribute("d",c);this.Fk.setAttribute("transform","translate("+d+","+e+")"+(this.o.I?" scale(-1 1)":""));this.Qg=this.Fk;Yc(this,a);$c(this)};function $c(a){a.wa();a.Qg.style.display=""}function ad(a,c,d,e){a.Mi.setAttribute("x",c);a.Mi.setAttribute("y",d);a.Mi.setAttribute("width",e);a.Qg=a.Mi}
function bd(a,c,d,e,f){a.Ni.setAttribute("x",c);a.Ni.setAttribute("y",d);a.Ni.setAttribute("width",e);a.Ni.setAttribute("height",f);a.Qg=a.Ni}b.fk=function(a){a.setAttribute("transform","scale(-1 1)")};b.wa=function(){this.Mi.style.display="none";this.Ni.style.display="none";this.Fk.style.display="none";this.mh.style.display="none"};
b.draw=function(a,c){if(c){this.Rr(c);var d=c.R();a=new h.h.dc(d,Xc(this)?"cursorMove":"markerMove",a,c);c.Sa()==h.v.types.Ae&&(a.wb=c.$.id);h.h.Ha(a);c=this.Qg.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.wa()};
b.Rr=function(a){if(a.Sa()==h.v.types.yc)Zc(this,a.$);else if(a.Sa()==h.v.types.Kf)a=a.$.R(),Zc(this,a);else if(a.$.type==h.La)this.Sr(a);else if(a.$.type==h.za){var c=a.$;a=c.R();var d=0;c=c.hg.y;var e=z(a).width;this.o.I&&(d=-e);ad(this,d,c,e);Yc(this,a);$c(this)}else if(a.Sa()==h.v.types.ld)a=a.$.R(),Zc(this,a);else if(a.Sa()==h.v.types.Pc)a=a.$,d=a.sf().width,c=a.sf().height,bd(this,0,0,d,c),Yc(this,a),$c(this);else if(a.Sa()==h.v.types.Ae)d=a.qs,a=d.x,d=d.y,this.o.I&&(a-=this.m.pj),ad(this,a,
d,this.m.pj),Yc(this,this.o),$c(this);else if(a.Sa()==h.v.types.we){a=a.$;c=z(a);d=c.width+this.m.Dl;c=c.height+this.m.Dl;var f=e=-this.m.Dl/2,g=-this.m.Dl/2;this.o.I&&(f=-(d+e));bd(this,f,g,d,c);Yc(this,a);$c(this)}};function cd(a){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:a.rd+";transparent;transparent;",repeatCount:"indefinite"}}
b.Hp=function(){this.Bd=h.g.j.G("g",{width:this.m.pj,height:this.m.uu},this.M);this.Mi=h.g.j.G("rect",{fill:this.rd,width:this.m.pj,height:this.m.uu,style:"display: none"},this.Bd);this.Ni=h.g.j.G("rect",{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none",stroke:this.rd},this.Bd);this.Fk=h.g.j.G("path",{transform:"",style:"display: none",fill:this.rd},this.Bd);this.mh=h.g.j.G("path",{transform:"",style:"display: none",fill:"none",stroke:this.rd,"stroke-width":this.m.Ls},this.Bd);if(Xc(this)){var a=
cd(this);h.g.j.G("animate",cd(this),this.Mi);h.g.j.G("animate",a,this.Fk);a.attributeName="stroke";h.g.j.G("animate",a,this.mh)}};b.H=function(){this.M&&h.g.j.removeNode(this.M)};h.i.s={NONE:0,Pc:1,ct:2,dt:4,$o:8,ys:16,ht:32,Vs:64,te:128,ft:256,bu:512,py:1024,Ro:2048,No:4096,mz:8192,no:16384,Jo:32768,Io:65536,Vo:131072,Uo:262144,nt:524288,Wo:1048576,jp:2097152,io:4194304,gt:8388608};h.i.s.xE=h.i.s.Jo|h.i.s.Io;h.i.s.PF=h.i.s.Vo|h.i.s.Uo;h.i.s.$q=16777216;h.i.s.Sa=function(a){h.i.s.hasOwnProperty(a)||(h.i.s[a]=h.i.s.$q,h.i.s.$q<<=1);return h.i.s[a]};h.i.s.Hi=function(a){return a.type&h.i.s.Pc};h.i.s.$m=function(a){return a.type&h.i.s.ct};h.i.s.an=function(a){return a.type&h.i.s.dt};
h.i.s.zd=function(a){return a.type&h.i.s.$o};h.i.s.UG=function(a){return a.type&h.i.s.ht};h.i.s.dn=function(a){return a.type&h.i.s.te};h.i.s.mw=function(a){return a.type&h.i.s.Vs};h.i.s.cn=function(a){return a.type&h.i.s.ft};h.i.s.kn=function(a){return a.type&h.i.s.bu};h.i.s.jn=function(a){return a.type&h.i.s.Ro};h.i.s.Ii=function(a){return a.type&h.i.s.No};h.i.s.WG=function(a){return a.type&(h.i.s.Ro|h.i.s.No)};h.i.s.fn=function(a){return a.type&h.i.s.Io};h.i.s.pw=function(a){return a.type&h.i.s.Uo};
h.i.s.Fq=function(a){return a.type&h.i.s.Jo};h.i.s.XG=function(a){return a.type&h.i.s.Vo};h.i.s.TG=function(a){return a.type&h.i.s.no};h.i.s.VG=function(a){return a.type&h.i.s.nt};h.i.s.YG=function(a){return a.type&h.i.s.Wo};h.i.s.SG=function(a){return a.type&h.i.s.ys};h.i.s.mn=function(a){return a.type&h.i.s.jp};h.i.s.Wm=function(a){return a.type&h.i.s.io};h.i.s.ZG=function(a){return a.type&(h.i.s.jp|h.i.s.io)};h.i.s.jh=function(a){return a.type&h.i.s.gt};h.i.ff=function(a){this.height=this.width=0;this.type=h.i.s.NONE;this.ki=this.mb=0;this.m=a;this.ce=this.m.If};h.i.ga=function(a,c){h.i.ga.u.constructor.call(this,a);this.Sf=c;this.shape=this.m.dj(c);this.Ke=!!this.shape.isDynamic;this.type|=h.i.s.py};h.g.object.S(h.i.ga,h.i.ff);h.i.Qo=function(a,c){h.i.Qo.u.constructor.call(this,a,c);this.type|=h.i.s.mz;this.height=this.Ke?0:this.shape.height;this.je=this.width=this.Ke?0:this.shape.width;this.Vc=this.m.Hg;this.Ge=0};h.g.object.S(h.i.Qo,h.i.ga);
h.i.So=function(a,c){h.i.So.u.constructor.call(this,a,c);this.type|=h.i.s.Ro;this.height=this.shape.height;this.width=this.shape.width};h.g.object.S(h.i.So,h.i.ga);h.i.Oo=function(a,c){h.i.Oo.u.constructor.call(this,a,c);this.type|=h.i.s.No;this.height=this.shape.height;this.width=this.shape.width};h.g.object.S(h.i.Oo,h.i.ga);h.i.xj=function(a,c){h.i.xj.u.constructor.call(this,a,c.connection);this.type|=h.i.s.te;this.input=c;this.align=c.align;(this.Cc=c.connection&&c.connection.ma()?c.connection.ma():null)?(a=z(this.Cc),this.Vj=a.width,this.Uj=a.height):this.Uj=this.Vj=0;this.Vc=this.Ge=0};h.g.object.S(h.i.xj,h.i.ga);
h.i.Jl=function(a,c){h.i.Jl.u.constructor.call(this,a,c);this.type|=h.i.s.ft;this.Cc?(this.width=this.Vj,this.height=this.Uj):(this.height=this.m.Rs,this.width=this.m.Ss);this.qm=this.Ke?this.shape.height(this.height):this.shape.height;this.lf=this.Ke?this.shape.width(this.height):this.shape.width;this.Cc||(this.width+=this.lf*(this.Ke?2:1));this.Vc=this.Ke?this.shape.Vc(this.qm):this.m.Hg;this.Ge=this.Ke?this.shape.Ge(this.lf):0};h.g.object.S(h.i.Jl,h.i.xj);
h.i.Lf=function(a,c){h.i.Lf.u.constructor.call(this,a,c);this.type|=h.i.s.bu;this.height=this.Cc?this.Uj+this.m.au:this.m.so;this.width=this.m.Vl+this.shape.width};h.g.object.S(h.i.Lf,h.i.xj);h.i.Fl=function(a,c){h.i.Fl.u.constructor.call(this,a,c);this.type|=h.i.s.Vs;this.height=this.Cc?this.Uj-this.m.Hg-this.m.ue:this.shape.height;this.width=this.shape.width+this.m.Fy;this.Vc=this.m.Hg;this.qm=this.shape.height;this.lf=this.shape.width};h.g.object.S(h.i.Fl,h.i.xj);h.i.Go=function(a,c){h.i.Go.u.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.s.dt;a=c.HG();this.height=a.height;this.width=a.width};h.g.object.S(h.i.Go,h.i.ff);h.i.Ho=function(a){h.i.Ho.u.constructor.call(this,a);this.type|=h.i.s.nt;this.height=this.m.Ll.height;this.width=this.m.Ll.width};h.g.object.S(h.i.Ho,h.i.ff);
h.i.gd=function(a,c,d){h.i.gd.u.constructor.call(this,a);this.Vg=c;this.Gi=c.rj;this.YA=c.Hv();this.type|=h.i.s.Pc;a=this.Vg.sf();this.height=a.height;this.width=a.width;this.vC=d};h.g.object.S(h.i.gd,h.i.ff);h.i.Co=function(a){h.i.Co.u.constructor.call(this,a);this.type|=h.i.s.ct;this.height=this.m.cp.height;this.width=this.m.cp.width;this.Mj=this.height};h.g.object.S(h.i.Co,h.i.ff);
h.i.bi=function(a,c){h.i.bi.u.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.s.Vo:h.i.s.Jo)|h.i.s.no;this.width=this.height=this.m.Jf};h.g.object.S(h.i.bi,h.i.ff);h.i.Yh=function(a,c){h.i.Yh.u.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.s.Uo:h.i.s.Io)|h.i.s.no;this.width=this.m.bb;this.height=this.m.bb/2};h.g.object.S(h.i.Yh,h.i.ff);h.i.Gf=function(a,c){h.i.Gf.u.constructor.call(this,a);this.type=this.type|h.i.s.$o|h.i.s.ht;this.width=c;this.height=this.m.sz};h.g.object.S(h.i.Gf,h.i.ff);h.i.Gg=function(a){this.type=h.i.s.Wo;this.elements=[];this.mb=this.oe=this.ne=this.minWidth=this.minHeight=this.width=this.height=0;this.Zv=this.Rm=this.Yv=this.Ob=this.lk=!1;this.m=a;this.ce=this.m.If;this.align=null};h.i.Gg.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function dd(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.s.dn(d))return d;return null}h.i.Gg.prototype.Wr=function(){return!0};h.i.Gg.prototype.si=function(){return!0};
h.i.od=function(a){h.i.od.u.constructor.call(this,a);this.type|=h.i.s.jp;this.Mj=this.Oj=0;this.Tm=!1;this.connection=null};h.g.object.S(h.i.od,h.i.Gg);b=h.i.od.prototype;b.mk=function(a){var c=(a.wd?"cap"===a.wd:this.m.Zn)&&!a.C&&!a.T,d=a.T&&a.T.ma();return!!a.C||c||(d?u(d)==a:!1)};b.nk=function(){return!0};
b.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.s.zd(f)||(h.i.s.$m(f)?d=Math.max(d,f.Mj):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Oj=this.Mj=d;this.ne=this.width};b.Wr=function(){return!1};b.si=function(){return!1};h.i.ed=function(a){h.i.ed.u.constructor.call(this,a);this.type|=h.i.s.io;this.Sm=!1;this.connection=null;this.gm=this.Kp=0};h.g.object.S(h.i.ed,h.i.Gg);b=h.i.ed.prototype;
b.mk=function(a){return!!a.C||!!u(a)};b.nk=function(){return!0};b.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.s.zd(f)||(h.i.s.Ii(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Kp=d;this.ne=this.width};b.Wr=function(){return!1};b.si=function(){return!1};
h.i.$l=function(a,c,d){h.i.$l.u.constructor.call(this,a);this.type=this.type|h.i.s.$o|h.i.s.ys;this.width=d;this.height=c;this.gk=!1;this.ne=0;this.elements=[new h.i.Gf(this.m,d)]};h.g.object.S(h.i.$l,h.i.Gg);h.i.$l.prototype.measure=function(){};h.i.Th=function(a){h.i.Th.u.constructor.call(this,a);this.type|=h.i.s.gt;this.Tu=0};h.g.object.S(h.i.Th,h.i.Gg);
h.i.Th.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.s.dn(d)&&(h.i.s.kn(d)?a+=d.Vj:h.i.s.mw(d)&&0!=d.Vj&&(a+=d.Vj-d.lf)),h.i.s.zd(d)||(this.height=Math.max(this.height,d.height));this.Tu=a;this.ne=this.width+a};h.i.Th.prototype.si=function(){return!this.lk&&!this.Ob};h.i.nd=function(a,c){this.Fa=c;this.$a=a;this.m=this.$a.m;this.C=c.C?new h.i.Qo(this.m,c.C):null;this.xk=Ub(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.wf=c.wf();this.I=c.I;this.hj=this.width=this.Ye=this.height=0;this.rows=[];this.hw=1;this.cw=[];this.vb=new h.i.od(this.m);this.xb=new h.i.ed(this.m);this.Vr=this.je=0};b=h.i.nd.prototype;b.measure=function(){ed(this);fd(this);gd(this);hd(this);id(this);this.Fm()};
function ed(a){var c=!!a.Fa.T,d=(a.Fa.wd?"cap"===a.Fa.wd:a.m.Zn)&&!a.C&&!c;a.vb.mk(a.Fa)?a.vb.elements.push(new h.i.bi(a.m)):a.vb.elements.push(new h.i.Yh(a.m));d?(c=new h.i.Co(a.m),a.vb.elements.push(c),a.vb.Oj=c.Mj):c&&(a.vb.Tm=!0,a.vb.connection=new h.i.So(a.m,a.Fa.T),a.vb.elements.push(a.vb.connection));a.Fa.O.length&&a.Fa.O[0].type==h.za&&!a.Fa.isCollapsed()?a.vb.minHeight=a.m.iu:a.vb.minHeight=a.m.gu;a.vb.nk(a.Fa)?a.vb.elements.push(new h.i.bi(a.m,"right")):a.vb.elements.push(new h.i.Yh(a.m,
"right"));a.rows.push(a.vb);c=new h.i.Th(a.m);var e=A(a.Fa);if(e.length){d=0;for(var f;f=e[d];d++){var g=new h.i.Go(a.m,f);a.isCollapsed&&f.wG?a.cw.push(g):c.elements.push(g)}}f=null;for(d=0;e=a.Fa.O[d];d++)if(e.isVisible()){a.sx(e,f)&&(a.rows.push(c),c=new h.i.Th(a.m),a.hw++);for(f=0;g=e.Ra[f];f++)c.elements.push(new h.i.gd(a.m,g,e));a.Cu(e,c);f=e}a.isCollapsed&&(c.Zv=!0,c.elements.push(new h.i.Ho(a.m)));(c.elements.length||c.Rm)&&a.rows.push(c);a.xb.Sm=!!a.Fa.V;a.xb.minHeight=a.Fa.O.length&&a.Fa.O[a.Fa.O.length-
1].type==h.za?a.m.Cs:a.m.Ds;a.xb.mk(a.Fa)?a.xb.elements.push(new h.i.bi(a.m)):a.xb.elements.push(new h.i.Yh(a.m));a.xb.Sm&&(a.xb.connection=new h.i.Oo(a.m,a.Fa.V),a.xb.elements.push(a.xb.connection));a.xb.nk(a.Fa)?a.xb.elements.push(new h.i.bi(a.m,"right")):a.xb.elements.push(new h.i.Yh(a.m,"right"));a.rows.push(a.xb)}
b.Cu=function(a,c){this.xk&&a.type==h.La?(c.elements.push(new h.i.Jl(this.m,a)),c.Yv=!0):a.type==h.za?(c.elements.push(new h.i.Lf(this.m,a)),c.Ob=!0):a.type==h.La?(c.elements.push(new h.i.Fl(this.m,a)),c.lk=!0):a.type==h.Ld&&(c.minHeight=Math.max(c.minHeight,a.R()&&a.R().Da?this.m.qo:this.m.El),c.Rm=!0);null==c.align&&(c.align=a.align)};b.sx=function(a,c){return c?a.type==h.za||c.type==h.za?!0:a.type==h.La||a.type==h.Ld?!this.xk:!1:!1};
function fd(a){for(var c=0,d;d=a.rows[c];c++){var e=d.elements;d.elements=[];d.Wr()&&d.elements.push(new h.i.Gf(a.m,a.Lm(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++)d.elements.push(e[f]),d.elements.push(new h.i.Gf(a.m,a.Lm(e[f],e[f+1])));d.elements.push(e[e.length-1]);d.si()&&d.elements.push(new h.i.Gf(a.m,a.Lm(e[e.length-1],null)))}}}
b.Lm=function(a,c){if(!a&&c&&h.i.s.kn(c))return this.m.gp;if(a&&h.i.s.dn(a)&&!c){if(h.i.s.mw(a))return this.m.Jf;if(h.i.s.cn(a))return this.m.yj;if(h.i.s.kn(a))return this.m.Jf}return a&&h.i.s.Fq(a)&&c&&(h.i.s.jn(c)||h.i.s.Ii(c))?c.ce:a&&h.i.s.fn(a)&&c&&(h.i.s.jn(c)||h.i.s.Ii(c))?c.ce-this.m.bb:this.m.ue};
function hd(a){for(var c=0,d=0,e=0,f=0,g;g=a.rows[f];f++)g.measure(),d=Math.max(d,g.width),g.Ob&&(c=Math.max(c,g.width-dd(g).width)),e=Math.max(e,g.ne);a.hj=c;a.width=d;for(f=0;g=a.rows[f];f++)g.Ob&&(g.hj=a.hj);a.Ye=Math.max(d,e);a.C&&(a.je=a.C.width,a.width+=a.C.width,a.Ye+=a.C.width)}
function id(a){for(var c=0,d;d=a.rows[c];c++)if(d.Ob){var e=a,f=dd(d),g=d.width-f.width,k=e.hj;g=k-g;0<g&&e.cm(d,g);g=d.width;k=e.Km(d);f.width+=k-g;f.height=Math.max(f.height,d.height);d.width+=k-g;d.ne=Math.max(d.width,e.hj+d.Tu)}else e=a.Km(d)-d.width,0<e&&a.cm(d,e)}b.Km=function(){return this.width-this.je};
b.cm=function(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.s.zd(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.s.zd(f)){e=f;break a}e=null}if(a.lk||a.Ob)a.ne+=c;a.align==h.ol?e.width+=c:a.align==h.$n?(d.width+=c/2,e.width+=c/2):a.align==h.ao?d.width+=c:e.width+=c;a.width+=c};function gd(a){var c=a.rows;a.rows=[];for(var d=0;d<c.length;d++)a.rows.push(c[d]),d!=c.length-1&&a.rows.push(jd(a,c[d],c[d+1]))}
function jd(a,c,d){a=new h.i.$l(a.m,a.Ov(c,d),a.Pv(c,d));c.Ob&&(a.gk=!0);d.Ob&&(a.Mk=!0);return a}b.Pv=function(){return this.width-this.je};b.Ov=function(){return this.m.ue};b.jq=function(a,c){return h.i.s.zd(c)?a.oe+c.height/2:h.i.s.Wm(a)?(a=a.oe+a.height-a.Kp,h.i.s.Ii(c)?a+c.height/2:a-c.height/2):h.i.s.mn(a)?h.i.s.$m(c)?a.Oj-c.height/2:a.Oj+c.height/2:a.oe+a.height/2};
b.Fm=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.oe=c;e.mb=this.je;c+=e.height;a=Math.max(a,e.ne);for(var f=e,g=f.mb,k=0;e=f.elements[k];k++)h.i.s.zd(e)&&(e.height=f.height),e.mb=g,e.ki=this.jq(f,e),g+=e.width}this.C&&this.Fa.V&&this.Fa.V.isConnected()&&(a=Math.max(a,z(this.Fa.V.ma()).width));this.Ye=Math.max(this.Ye,a+this.je);this.height=c;this.Vr=this.vb.Oj;this.xb.gm=c-this.xb.Kp};h.i.cf=function(a,c){this.Fa=a;this.na=c;a.Ma();this.Vm=this.W="";this.m=c.$a.m};b=h.i.cf.prototype;b.draw=function(){kd(this);this.Am();ld(this);this.Fa.pb.Nn(this.W+"\n"+this.Vm);this.na.I&&this.Fa.pb.Gm();h.i.kl&&this.Fa.Br.QA(this.Fa,this.na);md(this)};function md(a){a.Fa.height=a.na.height;a.Fa.width=a.na.Ye}function kd(a){for(var c=0,d;d=a.na.cw[c];c++)d.icon.GB.setAttribute("display","none")}
b.Am=function(){var a=this.na.vb,c=a.elements;nd(this);this.W+=h.g.w.moveBy(a.mb,this.na.Vr);for(var d=0,e;e=c[d];d++)h.i.s.fn(e)?this.W+=this.m.Cj.hD:h.i.s.pw(e)?this.W+=this.m.Cj.iD:h.i.s.jn(e)?this.W+=e.shape.Kk:h.i.s.$m(e)?this.W+=this.m.cp.path:h.i.s.zd(e)&&(this.W+=h.g.w.Z("h",e.width));this.W+=h.g.w.Z("v",a.height);for(a=1;a<this.na.rows.length-1;a++)if(c=this.na.rows[a],c.Zv)this.W+=this.m.Ll.path+h.g.w.Z("v",c.height-this.m.Ll.height);else if(c.Ob)this.rv(c);else if(c.lk){d=dd(c);e=dd(c);
if(e.Sf){var f=c.mb+c.width;this.na.I&&(f*=-1);gc(e.Sf,f,c.oe)}e="function"==typeof d.shape.Oe?d.shape.Oe(d.height):d.shape.Oe;this.W+=h.g.w.Z("H",d.mb+d.width)+e+h.g.w.Z("v",c.height-d.qm)}else this.qv(c);a=this.na.xb;c=a.elements;od(this);d=0;e="";f=c.length-1;for(var g;g=c[f];f--)h.i.s.Ii(g)?e+=g.shape.Fn:h.i.s.Fq(g)?e+=h.g.w.Z("H",a.mb):h.i.s.fn(g)?e+=this.m.Cj.Zz:h.i.s.pw(g)?(e+=this.m.Cj.$z,d=this.m.Cj.Mn):h.i.s.zd(g)&&(e+=h.g.w.Z("h",-1*g.width));this.W+=h.g.w.Z("V",a.gm-d);this.W+=e;c=this.na.C;
pd(this);c&&(a=c.Vc+c.height,c="function"==typeof c.shape.ng?c.shape.ng(c.height):c.shape.ng,this.W+=h.g.w.Z("V",a)+c);this.W+="z"};b.rv=function(a){var c=dd(a);this.W+=h.g.w.Z("H",c.mb+c.ce+c.shape.width)+(c.shape.Fn+h.g.w.Z("h",-(c.ce-this.m.nc.width))+this.m.nc.pr)+h.g.w.Z("v",a.height-2*this.m.nc.height)+this.m.nc.nr+h.g.w.Z("H",a.mb+a.width);qd(this,a)};b.qv=function(a){this.W+=h.g.w.Z("V",a.oe+a.height)};
function ld(a){for(var c=0,d;d=a.na.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.s.cn(f))a.pv(f);else if(h.i.s.an(f)||h.i.s.Hi(f)){var g=a;if(h.i.s.Hi(f))var k=f.Vg.ca();else h.i.s.an(f)&&(k=f.icon.GB);var l=f.ki-f.height/2,m=f.mb,n="";g.na.I&&(m=-(m+f.width),f.YA&&(m+=f.width,n="scale(-1 1)"));h.i.s.an(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.qA()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.na.wf&&k.setAttribute("display",
"none")}}b.pv=function(a){var c=a.width,d=a.height,e=a.Vc,f=a.qm+e;this.Vm+=h.g.w.moveTo(a.mb+a.lf,a.ki-d/2)+h.g.w.Z("v",e)+a.shape.Oe+h.g.w.Z("v",d-f)+h.g.w.Z("h",c-a.lf)+h.g.w.Z("v",-d)+"z";rd(this,a)};function rd(a,c){var d=c.ki-c.height/2;if(c.Sf){var e=c.mb+c.lf+c.Ge;a.na.I&&(e*=-1);gc(c.Sf,e,d+c.Vc)}}function qd(a,c){var d=dd(c);if(d.Sf){var e=c.mb+c.hj+d.ce;a.na.I&&(e*=-1);gc(d.Sf,e,c.oe)}}function nd(a){var c=a.na.vb;if(c.connection){var d=c.mb+c.ce;gc(c.connection.Sf,a.na.I?-d:d,0)}}
function od(a){var c=a.na.xb;if(c.connection){var d=c.connection,e=d.mb;gc(d.Sf,a.na.I?-e:e,c.gm)}}function pd(a){if(a.na.C){var c=a.na.je+a.na.C.Ge;gc(a.Fa.C,a.na.I?-c:c,a.na.C.Vc)}};h.i.Md=function(a,c,d){this.m=d;this.Cf=a;this.Nc=h.g.j.G("path",{"class":"blocklyPath"},this.Cf);this.style=c;this.Bd=this.Wc=null};b=h.i.Md.prototype;b.Nn=function(a){this.Nc.setAttribute("d",a)};b.Gm=function(){this.Nc.setAttribute("transform","scale(-1 1)")};b.yf=function(a){a?(this.Cf.appendChild(a),this.Wc=a):this.Wc=null};b.Af=function(a){a?(this.Wc?this.Cf.insertBefore(a,this.Wc):this.Cf.appendChild(a),this.Bd=a):this.Bd=null};
b.fc=function(a){this.Nc.setAttribute("stroke",this.style.Qf);this.Nc.setAttribute("fill",this.style.mi);a.Da&&(this.Nc.setAttribute("stroke","none"),this.Nc.setAttribute("fill",this.style.Pu));a=!a.isEnabled()||Zb(a);K(this,"blocklyDisabled",a);a&&this.Nc.setAttribute("fill","url(#"+this.m.kv+")")};b.cj=function(a){this.style=a};function K(a,c,d){d?h.g.j.Cb(a.Cf,c):h.g.j.bd(a.Cf,c)}b.ks=function(a){K(this,"blocklySelected",a)};b.js=function(a){K(this,"blocklyReplaceable",a)};b.ls=function(){};h.i.Fg=function(a){this.name=a;this.m=null};b=h.i.Fg.prototype;b.Ia=function(){this.m=this.vw();this.m.Ia()};b.vw=function(){return new h.i.Jd};b.Aw=function(a){return new h.i.nd(this,a)};b.ww=function(a,c){return new h.i.cf(a,c)};b.Rq=function(a,c){return new h.i.Bb(a,this.m,c)};b.zw=function(a,c){return new h.i.Md(a,c,this.m)};b.Qr=function(){return!0};b.qx=function(a,c){return!c.isConnected()||!!h.ga.rw(a,c.ea.R())};
b.Aa=function(a){if(h.i.kl&&!a.Br){if(!h.i.Dy)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.i.Dy;a.Br=c}c=this.Aw(a);c.measure();this.ww(a,c).draw()};h.P={};
h.P.Jd=function(){h.P.Jd.u.constructor.call(this);this.ve=this.ta=4;this.ue=2*this.ta;this.yj=4*this.ta;this.bb=1*this.ta;this.Pl=9*this.ta;this.Wh=2*this.ta;this.Vl=this.If=3*this.ta;this.ut=2*this.ta;this.Nl=12*this.ta;this.so=6*this.ta;this.Hg=0;this.gu=this.ta;this.iu=this.yj;this.Ds=this.ta;this.Cs=6*this.ta;this.au=-this.Wh;this.vz=40*this.ta;this.gp=4*this.ta;this.Ss=4*this.ta;this.Rs=8*this.ta;this.El=8*this.ta;this.qo=6*this.ta;this.pj=20*this.ta;this.Js="#ffa200";this.Ks=5;this.qt=this.ot=
0;this.ep=22;this.fp=96;this.Rc={Sh:1,Ul:2,$t:3,Ot:4,Vh:5};this.Zt={1:{0:5*this.ta,1:2*this.ta,2:5*this.ta,3:5*this.ta},2:{0:3*this.ta,1:3*this.ta,2:1*this.ta,3:2*this.ta},3:{0:2*this.ta,1:2*this.ta,2:2*this.ta,3:2*this.ta}};this.Ph=3*this.ta;this.Ff="bold";this.ef='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif';this.zo=this.tj=13.1;this.vo=this.bb;this.df=2*this.ta;this.uo=8*this.ta;this.wo=8*this.ta;this.Ys=this.Xs=this.xo=!0;this.Zs=this.df;this.Ao=h.g.userAgent.ly?-.45:0;this.dw="";this.wq=
null;this.Cr=""};h.g.object.S(h.P.Jd,h.i.Jd);b=h.P.Jd.prototype;b.Ia=function(){h.P.Jd.u.Ia.call(this);this.Sh=sd(this);this.Vt=td(this);this.uz=ud(this);this.Vl+=this.nc.jx};b.H=function(){h.P.Jd.u.H.call(this);this.wq&&h.g.j.removeNode(this.wq)};b.Bw=function(){var a=this.ep,c=this.fp,d=h.g.w.curve("c",[h.g.w.ka(25,-a),h.g.w.ka(71,-a),h.g.w.ka(c,0)]);return{height:a,width:c,path:d}};
function sd(a){function c(d,e,f){var g=d/2;f=f?-1:1;d=(e?-1:1)*d/2;return h.g.w.lineTo(-f*g,d)+h.g.w.lineTo(f*g,d)}return{type:a.Rc.Sh,lw:!0,width:function(d){return d/2},height:function(d){return d},Vc:function(d){return d/2},Ge:function(d){return-d},Oe:function(d){return c(d,!1,!1)},ng:function(d){return c(d,!0,!1)},Gn:function(d){return c(d,!1,!0)},Uw:function(d){return c(d,!1,!0)}}}
function td(a){function c(d,e,f){d/=2;return h.g.w.arc("a","0 0 "+(e||f?1:0),d,h.g.w.ka(0,(e?-1:1)*d*2))}return{type:a.Rc.Ul,lw:!0,width:function(d){return d/2},height:function(d){return d},Vc:function(d){return d/2},Ge:function(d){return-d},Oe:function(d){return c(d,!1,!1)},ng:function(d){return c(d,!0,!1)},Gn:function(d){return c(d,!1,!0)},Uw:function(d){return c(d,!1,!0)}}}
function ud(a){function c(e,f,g){e-=2*d;return h.g.w.arc("a","0 0,1",d,h.g.w.ka((f?-1:1)*d,(f?-1:1)*d))+h.g.w.Z("v",(g?1:-1)*e)+h.g.w.arc("a","0 0,1",d,h.g.w.ka((f?1:-1)*d,(f?-1:1)*d))}var d=a.bb;return{type:a.Rc.$t,lw:!0,width:function(){return d},height:function(e){return e},Vc:function(e){return e/2},Ge:function(e){return-e},Oe:function(e){return c(e,!1,!1)},ng:function(e){return c(e,!0,!1)},Gn:function(e){return c(e,!1,!0)},Uw:function(e){return c(e,!1,!0)}}}
b.dj=function(a){var c=a.Qd;!c&&a.ea&&(c=a.ea.Qd);switch(a.type){case h.La:case h.Qc:a=a.R().Rw;if(null!=a)switch(a){case this.Rc.Sh:return this.Sh;case this.Rc.Ul:return this.Vt;case this.Rc.$t:return this.uz}return c&&-1!=c.indexOf("Boolean")?this.Sh:this.Vt;case h.md:case h.za:return this.Vh;default:throw Error("Unknown type");}};
b.yw=function(){function a(n){return h.g.w.curve("c",[h.g.w.ka(n*f/2,0),h.g.w.ka(n*f*3/4,k/2),h.g.w.ka(n*f,k)])+h.g.w.line([h.g.w.ka(n*f,g)])+h.g.w.curve("c",[h.g.w.ka(n*f/4,k/2),h.g.w.ka(n*f/2,k),h.g.w.ka(n*f,k)])+h.g.w.Z("h",n*e)+h.g.w.curve("c",[h.g.w.ka(n*f/2,0),h.g.w.ka(n*f*3/4,-(k/2)),h.g.w.ka(n*f,-k)])+h.g.w.line([h.g.w.ka(n*f,-g)])+h.g.w.curve("c",[h.g.w.ka(n*f/4,-(k/2)),h.g.w.ka(n*f/2,-k),h.g.w.ka(n*f,-k)])}var c=this.Pl,d=this.Wh,e=c/3,f=e/3,g=d/2,k=g/2,l=a(1),m=a(-1);return{type:this.Rc.Vh,
width:c,height:d,Kk:l,Fn:m}};b.xw=function(){var a=this.bb,c=h.g.w.arc("a","0 0,0",a,h.g.w.ka(-a,a)),d=h.g.w.arc("a","0 0,1",a,h.g.w.ka(-a,a)),e=h.g.w.arc("a","0 0,0",a,h.g.w.ka(a,a)),f=h.g.w.arc("a","0 0,1",a,h.g.w.ka(a,a));return{width:a,height:a,pr:c,nr:e,jx:a,Mn:a,BC:d,AC:f}};b.yv=function(a){return h.g.ib.hm("#000",a,.15)||a};b.zv=function(a){return h.g.ib.hm("#000",a,.25)||a};
b.Ga=function(a){h.P.Jd.u.Ga.call(this,a);a=h.g.j.G("defs",{},a);var c=h.g.j.G("filter",{id:"blocklyHighlightGlowFilter"+this.Ok,height:"160%",width:"180%",y:"-30%",x:"-40%"},a);h.g.j.G("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:.5},c);var d=h.g.j.G("feComponentTransfer",{result:"outBlur"},c);h.g.j.G("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},d);h.g.j.G("feFlood",{"flood-color":"#fff200","flood-opacity":1,result:"outColor"},c);h.g.j.G("feComposite",{"in":"outColor",
in2:"outBlur",operator:"in",result:"outGlow"},c);this.dw=c.id;this.wq=c;a=h.g.j.G("filter",{id:"blocklyReplacementGlowFilter"+this.Ok,height:"160%",width:"180%",y:"-30%",x:"-40%"},a);h.g.j.G("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:2},a);c=h.g.j.G("feComponentTransfer",{result:"outBlur"},a);h.g.j.G("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c);h.g.j.G("feFlood",{"flood-color":"#fff200","flood-opacity":1,result:"outColor"},a);h.g.j.G("feComposite",{"in":"outColor",
in2:"outBlur",operator:"in",result:"outGlow"},a);h.g.j.G("feComposite",{"in":"SourceGraphic",in2:"outGlow",operator:"over"},a);this.Cr=a.id};
b.Dv=function(a){a="."+a+"-renderer";return[a+" .blocklyText {","fill: #fff;","font-family: "+this.ef+";","font-size: "+this.Ph+"pt;","font-weight: "+this.Ff+";","}",a+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",a+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.Ws+";","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text,",a+" .blocklyNonEditableText>g>text,",a+" .blocklyEditableText>g>text {","fill: #575E75;","}",a+" .blocklyDraggable:not(.blocklyDisabled)",
" .blocklyEditableText:not(.editing):hover>rect ,",a+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.ef+";","font-weight: "+this.Ff+";","color: #575E75;","}",a+" .blocklyDropdownText {","fill: #fff !important;","}",a+".blocklyWidgetDiv .goog-menuitem,",a+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.ef+";","}",a+".blocklyDropDownDiv .goog-menuitem-content {",
"color: #fff;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fff200;","}",a+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.Ok+")","}"]};h.P.od=function(a){h.P.od.u.constructor.call(this,a)};h.g.object.S(h.P.od,h.i.od);h.P.od.prototype.si=function(){return!1};h.P.od.prototype.mk=function(a){var c=(a.wd?"cap"===a.wd:this.m.Zn)&&!a.C&&!a.T;return!!a.C||c};h.P.od.prototype.nk=function(a){return!!a.C};h.P.ed=function(a){h.P.ed.u.constructor.call(this,a)};h.g.object.S(h.P.ed,h.i.ed);h.P.ed.prototype.si=function(){return!1};h.P.ed.prototype.mk=function(a){return!!a.C};h.P.ed.prototype.nk=function(a){return!!a.C};h.P.Xo=function(a){h.P.Xo.u.constructor.call(this,a);this.type|=h.i.s.Sa("RIGHT_CONNECTION");this.width=this.height=0};h.g.object.S(h.P.Xo,h.i.ff);/*

 Copyright 2020 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.P.Lf=function(a,c){h.P.Lf.u.constructor.call(this,a,c);if(this.Cc){for(a=this.Cc;u(a);)a=u(a);a.V||(this.height=this.Uj,this.uA=!0)}};h.g.object.S(h.P.Lf,h.i.Lf);h.P.nd=function(a,c){h.P.nd.u.constructor.call(this,a,c);this.vb=new h.P.od(this.m);this.xb=new h.P.ed(this.m);this.xk=!0;this.nw=!Ub(c)||c.isCollapsed();this.Ui=this.C?new h.P.Xo(this.m):null};h.g.object.S(h.P.nd,h.i.nd);b=h.P.nd.prototype;
b.measure=function(){ed(this);fd(this);gd(this);for(var a=this.m.If+this.m.Pl,c=a,d=2;d<this.rows.length-1;d+=2){var e=this.rows[d-1],f=this.rows[d],g=this.rows[d+1];e=2==d?!!this.vb.Tm:!!e.gk;g=d+2>=this.rows.length-1?!!this.xb.Sm:!!g.Mk;if(h.i.s.jh(f)&&f.Ob)f.measure(),c=f.width-dd(f).width+a;else if(e&&(2==d||g)&&h.i.s.jh(f)&&!f.Ob){g=f.mb;e=null;for(var k=0,l;l=f.elements[k];k++)h.i.s.zd(l)&&(e=l),!(e&&(h.i.s.Hi(l)||h.i.s.dn(l))&&g<c)||h.i.s.Hi(l)&&(l.Vg instanceof h.zc||l.Vg instanceof h.hd)||
(e.width+=c-g),g+=l.width}}hd(this);id(this);this.Fm()};b.sx=function(a,c){return c?a.type==h.za||c.type==h.za?!0:a.type==h.La||a.type==h.Ld?!this.xk||this.nw:!1:!1};b.Km=function(a){return a.Ob?this.width-this.je-(this.m.nc.jx||0):h.P.nd.u.Km.call(this,a)};b.Lm=function(a,c){return a&&c||!this.C||!this.C.Ke?!a&&c&&h.i.s.kn(c)?this.m.gp:a&&h.i.s.fn(a)&&c&&(h.i.s.jn(c)||h.i.s.Ii(c))?c.ce-this.m.bb:a&&h.i.s.Fq(a)&&c&&h.i.s.$m(c)?this.m.Jf:this.m.ue:this.m.Jf};
b.Ov=function(a,c){if(h.i.s.mn(a)&&h.i.s.Wm(c))return this.m.Ey;var d=h.i.s.jh(a)&&a.Ob,e=h.i.s.jh(c)&&c.Ob;return e||d?(a=Math.max(this.m.ue,Math.max(this.m.Wh,this.m.nc.Mn||0)),e&&d?Math.max(a,this.m.El):a):h.i.s.mn(a)?a.Tm||this.C?this.m.Jf:this.m.ve:h.i.s.Wm(c)?this.C?this.m.Jf:this.m.ve:this.m.ue};b.Pv=function(a,c){var d=this.width-this.je;return h.i.s.jh(a)&&a.Ob||h.i.s.jh(c)&&c.Ob?Math.max(d,this.m.vz):d};
b.jq=function(a,c){return a.Ob&&!h.i.s.zd(c)?a.oe+this.m.so/2:h.P.nd.u.jq.call(this,a,c)};b.Cu=function(a,c){a.type==h.Ld&&c.Rm&&c.align==h.ol&&a.align==h.ao&&(c.hx=a);this.xk&&a.type==h.La?(c.elements.push(new h.i.Jl(this.m,a)),c.Yv=!0):a.type==h.za?(c.elements.push(new h.P.Lf(this.m,a)),c.Ob=!0):a.type==h.La?(c.elements.push(new h.i.Fl(this.m,a)),c.lk=!0):a.type==h.Ld&&(c.minHeight=Math.max(c.minHeight,a.R()&&a.R().Da?this.m.qo:this.m.El),c.Rm=!0);null==c.align&&(c.align=a.align)};
b.cm=function(a,c){if(a.hx){for(var d,e=0,f;(f=a.elements[e])&&(h.i.s.zd(f)&&(d=f),!h.i.s.Hi(f)||f.vC!=a.hx);e++);if(d){d.width+=c;a.width+=c;return}}h.P.nd.u.cm.call(this,a,c)};
function vd(a,c){if(!c)return 0;var d=a.C.width,e=a.C.shape.type,f=a.m;if(a.nw&&1<a.hw)switch(e){case f.Rc.Ul:return e=a.height/2,d-e*(1-Math.sin(Math.acos((e-a.m.ve)/e)));default:return 0}return h.i.s.cn(c)?(c=c.Cc?c.Cc.pb.Qw:c.shape.type,e==f.Rc.Sh&&e!=c?0:d-a.m.Zt[e][c]):h.i.s.Hi(c)?e==f.Rc.Ul&&c.Vg instanceof h.gE?d-2.75*f.ta:d-a.m.Zt[e][0]:h.i.s.an(c)?a.m.ve:0}
b.Fm=function(){if(this.C&&this.C.Ke){for(var a=0,c=0,d;d=this.rows[c];c++)d.oe=a,a+=d.height;this.height=a;c=this.C.shape.height(a);a=this.C.shape.width(a);this.C.height=c;this.C.width=a;this.C.je=a;this.C.Vc=this.C.shape.Vc(c);this.C.Ge=this.C.shape.Ge(a);this.Ui.height=c;this.Ui.width=a;this.Ui.ki=c/2;this.Ui.mb=this.width+a;this.je=a;this.width+=2*a;this.Ye+=2*a}if(this.C){for(c=a=0;d=this.rows[c];c++)if(h.i.s.jh(d)){var e=vd(this,d.elements[1]),f=vd(this,d.elements[d.elements.length-2]);a=e+
f;var g=this.m.ut+2*this.C.width;this.width-a<g&&(a=this.width-g,e=a/2,f=a/2);d.elements.unshift(new h.i.Gf(this.m,-e));d.elements.push(new h.i.Gf(this.m,-f))}if(a)for(this.width-=a,this.Ye-=a,this.Ui.mb-=a,c=0;d=this.rows[c];c++){if(h.i.s.mn(d)||h.i.s.Wm(d))d.elements[1].width-=a;d.width-=a;d.ne-=a}}if(!this.C)for(a=2;a<this.rows.length-1;a+=2)if(c=this.rows[a-1],d=this.rows[a],e=this.rows[a+1],f=2==a,g=a+2>=this.rows.length-1?!!this.xb.Sm:!!e.Mk,f?this.vb.Tm:c.gk){var k=3==d.elements.length&&(d.elements[1].Vg instanceof
h.zc||d.elements[1].Vg instanceof h.hd);if(!f&&k)c.height-=this.m.ve,e.height-=this.m.ve,d.height-=this.m.ue;else if(!f&&!g)c.height+=this.m.ve;else if(g){f=!1;for(g=0;k=d.elements[g];g++)if(h.i.s.cn(k)&&k.Cc&&!k.Cc.Da&&40<=z(k.Cc).height){f=!0;break}f&&(c.height-=this.m.ve,e.height-=this.m.ve)}}h.P.nd.u.Fm.call(this)};h.P.cf=function(a,c){h.P.cf.u.constructor.call(this,a,c)};h.g.object.S(h.P.cf,h.i.cf);b=h.P.cf.prototype;b.draw=function(){var a=this.Fa.pb;a.wh={};for(var c=0,d=Object.keys(a.ee),e;e=d[c];c++)a.wh[e]=1;kd(this);this.Am();ld(this);a.Nn(this.W+"\n"+this.Vm);this.na.I&&a.Gm();h.i.kl&&this.Fa.Br.QA(this.Fa,this.na);md(this);this.na.C&&(a.Qw=this.na.C.shape.type);if(a.wh){c=0;d=Object.keys(a.wh);for(var f;f=d[c];c++)e=a,e.ee[f].parentNode.removeChild(e.ee[f]),delete e.ee[f]}a.wh=null};
b.Am=function(){if(this.na.C&&this.na.C.Ke){var a=this.na.vb;nd(this);this.W+=h.g.w.moveBy(a.mb,this.na.Vr);this.W+=h.g.w.Z("h",a.width);this.W+=this.na.C.shape.Gn(this.na.C.height);a=this.na.xb;od(this);this.W+=h.g.w.Z("V",a.gm);this.W+=h.g.w.Z("h",-a.width);pd(this);this.W+=this.na.C.shape.ng(this.na.C.height);this.W+="z"}else h.P.cf.u.Am.call(this)};
b.qv=function(a){if(!(0>=a.height))if(a.Mk||a.gk){var c=this.m.nc.Mn;c=a.height-(a.Mk?c:0);this.W+=(a.gk?this.m.nc.AC:"")+(0<c?h.g.w.Z("V",a.oe+c):"")+(a.Mk?this.m.nc.BC:"")}else this.W+=h.g.w.Z("V",a.oe+a.height)};b.pv=function(a){rd(this,a);var c=a.input.name;if(!a.Cc&&!this.na.wf){var d=a.width-2*a.lf;a=h.g.w.moveTo(a.mb+a.lf,a.ki-a.height/2)+h.g.w.Z("h",d)+a.shape.Gn(a.height)+h.g.w.Z("h",-d)+a.shape.ng(a.height)+"z";d=this.Fa.pb;c=wd(d,c);c.setAttribute("d",a);c.setAttribute("fill",d.style.Qf)}};
b.rv=function(a){var c=dd(a);this.W+=h.g.w.Z("H",c.mb+c.ce+c.shape.width)+(c.shape.Fn+h.g.w.Z("h",-(c.ce-this.m.nc.width))+this.m.nc.pr)+h.g.w.Z("v",a.height-2*this.m.nc.height)+(this.m.nc.nr+h.g.w.Z("h",c.ce-this.m.nc.width)+(c.uA?"":c.shape.Kk))+h.g.w.Z("H",a.mb+a.width);qd(this,a)};h.P.Md=function(a,c,d){h.P.Md.u.constructor.call(this,a,c,d);this.m=d;this.Ve=null;this.ee={};this.Qw=this.wh=null};h.g.object.S(h.P.Md,h.i.Md);b=h.P.Md.prototype;b.Nn=function(a){h.P.Md.u.Nn.call(this,a);this.Ve&&this.Ve.setAttribute("d",a)};b.fc=function(a){h.P.Md.u.fc.call(this,a);a.Da&&a.getParent()&&this.Nc.setAttribute("stroke",a.getParent().style.Qf);a=0;for(var c=Object.keys(this.ee),d;d=c[a];a++)this.ee[d].setAttribute("fill",this.style.Qf)};
b.Gm=function(){h.P.Md.u.Gm.call(this);for(var a=0,c=Object.keys(this.ee),d;d=c[a];a++)this.ee[d].setAttribute("transform","scale(-1 1)")};b.ks=function(a){K(this,"blocklySelected",a);a?this.Ve||(this.Ve=this.Nc.cloneNode(!0),this.Ve.setAttribute("fill","none"),this.Ve.setAttribute("filter","url(#"+this.m.dw+")"),this.Cf.appendChild(this.Ve)):this.Ve&&(this.Cf.removeChild(this.Ve),this.Ve=null)};
b.js=function(a){K(this,"blocklyReplaceable",a);a?this.Nc.setAttribute("filter","url(#"+this.m.Cr+")"):this.Nc.removeAttribute("filter")};b.ls=function(a,c){(a=wd(this,a.Yd().name))&&(c?a.setAttribute("filter","url(#"+this.m.Cr+")"):a.removeAttribute("filter"))};function wd(a,c){a.ee[c]||(a.ee[c]=h.g.j.G("path",{"class":"blocklyOutlinePath",d:""},a.Cf));a.wh&&delete a.wh[c];return a.ee[c]};h.P.Bb=function(a,c,d){h.P.Bb.u.constructor.call(this,a,c,d)};h.g.object.S(h.P.Bb,h.i.Bb);h.P.Bb.prototype.Sr=function(a){var c=a.R();a=a.$.hg;var d=a.y+this.m.Ks;this.Ek.setAttribute("cx",a.x);this.Ek.setAttribute("cy",d);this.Qg=this.Ek;Yc(this,c);$c(this)};h.P.Bb.prototype.Rr=function(a){var c=!1;if(a.Sa()==h.v.types.Kf)this.Sr(a),c=!0;else if(a.Sa()==h.v.types.yc){c=a.$;var d=z(c);bd(this,0,0,d.width,d.height);Yc(this,c);$c(this);c=!0}c||h.P.Bb.u.Rr.call(this,a)};
h.P.Bb.prototype.wa=function(){h.P.Bb.u.wa.call(this);this.Ek.style.display="none"};h.P.Bb.prototype.Hp=function(){h.P.Bb.u.Hp.call(this);this.Ek=h.g.j.G("circle",{r:this.m.Ks,style:"display: none",fill:this.rd,stroke:this.rd,"stroke-width":this.m.Ls},this.Bd);Xc(this)&&h.g.j.G("animate",cd(this),this.Ek)};h.P.Fg=function(a){h.P.Fg.u.constructor.call(this,a)};h.g.object.S(h.P.Fg,h.i.Fg);b=h.P.Fg.prototype;b.vw=function(){return new h.P.Jd};b.Aw=function(a){return new h.P.nd(this,a)};b.ww=function(a,c){return new h.P.cf(a,c)};b.Rq=function(a,c){return new h.P.Bb(a,this.m,c)};b.zw=function(a,c){return new h.P.Md(a,c,this.m)};b.Qr=function(a){return a.type!=h.La&&a.type!==h.Qc};b.qx=function(){return!1};h.i.register("zelos",h.P.Fg);h.J.ADD_COMMENT="Add Comment";h.J.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.J.CLEAN_UP="Clean up Blocks";h.J.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";h.J.COLLAPSE_ALL="Collapse Blocks";h.J.COLLAPSE_BLOCK="Collapse Block";h.J.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.J.DELETE_BLOCK="Delete Block";h.J.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.J.DELETE_X_BLOCKS="Delete %1 Blocks";
h.J.DISABLE_BLOCK="Disable Block";h.J.DUPLICATE_BLOCK="Duplicate";h.J.DUPLICATE_COMMENT="Duplicate Comment";h.J.ENABLE_BLOCK="Enable Block";h.J.EXPAND_ALL="Expand Blocks";h.J.EXPAND_BLOCK="Expand Block";h.J.EXTERNAL_INPUTS="External Inputs";h.J.HELP="Help";h.J.INLINE_INPUTS="Inline Inputs";h.J.NEW_VARIABLE="Create variable...";h.J.NEW_VARIABLE_TITLE="New variable name:";h.J.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.J.REDO="Redo";h.J.REMOVE_COMMENT="Remove Comment";h.J.RENAME_VARIABLE="Rename variable...";
h.J.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.J.UNDO="Undo";h.J.UNNAMED_KEY="unnamed";h.J.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.J.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.J.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.J.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.J.PROCEDURES_DEFRETURN_PROCEDURE=h.J.PROCEDURES_DEFNORETURN_PROCEDURE;
var BlocklyStorage={},xd=null,yd=null,zd=null;function Ad(){var a=xd();Bd("xml="+encodeURIComponent(a),Cd)}var Dd={};
function Bd(a,c){Dd["/storage"]&&Dd["/storage"].abort();Dd["/storage"]=new XMLHttpRequest;Dd["/storage"].onload=function(){200===this.status?c&&c.call(this):Ed(N("Games_httpRequestError")+"\nXHR status: "+this.status);Dd["/storage"]=null};Dd["/storage"].open("POST","/storage");Dd["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");Dd["/storage"].send(a)}
function Cd(){window.location.hash=this.responseText.trim();Ed(N("Games_linkAlert").replace("%1",window.location.href));zd=xd()}function Fd(){var a=this.responseText.trim();a.length?yd(a):Ed(N("Games_hashError").replace("%1",window.location.hash));zd=xd()}function Ed(a){if("object"===typeof O){var c=document.getElementById("linkButton");O.$C(c,a)}else alert(a)};var D=null;function Gd(){Rc();var a=document.getElementById("linkButton");a&&(Pc?a.style.display="none":(xd=Hd,yd=Id,Vc(a,Ad)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Jd,!0)}
function Kd(){var a='<xml><block movable="'+(1!=M)+'" type="maze_moveForward" x="70" y="70"></block></xml>';if(!Pc&&1<window.location.hash.length)Bd("key="+encodeURIComponent(window.location.hash.substring(1)),Fd);else{var c=null;try{c=window.sessionStorage.Oq}catch(e){}c&&delete window.sessionStorage.Oq;var d=Sc(M);(a=c||d||a)&&Id(a)}}function Id(a){a=h.L.tg(a);D.clear();h.L.Tg(a,D);a=D;a.Fh.length=0;a.Pk.length=0;h.h.mA()}
function Hd(){var a=h.L.Jx(!0);if(1==D.ob(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.L.Vd(a)}function Ld(){"object"==typeof BlocklyStorage&&null!==zd&&zd!=Hd()&&(window.location.hash="",zd=null)}function Md(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;a.renderer="zelos";D=h.$f("blockly",a);F(D,Ld)}
function Nd(){window.location=(Pc?"index.html":"./")+"?lang="+L}function Jd(){window.sessionStorage&&(window.sessionStorage.Oq=Hd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Od(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+L+"&level="+(M+1):Nd()}function Pd(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Ec(a,void 0)}function Qd(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Rd(a){if("click"==a.type&&"touchend"==Sd&&Td+2E3>Date.now()||Sd==a.type&&Td+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Sd=a.type;Td=Date.now();return!1}
var Sd=null,Td=0;function Ud(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function Vd(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var O={hh:!1,hv:null,um:null,Uk:function(a,c,d,e,f,g){function k(){O.hh&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);O.hh&&O.xd(!1);h.va()&&h.jc(!0);O.hh=!0;O.hv=c;O.um=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),O.Lp=h.Tb(e,"mousedown",null,O.EA));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(O.qn(c,!1,.2),O.qn(l,!0,.8),setTimeout(k,175)):k()},iv:0,jv:0,EA:function(a){O.Op();if(!h.g.zk(a)){var c=document.getElementById("dialog");O.iv=c.offsetLeft-a.clientX;O.jv=c.offsetTop-a.clientY;O.Np=h.Tb(document,"mouseup",null,O.Op);O.Mp=h.Tb(document,"mousemove",null,O.FA);a.stopPropagation()}},FA:function(a){var c=document.getElementById("dialog"),
d=O.iv+a.clientX;a=O.jv+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Op:function(){O.Np&&(h.eb(O.Np),O.Np=null);O.Mp&&(h.eb(O.Mp),O.Mp=null)},xd:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(O.hh){O.Op();O.Lp&&(h.eb(O.Lp),O.Lp=null);O.hh=!1;O.um&&O.um();O.um=null;var d=!1===a?
null:O.hv;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(O.qn(a,!1,.8),O.qn(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},qn:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=O.Cv(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Cv:function(a){var c=h.g.style.Zg(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},$C:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");O.Uk(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},O.zx);O.vx()},Au:function(){if(!Sc(M))if(O.hh||D.Gc())setTimeout(O.Au,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",O.xd,!0);c.addEventListener("touchend",O.xd,!0);c=document.getElementById("abortOk");c.addEventListener("click",Nd,!0);c.addEventListener("touchend",Nd,
!0);O.Uk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",O.zu,!0)});document.body.addEventListener("keydown",O.zu,!0)}},sA:function(){var a=document.getElementById("dialogDone");if(D){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Wd();d=Qd(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?N("Games_linesOfCode1"):N("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>M?N("Games_nextLevel").replace("%1",String(M+1)):N("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",O.xd,!0);c.addEventListener("touchend",O.xd,!0);c=document.getElementById("doneOk");c.addEventListener("click",Od,!0);c.addEventListener("touchend",
Od,!0);O.Uk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",O.Su,!0)});document.body.addEventListener("keydown",O.Su,!0);document.getElementById("dialogDoneText").textContent=d},gv:function(a){!O.hh||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(O.xd(!0),a.stopPropagation(),a.preventDefault())},vx:function(){document.body.addEventListener("keydown",O.gv,!0)},zx:function(){document.body.removeEventListener("keydown",O.gv,!0)},Su:function(a){if(13==
a.keyCode||27==a.keyCode||32==a.keyCode)O.xd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Od()},zu:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)O.xd(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Nd()}};window.BlocklyDialogs=O;O.hideDialog=O.xd;h.Generator=function(a){this.iC=a};h.Generator.At="generated_function";b=h.Generator.prototype;b.et=null;b.Wl=null;b.Xl=null;b.Ty="  ";b.oy=60;b.Tl=[];
function Wd(){var a=h.F,c=D;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.va());var d=[];a.Ia(c);c=c.ob(!0);for(var e=0,f;f=c[e];e++){var g=Xd(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.C&&(g=a.mx(g),a.Wl&&!f.Yr&&(g=Yd(a.Wl,f)+g),a.Xl&&!f.Yr&&(g+=Yd(a.Xl,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}function Zd(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function Xd(a,c){if(!c)return"";if(!c.isEnabled())return Xd(a,u(c));var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.iC+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.C)throw TypeError("Expecting string from statement block: "+c.type);return[a.Hr(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.Wl&&!c.Yr&&(d=Yd(a.Wl,c)+d),a.Xl&&!c.Yr&&(d+=Yd(a.Xl,c)),a.Hr(c,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function $d(a,c,d){var e=h.F;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=bc(a,c);if(!f)return"";c=Xd(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var g=Math.floor(d),k=Math.floor(c);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<e.Tl.length;g++)if(e.Tl[g][0]==d&&e.Tl[g][1]==c){f=!1;break}f&&(a=
"("+a+")");return a}function ae(a,c){var d=h.F;a=bc(a,c);c=Xd(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=Zd(c,d.Ty));return c}function Yd(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.To="";function be(a,c){a.To+=c+","}b.Ia=function(){};b.Hr=function(a,c){return c};b.finish=function(a){return a};b.mx=function(a){return a};h.F=new h.Generator("JavaScript");be(h.F,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.F.cF=0;h.F.uF=1.1;h.F.Sl=1.2;h.F.Rl=2;h.F.rF=3;h.F.lF=3;h.F.fF=4.1;h.F.xF=4.2;h.F.Jt=4.3;h.F.Ft=4.4;
h.F.wF=4.5;h.F.yF=4.6;h.F.mF=4.7;h.F.dF=4.8;h.F.pF=5;h.F.Ht=5.1;h.F.nF=5.2;h.F.tF=5.3;h.F.It=6.1;h.F.Ql=6.2;h.F.hF=7;h.F.vF=8;h.F.qF=8;h.F.sF=8;h.F.oF=9;h.F.eF=10;h.F.iF=11;h.F.gF=12;h.F.Et=13;h.F.Gt=14;h.F.kF=15;h.F.bF=16;h.F.zF=17;h.F.jF=18;h.F.lz=99;h.F.Tl=[[h.F.Rl,h.F.Sl],[h.F.Rl,h.F.Rl],[h.F.Sl,h.F.Sl],[h.F.Sl,h.F.Rl],[h.F.Ft,h.F.Ft],[h.F.Ht,h.F.Ht],[h.F.Ql,h.F.Ql],[h.F.Et,h.F.Et],[h.F.Gt,h.F.Gt]];
h.F.Ia=function(a){h.F.tm=Object.create(null);h.F.aB=Object.create(null);h.F.ml?h.F.ml.reset():h.F.ml=new h.kd(h.F.To);h.F.ml.Nr(a.Ea);for(var c=[],d=h.X.Pz(a),e=0;e<d.length;e++)c.push(Lc(d[e],h.kd.po));a=h.X.Du(a);for(e=0;e<a.length;e++)c.push(Lc(a[e].ub(),h.di));c.length&&(h.F.tm.variables="var "+c.join(", ")+";")};h.F.finish=function(a){var c=[],d;for(d in h.F.tm)c.push(h.F.tm[d]);delete h.F.tm;delete h.F.aB;h.F.ml.reset();return c.join("\n\n")+"\n\n\n"+a};h.F.mx=function(a){return a+";\n"};
h.F.EC=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.F.bH=function(a){return a.split(/\n/g).map(h.F.EC).join(" + '\\n' +\n")};
h.F.Hr=function(a,c,d){var e="";if(!a.C||!a.C.ea){var f=a.Rd.text;f&&(f=h.g.Ja.Kx(f,h.F.oy-3),e+=Zd(f+"\n","// "));for(var g=0;g<a.O.length;g++)if(a.O[g].type==h.La){var k=a.O[g].connection.ma();if(k){f=[];k=p(k,!0);for(var l=0;l<k.length;l++){var m=k[l].Rd.text;m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Zd(f,"// "))}}}a=a.V&&a.V.ma();d=d?"":Xd(h.F,a);return e+c+d};
h.F.GG=function(a,c,d,e,f){d=d||0;f=f||h.F.lz;a.B.options.Dn&&d--;var g=a.B.options.Dn?"1":"0";a=0<d?$d(a,c,h.F.Ql)||g:0>d?$d(a,c,h.F.It)||g:e?$d(a,c,h.F.Jt)||g:$d(a,c,f)||g;if(h.RB(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=h.F.Ql}else 0>d&&(a=a+" - "+-d,k=h.F.It);e&&(a=d?"-("+a+")":"-"+a,k=h.F.Jt);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.hd=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.Kc(a);d=Number(h.g.Kc(d));c=Number(h.g.Kc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.fk=!1;this.em="";h.hd.u.constructor.call(this,a||"",null,k);k||(this.fk=!!g,this.em=h.g.Kc(e)||"");this.jb=new h.g.gf(c,d+h.hd.Gz);this.HB=d;this.Pf=null;"function"==
typeof f&&(this.Pf=f);this.Fc=null};h.g.object.S(h.hd,h.gd);h.hd.oa=function(a){return new h.hd(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.hd.Gz=1;b=h.hd.prototype;b.rj=!1;b.ag=!1;b.Tj=function(a){h.hd.u.Tj.call(this,a);this.fk=!!a.flipRtl;this.em=h.g.Kc(a.alt)||""};b.Um=function(){this.Fc=h.g.j.G("image",{height:this.HB+"px",width:this.jb.width+"px",alt:this.em},this.Ec);this.Fc.setAttributeNS(h.g.j.Sc,"xlink:href",this.Xe)};b.xm=function(a){return"string"!=typeof a?null:a};
b.ym=function(a){this.Xe=a;this.Fc&&this.Fc.setAttributeNS(h.g.j.Sc,"xlink:href",String(this.Xe))};b.Hv=function(){return this.fk};b.Vk=function(){this.Pf&&this.Pf(this)};b.pq=function(){return this.em};h.Xc.register("field_image",h.hd);var ce={},P,de,fe,Q,R,T,ge;h.bc.maze_moveForward={Ia:function(){ac(this,{message0:N("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:N("Maze_moveForwardTooltip")})}};h.F.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};h.bc.maze_turn={Ia:function(){var a=[[N("Maze_turnLeft"),"turnLeft"],[N("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.ge(290);J($b(this),new h.Oa(a),"DIR");this.Ah(!0);this.$i(!0);this.ie(N("Maze_turnTooltip"))}};
h.F.maze_turn=function(a){return Ta(a,"DIR")+"('block_id_"+a.id+"');\n"};h.bc.maze_if={Ia:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.ge(210);J($b(this),new h.Oa(a),"DIR");J(this.jf(h.za,"DO"),N("Maze_doCode"));this.ie(N("Maze_ifTooltip"));this.Ah(!0);this.$i(!0)}};h.F.maze_if=function(a){var c=Ta(a,"DIR")+"('block_id_"+a.id+"')";a=ae(a,"DO");return"if ("+c+") {\n"+a+"}\n"};
h.bc.maze_ifElse={Ia:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.ge(210);J($b(this),new h.Oa(a),"DIR");J(this.jf(h.za,"DO"),N("Maze_doCode"));J(this.jf(h.za,"ELSE"),N("Maze_elseCode"));this.ie(N("Maze_ifelseTooltip"));this.Ah(!0);this.$i(!0)}};
h.F.maze_ifElse=function(a){var c=Ta(a,"DIR")+"('block_id_"+a.id+"')",d=ae(a,"DO");a=ae(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};h.bc.maze_forever={Ia:function(){this.ge(120);J(J($b(this),N("Maze_repeatUntil")),new h.hd(U.pn,12,16));J(this.jf(h.za,"DO"),N("Maze_doCode"));this.Ah(!0);this.ie(N("Maze_whileTooltip"))}};h.F.maze_forever=function(a){var c=ae(a,"DO");h.F.et&&(c=h.F.et.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};var he=he||{};function ie(a,c){function d(){}d.prototype=c.prototype;a.u=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.pG=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!je){var je,ke="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(ke=navigator.userAgent);var le=0==ke.indexOf("Opera");je={$G:{mE:"ScriptEngine"in window},aF:le,se:!le&&-1!=ke.indexOf("MSIE"),su:!le&&-1!=ke.indexOf("WebKit")}}if(!me)var me={};
if(!ne)var ne={};if(!oe)var oe={};if(!pe)var pe={};if(!qe)var qe={};if(!re)var re={};var se=he.wy?{lH:!0}:{},te=he.wy?{mH:!0}:{};function ue(){throw Error("Do not instantiate directly");}ue.prototype.Wu=null;ue.prototype.toString=function(){return this.content};function ve(a){if(null!=a)switch(a.Wu){case 1:return 1;case -1:return-1;case 0:return 0}return null}function we(){ue.call(this)}ie(we,ue);we.prototype.Xu=se;
function V(a){return null!=a&&a.Xu===se?a:xe(String(String(a)).replace(ye,ze),ve(a))}var xe=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.Wu=e);return f}}(we),Ae={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function ze(a){return Ae[a]}var ye=/[\x00\x22\x26\x27\x3c\x3e]/g;function Be(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Ce(){var a="skin="+V(De),c='<table width="100%"><tr><td><h1><span id="title">'+((Pc?'<a href="index.html?lang='+V(L)+'">':'<a href="./?lang='+V(L)+'">')+"Blockly Games</a> : "+V("Maze")+"</span>");if(M){a=""+(a?V(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+V(L)+"&level="+V(e)+(a?"&"+V(a):"");d+=" "+(e==M?'<span class="level_number level_done" id="level'+V(e)+'">'+V(e)+"</span>":10==e?'<a class="level_number" id="level'+V(e)+'" href="'+V(f)+'">'+V(e)+"</a>":'<a class="level_dot" id="level'+
V(e)+'" href="'+V(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Maze_moveForward">move forward</span><span id="Maze_turnLeft">turn left</span><span id="Maze_turnRight">turn right</span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;'+('<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.Xu===te?"zSoyz":'<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>')+
((2<M?'<block type="maze_forever"></block>'+(6==M?'<block type="maze_if"><field name="DIR">isPathLeft</field></block>':6<M?'<block type="maze_if"></block>'+(8<M?'<block type="maze_ifElse"></block>':""):""):"")+'</xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(Be()+"</div>")+(1==M?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Stack a couple of \'move forward\' blocks together to help me reach the goal.</td><td valign="top"><img src="maze/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==M?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the maze. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==M||4==M?(3==M?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':5==M?
'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="maze/help_up.png"></td></tr></table></div>':6==M?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==M?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==M?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="maze/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==M?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated maze? Try following the left-hand wall. Advanced programmers only!'+
Be()+"</td></tr></table></div>":"")};var Uc="maze";Od=function(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+L+"&level="+(M+1)+"&skin="+De:Nd()};
var Ee=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][M],Fe=[{ej:"maze/pegman.png",Zr:"maze/tiles_pegman.png",pn:"maze/marker.png",background:!1,Qq:"#000",os:["maze/win.mp3","maze/win.ogg"],Gp:["maze/fail_pegman.mp3","maze/fail_pegman.ogg"],rm:1},{ej:"maze/astro.png",Zr:"maze/tiles_astro.png",pn:"maze/marker.png",background:"maze/bg_astro.jpg",Qq:"#fff",os:["maze/win.mp3","maze/win.ogg"],Gp:["maze/fail_astro.mp3","maze/fail_astro.ogg"],rm:2},{ej:"maze/panda.png",Zr:"maze/tiles_panda.png",pn:"maze/marker.png",
background:"maze/bg_panda.jpg",Qq:"#000",os:["maze/win.mp3","maze/win.ogg"],Gp:["maze/fail_panda.mp3","maze/fail_panda.ogg"],rm:3}],De=Qc("skin",0,Fe.length),U=Fe[De],W=[void 0,[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,2,1,3,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,
0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],
[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,
0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][M],Ge=W.length,He=W[0].length,Ie=50*He,Je=50*Ge,X=0,Y=[],Ke={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function Le(){function a(m,n){return 0>m||m>=He||0>n||n>=Ge?"0":0==W[n][m]?"0":"1"}var c=document.getElementById("svgMaze"),d=50*Math.max(Ge,He);c.setAttribute("viewBox","0 0 "+d+" "+d);h.g.j.G("rect",{height:Je,width:Ie,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},c);if(U.background){var e=h.g.j.G("image",{height:Je,width:Ie,x:0,y:0},c);e.setAttributeNS(h.g.j.Sc,"xlink:href",U.background)}for(var f=d=0;f<Ge;f++)for(var g=0;g<He;g++){var k=a(g,f)+a(g,f-1)+a(g+1,f)+a(g,f+1)+a(g-1,f);Ke[k]||(k="00000"==
k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));e=Ke[k][0];k=Ke[k][1];var l=h.g.j.G("clipPath",{id:"tileClipPath"+d},c);h.g.j.G("rect",{height:50,width:50,x:50*g,y:50*f},l);e=h.g.j.G("image",{height:200,width:250,"clip-path":"url(#tileClipPath"+d+")",x:50*(g-e),y:50*(f-k)},c);e.setAttributeNS(h.g.j.Sc,"xlink:href",U.Zr);d++}h.g.j.G("image",{id:"finish",height:34,width:20},c).setAttributeNS(h.g.j.Sc,"xlink:href",U.pn);d=h.g.j.G("clipPath",{id:"pegmanClipPath"},c);h.g.j.G("rect",{id:"clipRect",
height:52,width:49},d);h.g.j.G("image",{id:"pegman",height:52,width:1029,"clip-path":"url(#pegmanClipPath)"},c).setAttributeNS(h.g.j.Sc,"xlink:href",U.ej)}
function Me(a){if(!(a&&a.type==h.h.Hj||D.Gc()||1==X||Sc(M))){a=-1!=Nc.indexOf(L);var c=h.L.Vd(h.L.Jx()),d=D.Y.o.ob(!0),e=null,f=null,g=null;if(1==M)2>E(D).length?(e=document.getElementById("dialogHelpStack"),g={width:"370px",top:"130px"},g[a?"right":"left"]="215px",f=d[0].ca()):(d=D.ob(!0),1<d.length?(e='<xml>;<block type="maze_moveForward" x="10" y="10">;<next>;<block type="maze_moveForward"></block>;</next>;</block>;</xml>'.split(";"),f=document.getElementById("sampleOneTopBlock"),f.firstChild||
(f=h.$f(f,{rtl:-1!=Nc.indexOf(L),readOnly:!0}),"string"!=typeof e&&(e=e.join("")),h.L.Tg(h.L.tg(e),f)),e=document.getElementById("dialogHelpOneTopBlock"),g={width:"360px",top:"120px"},g[a?"right":"left"]="225px",f=d[0].ca()):0==X&&(e=document.getElementById("dialogHelpRun"),g={width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("runButton")));else if(2==M)0!=X&&"none"==document.getElementById("runButton").style.display&&(e=document.getElementById("dialogHelpReset"),g=
{width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("resetButton"));else if(3==M)-1==c.indexOf("maze_forever")&&(0==Wa(D)?(e=document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble")):(e=document.getElementById("dialogHelpRepeat"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].ca()));else if(4==M)if(0==Wa(D)&&(-1==c.indexOf("maze_forever")||1<D.ob(!1).length))e=
document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble");else{c=!0;for(var k=E(D),l=0;l<k.length;l++){var m=k[l];if("maze_forever"==m.type){for(var n=0;m;)m=Qa(m),m=m.length?m[0]:null,n++;if(2<n){c=!1;break}}}c&&(e=document.getElementById("dialogHelpRepeatMany"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].ca())}else if(5==M)0!=De||Ne.Mz||(e=document.getElementById("dialogHelpSkins"),g={width:"360px",
top:"60px"},g[a?"left":"right"]="20px",f=document.getElementById("pegmanButton"));else if(6==M)-1==c.indexOf("maze_if")&&(e=document.getElementById("dialogHelpIf"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].ca());else if(7==M){if(!Me.KB){k=document.createElement("span");k.className="helpMenuFake";l=[N("Maze_pathAhead"),N("Maze_pathLeft"),N("Maze_pathRight")];n=h.g.Ja.Qu(l);m=h.g.Ja.Ru(l);k.textContent=(m?l[0].slice(n,-m):l[0].substring(n))+" "+h.Oa.rl;n=document.getElementById("helpMenuText");
l=n.textContent;n.textContent="";m=l.split(/%\d/);for(l=0;l<m.length;l++)n.appendChild(document.createTextNode(m[l])),l!=m.length-1&&n.appendChild(k.cloneNode(!0));Me.KB=!0}-1==c.indexOf("isPathRight")&&(e=document.getElementById("dialogHelpMenu"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].ca())}else 9==M&&-1==c.indexOf("maze_ifElse")&&(e=document.getElementById("dialogHelpIfElse"),g={width:"360px",top:"305px"},g[a?"right":"left"]="425px",f=d[5].ca());e?e.parentNode!=document.getElementById("dialog")&&
O.Uk(e,f,!0,!1,g,null):O.xd(!1)}}function Ne(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?Oe(a):Rd(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",ce.qr=h.Tb(document.body,"mousedown",null,Oe),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&O.xd(!1),Ne.Mz=!0)}
function Oe(a){Rd(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),ce.qr&&(h.eb(ce.qr),delete ce.qr))}
function Pe(a){for(var c=0;c<Y.length;c++)clearTimeout(Y[c]);Y=[];Q=de.x;R=de.y;a?(T=2,Qe(!1),Y.push(setTimeout(function(){P=100;Re([Q,R,4*T-4]);T++},5*P))):(T=1,Z(Q,R,4*T));c=document.getElementById("finish");c.setAttribute("x",50*(fe.x+.5)-c.getAttribute("width")/2);c.setAttribute("y",50*(fe.y+.6)-c.getAttribute("height"));c=document.getElementById("look");c.style.display="none";c.parentNode.appendChild(c);a=c.getElementsByTagName("path");c=0;for(var d;d=a[c];c++)d.setAttribute("stroke",U.Qq)}
function Se(a){if(!Rd(a))if(O.xd(!1),1==M&&1<D.ob(!1).length&&1!=X&&!Sc(M))Me();else{a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";Pe(!1);Te()}}function Ue(a){Rd(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Ec(null),Pe(!1),Me())}
function Ve(a,c){var d=function(e){We(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){We(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){Xe(0,e)};a.setProperty(c,"turnLeft",a.createNativeFunction(d));d=function(e){Xe(1,e)};a.setProperty(c,"turnRight",a.createNativeFunction(d));d=function(e){return Ye(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return Ye(1,e)};a.setProperty(c,"isPathRight",a.createNativeFunction(d));
d=function(e){return Ye(2,e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return Ye(3,e)};a.setProperty(c,"isPathLeft",a.createNativeFunction(d));a.setProperty(c,"notDone",a.createNativeFunction(function(){return Q!=fe.x||R!=fe.y}))}
function Te(){if("Interpreter"in window){ge=[];h.selected&&fb(h.selected);var a=Wd();X=0;a=new Interpreter(a,Ve);try{for(var c=1E4;a.step();)if(0==c--)throw Infinity;X=Q!=fe.x||R!=fe.y?-1:1}catch(d){Infinity===d?X=2:!1===d?X=-2:(X=-2,alert(d))}1==X?(P=100,ge.push(["finish",null])):P=150;Pe(!1);Y.push(setTimeout(Ze,100))}else setTimeout(Te,250)}
function Ze(){var a=ge.shift();if(a){Pd(a[1]);switch(a[0]){case "north":Re([Q,R-1,4*T]);R--;break;case "east":Re([Q+1,R,4*T]);Q++;break;case "south":Re([Q,R+1,4*T]);R++;break;case "west":Re([Q-1,R,4*T]);Q--;break;case "look_north":$e(0);break;case "look_east":$e(1);break;case "look_south":$e(2);break;case "look_west":$e(3);break;case "fail_forward":af(!0);break;case "fail_backward":af(!1);break;case "left":Re([Q,R,4*T-4]);T=bf(T-1);break;case "right":Re([Q,R,4*T+4]);T=bf(T+1);break;case "finish":Qe(!0),
window.localStorage&&(window.localStorage[Uc+M]=Hd()),setTimeout(O.sA,1E3)}Y.push(setTimeout(Ze,5*P))}else Pd(null),Me()}function cf(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var c=document.getElementById("pegSpin"),d=O.Cv(c),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=h.g.Cd.dD(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);c.style.backgroundPosition=49*-e+"px 0px"}}
function Re(a){var c=[Q,R,4*T],d=[(a[0]-c[0])/4,(a[1]-c[1])/4,(a[2]-c[2])/4];Z(c[0]+d[0],c[1]+d[1],df(c[2]+d[2]));Y.push(setTimeout(function(){Z(c[0]+2*d[0],c[1]+2*d[1],df(c[2]+2*d[2]))},P));Y.push(setTimeout(function(){Z(c[0]+3*d[0],c[1]+3*d[1],df(c[2]+3*d[2]))},2*P));Y.push(setTimeout(function(){Z(a[0],a[1],df(a[2]))},3*P))}
function af(a){var c=0,d=0;switch(T){case 0:d=-1;break;case 1:c=1;break;case 2:d=1;break;case 3:c=-1}a||(c=-c,d=-d);if(1==U.rm){c/=4;d/=4;var e=df(4*T);Z(Q+c,R+d,e);D.Bc.play("fail",.5);Y.push(setTimeout(function(){Z(Q,R,e)},P));Y.push(setTimeout(function(){Z(Q+c,R+d,e);D.Bc.play("fail",.5)},2*P));Y.push(setTimeout(function(){Z(Q,R,e)},3*P))}else{var f=10*(Math.random()-.5),g=(Math.random()-.5)/2;c+=(Math.random()-.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==U.rm&&(k=.01);Y.push(setTimeout(function(){D.Bc.play("fail",
.5)},2*P));a=function(m){return function(){Z(Q+c*m,R+d*m,df(4*T+g*m),f*m);d+=k}};for(var l=1;100>l;l++)Y.push(setTimeout(a(l),P*l/2))}}function Qe(a){var c=df(4*T);Z(Q,R,16);a&&D.Bc.play("win",.5);P=150;Y.push(setTimeout(function(){Z(Q,R,18)},P));Y.push(setTimeout(function(){Z(Q,R,16)},2*P));Y.push(setTimeout(function(){Z(Q,R,c)},3*P))}
function Z(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",50*a-49*d+1);f.setAttribute("y",50*(c+.5)-26-8);e?f.setAttribute("transform","rotate("+e+", "+(50*a+25)+", "+(50*c+25)+")"):f.setAttribute("transform","rotate(0, 0, 0)");c=document.getElementById("clipRect");c.setAttribute("x",50*a+1);c.setAttribute("y",f.getAttribute("y"))}
function $e(a){var c=Q,d=R;switch(a){case 0:c+=.5;break;case 1:c+=1;d+=.5;break;case 2:c+=.5;d+=1;break;case 3:d+=.5}c*=50;d*=50;var e=90*a-45;a=document.getElementById("look");a.setAttribute("transform","translate("+c+", "+d+") rotate("+e+" 0 0) scale(.4)");c=a.getElementsByTagName("path");a.style.display="inline";for(d=0;a=c[d];d++)ef(a,P*d)}function ef(a,c){Y.push(setTimeout(function(){a.style.display="inline";setTimeout(function(){a.style.display="none"},2*P)},c))}
function bf(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function df(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function We(a,c){if(!Ye(a,null))throw ge.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(bf(T+a)){case 0:R--;var d="north";break;case 1:Q++;d="east";break;case 2:R++;d="south";break;case 3:Q--,d="west"}ge.push([d,c])}function Xe(a,c){a?(T++,ge.push(["right",c])):(T--,ge.push(["left",c]));T=bf(T)}
function Ye(a,c){switch(bf(T+a)){case 0:var d=W[R-1]&&W[R-1][Q];var e="look_north";break;case 1:d=W[R][Q+1];e="look_east";break;case 2:d=W[R+1]&&W[R+1][Q];e="look_south";break;case 3:d=W[R][Q-1],e="look_west"}c&&ge.push([e,c]);return 0!==d&&void 0!==d}
window.addEventListener("load",function(){function a(){l.style.top=Math.max(10,m.offsetTop-window.pageYOffset)+"px";l.style.left=k?"10px":"420px";l.style.width=window.innerWidth-440+"px"}function c(n){return function(){window.sessionStorage&&(window.sessionStorage.Oq=Hd());location=location.protocol+"//"+location.host+location.pathname+"?lang="+L+"&level="+M+"&skin="+n}}document.body.innerHTML=Ce();Gd();document.querySelector("#pegmanButton>img").style.backgroundImage="url("+U.ej+")";for(var d=document.getElementById("pegmanMenu"),
e=0;e<Fe.length;e++)if(e!=De){var f=document.createElement("div"),g=document.createElement("img");g.src="common/1x1.gif";g.style.backgroundImage="url("+Fe[e].ej+")";f.appendChild(g);d.appendChild(f);h.Tb(f,"mousedown",null,c(e))}h.Tb(window,"resize",null,Oe);d=document.getElementById("pegmanButton");h.Tb(d,"mousedown",null,Ne);d=document.getElementById("pegmanButtonArrow");e=document.createTextNode(h.Oa.rl);d.appendChild(e);var k=-1!=Nc.indexOf(L),l=document.getElementById("blockly"),m=document.getElementById("visualization");
window.addEventListener("scroll",function(){a(null);h.bl(D)});window.addEventListener("resize",a);a(null);Md({maxBlocks:Ee,rtl:k,trashcan:!0,zoom:{startScale:1+(1-M/10)/3}});D.Bc.load(U.os,"win");D.Bc.load(U.Gp,"fail");be(h.F,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");Le();Kd();for(d=0;d<Ge;d++)for(e=0;e<He;e++)2==W[d][e]?de={x:e,y:d}:3==W[d][e]&&(fe={x:e,y:d});Pe(!0);F(D,function(){var n=Wa(D),q=document.getElementById("capacity");if(Infinity==
n)q.style.display="none";else{q.style.display="inline";q.innerHTML="";n=Number(n);var r=document.createElement("span");r.className="capacityNumber";r.appendChild(document.createTextNode(n));n=(0==n?N("Maze_capacity0"):1==n?N("Maze_capacity1"):N("Maze_capacity2")).split(/%\d/);for(var t=0;t<n.length;t++)q.appendChild(document.createTextNode(n[t])),t!=n.length-1&&q.appendChild(r.cloneNode(!0))}});document.body.addEventListener("mousemove",cf,!0);Vc("runButton",Se);Vc("resetButton",Ue);1==M&&(h.cc*=
2,h.Is=h.cc);10==M?Sc(M)||(d=document.getElementById("dialogHelpWallFollow"),O.Uk(d,null,!1,!0,{width:"30%",left:"35%",top:"12em"},O.zx),O.vx(),setTimeout(O.Au,3E5)):setTimeout(function(){F(D,Me);Me()},5E3);d=document.getElementById("dialogDoneButtons");e=document.createElement("img");e.id="pegSpin";e.src="common/1x1.gif";e.style.backgroundImage="url("+U.ej+")";d.parentNode.insertBefore(e,d);Ud();Vd()});
