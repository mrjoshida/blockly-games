// Automatically generated file.  Do not edit!
/*

 Copyright 2019 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
'use strict';var b,h={g:{}};h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();/*

 Copyright 2013 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.h={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.h);/*

 Copyright 2016 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.nL={};h.Gx=40;h.Tx=125;h.TC=5;h.ZC=10;h.Cd=28;h.IC=h.Cd;h.LC=8;h.nD="#000000";h.Bo=250;h.Nr=10;h.GC=30;h.BD=750;h.$D=100;h.UC=!0;h.iD=.45;h.jD=.65;h.Dd={width:96,height:124,url:"sprites.png"};h.Ta=1;h.me=2;h.bb=3;h.Ge=4;h.mf=5;h.wo=-1;h.Ir=0;h.nk=1;h.ZI=0;h.$I=1;h.XI=1;h.YI=2;h.Ek=[];h.Ek[h.Ta]=h.me;h.Ek[h.me]=h.Ta;h.Ek[h.bb]=h.Ge;h.Ek[h.Ge]=h.bb;h.$g=0;h.gj=1;h.Ud=2;h.Zg=3;h.Yw=null;h.Tr=1;h.Zw=2;h.ac="VARIABLE";h.lE="VARIABLE_DYNAMIC";h.km="PROCEDURE";h.ay="RENAME_VARIABLE_ID";h.$w="DELETE_VARIABLE_ID";h.g.pb={};h.g.pb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.pb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.pb.Qv(a,c,d):null};
h.g.pb.Qv=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.pb.tA=function(a){a=h.g.pb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.pb.xA=function(a){var c=h.iD,d=255*h.jD,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.pb.Qv(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.pb.up=function(a,c,d){a=h.g.pb.parse(a);if(!a)return null;c=h.g.pb.parse(c);if(!c)return null;a=h.g.pb.tA(a);c=h.g.pb.tA(c);return h.g.pb.Qv(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.pb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.T=function(a,c){this.x=a;this.y=c};h.g.T.Se=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.T.Yt=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.T.YG=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.T.Nm=function(a,c){return new h.g.T(a.x-c.x,a.y-c.y)};h.g.T.sum=function(a,c){return new h.g.T(a.x+c.x,a.y+c.y)};h.g.T.prototype.scale=function(a){this.x*=a;this.y*=a;return this};h.g.T.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.eb={};h.g.eb.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.eb.$v=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.eb.WE=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.eb.$v(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.eb.XE=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.eb.$v(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.eb.fC=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.eb.FI(a[d],c);return a.join("\n")};
h.g.eb.FI=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.eb.gC(d,a,c);e=h.g.eb.xw(d,a,c);a=h.g.eb.GI(d,a);f++}while(e>g);return k};
h.g.eb.xw=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.eb.gC=function(a,c,d){for(var e=h.g.eb.xw(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.eb.xw(a,k,d);l>e&&(e=l,f=k)}return f?h.g.eb.gC(a,f,d):c};h.g.eb.GI=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.gg=function(a,c){this.width=a;this.height=c};h.g.gg.Se=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.nh=function(a){if("none"!=h.g.style.gA(a,"display"))return h.g.style.dA(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.gg(g,a)};h.g.style.dA=function(a){return new h.g.gg(a.offsetWidth,a.offsetHeight)};h.g.style.gA=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.ZF(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.ZF=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.zj=function(a){var c=new h.g.T(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.T(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.pG=function(){var a=document.body,c=document.documentElement;return new h.g.T(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.Vv=function(a,c){a.style.display=c?"":"none"};h.g.style.kl=function(){return"rtl"==h.g.style.gA(void 0,"direction")};
h.g.style.WF=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.Sv=function(a,c){a=h.g.style.aG(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.aG=function(a,c){var d=h.g.style.zj(a),e=h.g.style.zj(c),f=h.g.style.WF(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.dA(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.T(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.rf=c("Trident")||c("MSIE");h.g.userAgent.Yi=c("Edge");h.g.userAgent.qD=c("JavaFX");h.g.userAgent.FC=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.Yi;h.g.userAgent.Ay=c("WebKit")&&!h.g.userAgent.Yi;h.g.userAgent.qx=c("Gecko")&&!h.g.userAgent.Ay&&!h.g.userAgent.rf&&!h.g.userAgent.Yi;h.g.userAgent.Rl=c("Android");h.g.userAgent.zk=c("iPad");h.g.userAgent.Ax=c("iPod");h.g.userAgent.zx=
c("iPhone")&&!h.g.userAgent.zk&&!h.g.userAgent.Ax;h.g.userAgent.ED=c("Macintosh");h.g.userAgent.fE=h.g.userAgent.zk||h.g.userAgent.Rl&&!c("Mobile")||c("Silk");h.g.userAgent.MD=!h.g.userAgent.fE&&(h.g.userAgent.Ax||h.g.userAgent.zx||h.g.userAgent.Rl||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");/*

 Copyright 2012 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.g.nH=function(a){a.preventDefault();a.stopPropagation()};h.g.yq=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
h.g.Xe=function(a){var c=new h.g.T(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.Xe.oE))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.Xe.pE))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.$m=function(a){for(var c=0,d=0;a;){var e=h.g.Xe(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.T(c,d)};h.g.Xe.oE=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.Xe.pE=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Mj=function(a){return a.ctrlKey&&h.g.userAgent.ED?!0:2==a.button};
h.g.Fn=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.cA=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.Gx,y:a.deltaY*h.Gx};case 2:return{x:a.deltaX*h.Tx,y:a.deltaY*h.Tx}}};h.g.oI=function(a){return h.g.nw(a,!0)};h.g.fe=function(a){if("string"!=typeof a)return a;a=h.g.nw(a,!1);return a.length?String(a[0]):""};
h.g.Uy=function(a){for(var c=h.h,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
h.g.nw=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.eb.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.h?(f=h.h[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.nw(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.kh=function(){for(var a=h.g.kh.NB.length,c=[],d=0;20>d;d++)c[d]=h.g.kh.NB.charAt(Math.random()*a);return c.join("")};
h.g.kh.NB="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Ij=function(){if(void 0!==h.g.Ij.wt)return h.g.Ij.wt;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Ij.wt="none"!==c;return h.g.Ij.wt};h.g.GB=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.oG=function(){var a=h.g.style.pG();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
h.g.gt=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.fG=function(){var a=document.documentElement,c=window;return h.g.userAgent.rf&&c.pageYOffset!=a.scrollTop?new h.g.T(a.scrollLeft,a.scrollTop):new h.g.T(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.nu=function(a,c){var d=Object.create(null),e=p(a,!0);c&&(a=t(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.UH=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.T(d-e.left,c-e.top);c=h.g.$m(a.jb);return h.g.T.Nm(d,c).scale(1/a.scale)};h.g.Wq=function(a){var c="string"==typeof a?h.g.fe(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{GG:d,jn:h.g.pb.xA(d)};if(d=h.g.pb.parse(c))return{GG:null,jn:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.sy="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.io=null;h.Touch.hg={};
h.g.global.PointerEvent?h.Touch.hg={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.sy&&(h.Touch.hg={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.Bq=0;
h.WG=function(a,c){h.ui();a.changedTouches&&1!=a.changedTouches.length||(h.Bq=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ba(c,a)},h.BD))};h.ui=function(){h.Bq&&(clearTimeout(h.Bq),h.Bq=0)};h.Touch.$h=function(){h.Touch.io=null};h.Touch.bw=function(a){return!h.Touch.PG(a)||h.Touch.SE(a)};
h.Touch.aq=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.SE=function(a){var c=h.Touch.aq(a);return void 0!==h.Touch.io&&null!==h.Touch.io?h.Touch.io==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.io=c,!0):!1};
h.Touch.XH=function(a){if(h.g.eb.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.PG=function(a){return h.g.eb.startsWith(a.type,"touch")||h.g.eb.startsWith(a.type,"mouse")||h.g.eb.startsWith(a.type,"pointer")};h.Touch.Aq=function(a){return h.g.eb.startsWith(a.type,"touch")||h.g.eb.startsWith(a.type,"pointer")};
h.Touch.fI=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.g.o={};h.g.o.lp="http://www.w3.org/2000/svg";h.g.o.yk="http://www.w3.org/1999/xhtml";h.g.o.wf="http://www.w3.org/1999/xlink";h.g.o.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.o.yf=null;h.g.o.tt=0;h.g.o.yp=null;h.g.o.G=function(a,c,d){a=document.createElementNS(h.g.o.lp,a);for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.o.Xa=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.o.Eb=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};h.g.o.eq=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};
h.g.o.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.o.Hj=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.o.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.o.Node.DOCUMENT_POSITION_CONTAINED_BY)};h.g.o.Un=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.o.ao=function(){h.g.o.tt++;h.g.o.yf||(h.g.o.yf={})};
h.g.o.bo=function(){h.g.o.tt--;h.g.o.tt||(h.g.o.yf=null)};h.g.o.mG=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.o.yf&&(d=h.g.o.yf[c]))return d;try{d=h.g.userAgent.rf||h.g.userAgent.Yi?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.o.yf&&(h.g.o.yf[c]=d);return d};
h.g.o.su=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.o.yf&&(g=h.g.o.yf[a]))return g;h.g.o.yp||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.o.yp=g.getContext("2d"));h.g.o.yp.font=d+" "+c+"pt "+e;g=h.g.o.yp.measureText(f).width;h.g.o.yf&&(h.g.o.yf[a]=g);return g};/*

 Copyright 2011 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.Jk=function(a){this.s=a;this.$e=new h.Qa(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.jf=new h.Qa(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.Im=h.g.o.G("rect",{height:h.Qa.Ac,width:h.Qa.Ac,"class":"blocklyScrollbarBackground"},null);h.g.o.Hj(this.Im,a.Tf)};h.Jk.prototype.Jb=null;h.Jk.prototype.H=function(){h.g.o.removeNode(this.Im);this.Jb=this.s=this.Im=null;this.$e.H();this.$e=null;this.jf.H();this.jf=null};
h.Jk.prototype.resize=function(){var a=this.s.Jc();if(a){var c=!1,d=!1;this.Jb&&this.Jb.qb==a.qb&&this.Jb.Ab==a.Ab&&this.Jb.Ec==a.Ec&&this.Jb.wc==a.wc?(this.Jb&&this.Jb.Df==a.Df&&this.Jb.jc==a.jc&&this.Jb.Gc==a.Gc||(c=!0),this.Jb&&this.Jb.Yd==a.Yd&&this.Jb.vc==a.vc&&this.Jb.xc==a.xc||(d=!0)):d=c=!0;c&&this.$e.resize(a);d&&this.jf.resize(a);this.Jb&&this.Jb.qb==a.qb&&this.Jb.wc==a.wc||this.Im.setAttribute("x",this.jf.ud.x);this.Jb&&this.Jb.Ab==a.Ab&&this.Jb.Ec==a.Ec||this.Im.setAttribute("y",this.$e.ud.y);
this.Jb=a}};h.Jk.prototype.set=function(a,c){var d={};a*=this.$e.Oc;c*=this.jf.Oc;var e=this.jf.hf,f=a/this.$e.hf;d.x=isNaN(f)?0:f;e=c/e;d.y=isNaN(e)?0:e;this.s.Cl(d);ca(this.$e,a);ca(this.jf,c)};
h.Qa=function(a,c,d,e){this.s=a;this.tl=d||!1;this.Dj=c;this.Jb=null;this.Jm(e);this.ud=new h.g.T(0,0);a=h.Qa.Ac;c?(this.ed.setAttribute("height",a),this.Ag.setAttribute("height",a),this.ge.setAttribute("height",a-5),this.ge.setAttribute("y",2.5),this.vn="width",this.tB="x"):(this.ed.setAttribute("width",a),this.Ag.setAttribute("width",a),this.ge.setAttribute("width",a-5),this.ge.setAttribute("x",2.5),this.vn="height",this.tB="y");this.lB=h.na(this.ed,"mousedown",this,this.vH);this.mB=h.na(this.ge,
"mousedown",this,this.wH)};b=h.Qa.prototype;b.yv=new h.g.T(0,0);b.QB=0;b.hf=0;b.li=0;b.dn=0;b.ri=!0;b.mj=!0;h.Qa.Ac=15;h.Touch.sy&&(h.Qa.Ac=25);h.Qa.$G=function(a,c){return a&&c&&a.qb==c.qb&&a.Ab==c.Ab&&a.jc==c.jc&&a.vc==c.vc&&a.Ec==c.Ec&&a.wc==c.wc&&a.Df==c.Df&&a.Yd==c.Yd&&a.Gc==c.Gc&&a.xc==c.xc?!0:!1};
h.Qa.prototype.H=function(){da();h.Ra(this.lB);this.lB=null;h.Ra(this.mB);this.mB=null;h.g.o.removeNode(this.Ag);this.ed=this.L=this.Ag=null;this.ge&&(this.s.tc.unsubscribe(this.ge),this.ge=null);this.s=null};function ca(a,c){a.dn=c;a.ge.setAttribute(a.tB,a.dn)}function ea(a,c){a.hf=c;a.Ag.setAttribute(a.vn,a.hf);a.ed.setAttribute(a.vn,a.hf)}h.Jk.prototype.ak=function(a){this.$e.ak(a);this.jf.ak(a)};
function fa(a,c,d){a.ud.x=c;a.ud.y=d;h.g.o.Un(a.Ag,"translate("+(a.ud.x+a.yv.x)+"px,"+(a.ud.y+a.yv.y)+"px)")}b=h.Qa.prototype;b.resize=function(a){if(!a&&(a=this.s.Jc(),!a))return;h.Qa.$G(a,this.Jb)||(this.Jb=a,this.Dj?ha(this,a):ja(this,a),ka(this))};function ha(a,c){var d=c.qb-1;a.tl&&(d-=h.Qa.Ac);ea(a,Math.max(0,d));d=c.wc+.5;a.tl&&a.s.J&&(d+=h.Qa.Ac);fa(a,d,c.Ec+c.Ab-h.Qa.Ac-.5);la(a,c)}
function la(a,c){a.tl||a.Zb(a.hf<c.Df);a.Oc=a.hf/c.Df;if(-Infinity==a.Oc||Infinity==a.Oc||isNaN(a.Oc))a.Oc=0;a.li=Math.max(0,c.qb*a.Oc);a.ge.setAttribute(a.vn,a.li);ca(a,ma(a,(c.jc-c.Gc)*a.Oc))}function ja(a,c){var d=c.Ab-1;a.tl&&(d-=h.Qa.Ac);ea(a,Math.max(0,d));d=c.wc+.5;a.s.J||(d+=c.qb-h.Qa.Ac-1);fa(a,d,c.Ec+.5);na(a,c)}
function na(a,c){a.tl||a.Zb(a.hf<c.Yd);a.Oc=a.hf/c.Yd;if(-Infinity==a.Oc||Infinity==a.Oc||isNaN(a.Oc))a.Oc=0;a.li=Math.max(0,c.Ab*a.Oc);a.ge.setAttribute(a.vn,a.li);ca(a,ma(a,(c.vc-c.xc)*a.Oc))}
b.Jm=function(a){var c="blocklyScrollbar"+(this.Dj?"Horizontal":"Vertical");a&&(c+=" "+a);this.Ag=h.g.o.G("svg",{"class":c},null);this.L=h.g.o.G("g",{},this.Ag);this.ed=h.g.o.G("rect",{"class":"blocklyScrollbarBackground"},this.L);a=Math.floor((h.Qa.Ac-5)/2);this.ge=h.g.o.G("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.L);this.s.tc.subscribe(this.ge,"scrollbarColour","fill");this.s.tc.subscribe(this.ge,"scrollbarOpacity","fill-opacity");h.g.o.Hj(this.Ag,u(this.s))};b.isVisible=function(){return this.ri};
b.ak=function(a){var c=a!=this.mj;this.mj=a;c&&this.no()};b.Zb=function(a){var c=a!=this.isVisible();if(this.tl)throw Error("Unable to toggle visibility of paired scrollbars.");this.ri=a;c&&this.no()};b.no=function(){this.mj&&this.isVisible()?this.Ag.setAttribute("display","block"):this.Ag.setAttribute("display","none")};
b.vH=function(a){oa(this.s);h.Touch.$h();da();if(h.g.Mj(a))a.stopPropagation();else{var c=h.g.Fn(a,u(this.s),pa(this.s));c=this.Dj?c.x:c.y;var d=h.g.$m(this.ge);d=this.Dj?d.x:d.y;var e=this.dn,f=.95*this.li;c<=d?e-=f:c>=d+this.li&&(e+=f);ca(this,ma(this,e));ka(this);a.stopPropagation();a.preventDefault()}};
b.wH=function(a){oa(this.s);da();h.g.Mj(a)?a.stopPropagation():(this.gI=this.dn,qa(this.s),this.QB=this.Dj?a.clientX:a.clientY,h.Qa.cd=h.na(document,"mouseup",this,this.BH),h.Qa.Bi=h.na(document,"mousemove",this,this.xH),a.stopPropagation(),a.preventDefault())};b.xH=function(a){ca(this,ma(this,this.gI+((this.Dj?a.clientX:a.clientY)-this.QB)));ka(this)};b.BH=function(){ra(this.s);h.Touch.$h();da()};function da(){h.zc(!0);h.Qa.cd&&(h.Ra(h.Qa.cd),h.Qa.cd=null);h.Qa.Bi&&(h.Ra(h.Qa.Bi),h.Qa.Bi=null)}
function ma(a,c){return c=0>=c||isNaN(c)||a.hf<a.li?0:Math.min(c,a.hf-a.li)}function ka(a){var c=a.dn/a.hf;isNaN(c)&&(c=0);var d={};a.Dj?d.x=c:d.y=c;a.s.Cl(d)}b.set=function(a){ca(this,ma(this,a*this.Oc));ka(this)};h.g.oc={};h.g.oc.lw=function(a){return a*Math.PI/180};h.g.oc.QL=function(a){return 180*a/Math.PI};h.g.oc.Me=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};h.i={};h.i.mA="";h.i.Pc=!0;h.i.Ut=0;h.i.Ko="create";h.i.zo=h.i.Ko;h.i.Ul="delete";h.i.Lr=h.i.Ul;h.i.Vi="change";h.i.xC=h.i.Vi;h.i.cm="move";h.i.Kw=h.i.cm;h.i.uy="var_create";h.i.vy="var_delete";h.i.xy="var_rename";h.i.pm="ui";h.i.Ho="comment_create";h.i.Qw="comment_delete";h.i.Pw="comment_change";h.i.Io="comment_move";h.i.px="finished_loading";h.i.AC=[h.i.zo,h.i.Kw,h.i.Ho,h.i.Io];h.i.Xl=[];h.i.Ea=function(a){h.i.isEnabled()&&(h.i.Xl.length||setTimeout(h.i.PF,0),h.i.Xl.push(a))};
h.i.PF=function(){for(var a=h.i.filter(h.i.Xl,!0),c=h.i.Xl.length=0,d;d=a[c];c++)if(d.Sb){var e=h.Bb.Xm(d.Sb);if(e){var f=d;if(f.Pc)for(e.gk.push(f),e.On.length=0;e.gk.length>e.Hx&&0<=e.Hx;)e.gk.shift();for(var g=0;d=e.Jd[g];g++)d(f)}}};
h.i.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.jl()){var k=[g.type,g.Fc,g.Sb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.i.cm&&l.index==f-1)m.Uj=g.Uj,m.Tj=g.Tj,m.yi=g.yi,l.index=f;else if(g.type==h.i.Vi&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type!=h.i.pm||"click"!=g.element||"commentOpen"!=m.element&&"mutatorOpen"!=m.element&&"warningOpen"!=m.element)e[k]={event:g,
index:1},d.push(g)}a=d.filter(function(n){return!n.jl()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.i.Vi&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.i.VE=function(){for(var a=0,c;c=h.i.Xl[a];a++)c.Pc=!1};h.i.disable=function(){h.i.Ut++};h.i.enable=function(){h.i.Ut--};h.i.isEnabled=function(){return 0==h.i.Ut};h.i.fc=function(){return h.i.mA};h.i.ca=function(a){h.i.mA="boolean"==typeof a?a?h.g.kh():"":a};
h.i.Wz=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};
h.i.ya=function(a){switch(a.type){case h.i.Ko:var c=new h.i.lf(null);break;case h.i.Ul:c=new h.i.ag(null);break;case h.i.Vi:c=new h.i.Nh(null,"","","","");break;case h.i.cm:c=new h.i.bj(null);break;case h.i.uy:c=new h.i.Je(null);break;case h.i.vy:c=new h.i.uf(null);break;case h.i.xy:c=new h.i.kg(null,"");break;case h.i.pm:c=new h.i.lc(null,"","","");break;case h.i.Ho:c=new h.i.Sg(null);break;case h.i.Pw:c=new h.i.pk(null,"","");break;case h.i.Io:c=new h.i.Xi(null);break;case h.i.Qw:c=new h.i.Tg(null);
break;case h.i.px:c=new h.i.tk(void 0);break;default:throw Error("Unknown event type.");}c.ya(a);c.Sb=(void 0).id;return c};h.i.xz=function(a){if((a.type==h.i.cm||a.type==h.i.Ko)&&a.Sb){var c=h.Bb.Xm(a.Sb);if(a=c.Fd(a.Fc)){var d=a.getParent();if(d&&d.isEnabled())for(c=p(a,!1),a=0;d=c[a];a++)d.wd(!0);else if((a.F||a.Z)&&!c.nc()){do a.wd(!1),a=t(a);while(a)}}}};/*

 Copyright 2018 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.Ys=function(a,c,d,e){this.name=a;this.kj=c;this.xt=d;this.YE=e||Object.create(null)};function sa(a,c){return(c=a.YE[c])&&"string"==typeof propertyValue&&sa(a,c)?sa(a,c):c?String(c):null};h.Vh={};h.Vh.Wi={};h.Vh.Wi.oF={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.Vh.Wi.xt={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};h.Vh.Wi=new h.Ys("classic",h.Vh.Wi.oF,h.Vh.Wi.xt);h.g.Ca={dL:0,LJ:3,wC:8,eE:9,UJ:12,Xr:13,Ik:16,TI:17,rC:18,GK:19,MI:20,Yr:27,WK:32,FK:33,EK:34,bJ:35,DJ:36,ps:37,pp:38,Gs:39,Mo:40,JK:43,KK:44,ns:45,Ul:46,ZERO:48,ONE:49,ZK:50,XK:51,xJ:52,wJ:53,UK:54,SK:55,aJ:56,SJ:57,uJ:59,sJ:61,rJ:173,tJ:163,LK:63,II:64,Aw:65,JI:66,CC:67,Ww:68,E:69,dJ:70,yJ:71,BJ:72,kD:73,GJ:74,rD:75,HJ:76,KJ:77,RJ:78,jK:79,DK:80,Q:81,MK:82,ey:83,dE:84,$K:85,iE:86,zy:87,Gy:88,fL:89,qE:90,LD:91,eL:92,SI:93,iK:96,bK:97,hK:98,gK:99,YJ:100,XJ:101,fK:102,eK:103,WJ:104,aK:105,$J:106,dK:107,
ZJ:109,cK:110,VJ:111,eJ:112,iJ:113,jJ:114,kJ:115,lJ:116,mJ:117,nJ:118,oJ:119,pJ:120,fJ:121,gJ:122,hJ:123,TJ:144,QK:145,vJ:166,IJ:183,RK:186,UI:189,cJ:187,RI:188,HK:190,VK:191,HI:192,YK:192,TK:222,kK:219,KI:220,OI:221,cL:224,MJ:224,NJ:91,OJ:93,bL:229,aL:252,IK:255};h.g.object={};h.g.object.U=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.zg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.Na={};h.Na.Ia={};h.Na.Ia.Nj={};h.Na.Ia.wi={Ik:"Shift",KC:"Control",rC:"Alt",LD:"Meta"};h.Na.Ia.KL=function(a,c){var d=h.Na.Ia.iG(c);d&&delete h.Na.Ia.Nj[d];h.Na.Ia.Nj[a]=c};h.Na.Ia.ZH=function(a){h.Na.Ia.Nj=a};h.Na.Ia.tL=function(){var a={};h.g.object.zg(a,h.Na.Ia.Nj);return a};h.Na.Ia.UF=function(a){return h.Na.Ia.Nj[a]};h.Na.Ia.iG=function(a){for(var c=Object.keys(h.Na.Ia.Nj),d=0,e;e=c[d];d++)if(h.Na.Ia.Nj[e].name===a.name)return e;return null};
h.Na.Ia.VH=function(a){for(var c=h.g.object.values(h.Na.Ia.wi),d="",e=0,f;f=c[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};h.Na.Ia.QE=function(a,c){for(var d=0,e;e=a[d];d++)if(0>c.indexOf(e))throw Error(e+" is not a valid modifier key.");};h.Na.Ia.Km=function(a,c){var d="",e=h.g.object.values(h.Na.Ia.wi);h.Na.Ia.QE(c,e);for(var f=0,g;g=e[f];f++)-1<c.indexOf(g)&&(d+=g);return d+a};
h.Na.Ia.eF=function(){var a={},c=h.Na.Ia.Km(h.g.Ca.rD,[h.Na.Ia.wi.KC,h.Na.Ia.wi.Ik]),d=h.Na.Ia.Km(h.g.Ca.zy,[h.Na.Ia.wi.Ik]),e=h.Na.Ia.Km(h.g.Ca.Aw,[h.Na.Ia.wi.Ik]),f=h.Na.Ia.Km(h.g.Ca.ey,[h.Na.Ia.wi.Ik]),g=h.Na.Ia.Km(h.g.Ca.Ww,[h.Na.Ia.wi.Ik]);a[h.g.Ca.zy]=h.navigation.vo;a[h.g.Ca.Aw]=h.navigation.Cw;a[h.g.Ca.ey]=h.navigation.uo;a[h.g.Ca.Ww]=h.navigation.Bw;a[h.g.Ca.kD]=h.navigation.kC;a[h.g.Ca.Xr]=h.navigation.lC;a[h.g.Ca.Gy]=h.navigation.jC;a[h.g.Ca.dE]=h.navigation.qC;a[h.g.Ca.E]=h.navigation.Gr;
a[h.g.Ca.Yr]=h.navigation.Gr;a[c]=h.navigation.Dw;a[d]=h.navigation.pC;a[e]=h.navigation.nC;a[f]=h.navigation.mC;a[g]=h.navigation.oC;return a};h.i.Abstract=function(){this.Sb=void 0;this.group=h.i.fc();this.Pc=h.i.Pc};h.i.Abstract.prototype.$a=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};h.i.Abstract.prototype.ya=function(a){this.group=a.group};h.i.Abstract.prototype.jl=function(){return!1};h.i.Abstract.prototype.run=function(){};function ta(a){if(a.Sb)var c=h.Bb.Xm(a.Sb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.xml={};h.g.xml.ND="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.ND,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.lI=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.te=function(a){return(new XMLSerializer).serializeToString(a)};h.i.Zf=function(a){h.i.Zf.v.constructor.call(this);this.Fc=a.id;this.Sb=a.w.id};h.g.object.U(h.i.Zf,h.i.Abstract);h.i.Zf.prototype.$a=function(){var a=h.i.Zf.v.$a.call(this);a.blockId=this.Fc;return a};h.i.Zf.prototype.ya=function(a){h.i.Zf.v.ya.call(this,a);this.Fc=a.blockId};h.i.Nh=function(a,c,d,e,f){a&&(h.i.Nh.v.constructor.call(this,a),this.element=c,this.name=d,this.oldValue=e,this.newValue=f)};h.g.object.U(h.i.Nh,h.i.Zf);h.i.Qg=h.i.Nh;b=h.i.Nh.prototype;b.type=h.i.Vi;
b.$a=function(){var a=h.i.Nh.v.$a.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};b.ya=function(a){h.i.Nh.v.ya.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};b.jl=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=ta(this).Fd(this.Fc);if(c)switch(c.bd&&c.bd.Zb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=v(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.Gg(a||null);break;case "collapsed":c.Eh(!!a);break;case "disabled":c.wd(!a);break;case "inline":c.Qc(!!a);break;case "mutation":var d="";c.cb&&(d=(d=c.cb())&&h.R.te(d));if(c.Cb){var e=h.R.Pi(a||"<mutation/>");c.Cb(e)}h.i.Ea(new h.i.Nh(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Fc)};h.i.lf=function(a){a&&(h.i.lf.v.constructor.call(this,a),this.xml=a.w.ma?h.R.qt(a):h.R.Yh(a),this.ni=h.i.Wz(a))};h.g.object.U(h.i.lf,h.i.Zf);h.i.Eo=h.i.lf;h.i.lf.prototype.type=h.i.Ko;h.i.lf.prototype.$a=function(){var a=h.i.lf.v.$a.call(this);a.xml=h.R.te(this.xml);a.ids=this.ni;return a};
h.i.lf.prototype.ya=function(a){h.i.lf.v.ya.call(this,a);this.xml=h.R.Pi(a.xml);this.ni=a.ids};h.i.lf.prototype.run=function(a){var c=ta(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.R.ei(a,c);else{a=0;for(var d;d=this.ni[a];a++){var e=c.Fd(d);e?e.H(!1):d==this.Fc&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.i.ag=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");h.i.ag.v.constructor.call(this,a);this.rv=a.w.ma?h.R.qt(a):h.R.Yh(a);this.ni=h.i.Wz(a)}};h.g.object.U(h.i.ag,h.i.Zf);h.i.BC=h.i.ag;h.i.ag.prototype.type=h.i.Ul;h.i.ag.prototype.$a=function(){var a=h.i.ag.v.$a.call(this);a.ids=this.ni;return a};h.i.ag.prototype.ya=function(a){h.i.ag.v.ya.call(this,a);this.ni=a.ids};
h.i.ag.prototype.run=function(a){var c=ta(this);if(a){a=0;for(var d;d=this.ni[a];a++){var e=c.Fd(d);e?e.H(!1):d==this.Fc&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.rv),h.R.ei(a,c)};h.i.bj=function(a){a&&(h.i.bj.v.constructor.call(this,a),a=ua(this),this.cB=a.qB,this.bB=a.zA,this.ov=a.fz)};h.g.object.U(h.i.bj,h.i.Zf);h.i.Sl=h.i.bj;b=h.i.bj.prototype;b.type=h.i.cm;
b.$a=function(){var a=h.i.bj.v.$a.call(this);this.Uj&&(a.newParentId=this.Uj);this.Tj&&(a.newInputName=this.Tj);this.yi&&(a.newCoordinate=Math.round(this.yi.x)+","+Math.round(this.yi.y));return a};b.ya=function(a){h.i.bj.v.ya.call(this,a);this.Uj=a.newParentId;this.Tj=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.yi=new h.g.T(Number(a[0]),Number(a[1])))};b.Xj=function(){var a=ua(this);this.Uj=a.qB;this.Tj=a.zA;this.yi=a.fz};
function ua(a){var c=ta(a).Fd(a.Fc);a={};var d=c.getParent();if(d){a.qB=d.id;a:{for(var e=0,f;f=d.N[e];e++)if(f.connection&&f.connection.ga()==c){c=f;break a}c=null}c&&(a.zA=c.name)}else a.fz=c.Va();return a}b.jl=function(){return this.cB==this.Uj&&this.bB==this.Tj&&h.g.T.Se(this.ov,this.yi)};
b.run=function(a){var c=ta(this),d=c.Fd(this.Fc);if(d){var e=a?this.Uj:this.cB,f=a?this.Tj:this.bB;a=a?this.yi:this.ov;var g=null;if(e&&(g=c.Fd(e),!g)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&w(d);if(a)f=d.Va(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.F||d.Z;if(f){if(c=y(g,f))var k=c.connection}else d.type==h.Ge&&(k=g.V);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Fc)};h.i.lc=function(a,c,d,e){h.i.lc.v.constructor.call(this);this.Fc=a?a.id:null;this.Sb=a?a.w.id:void 0;this.element=c;this.oldValue=d;this.newValue=e;this.Pc=!1};h.g.object.U(h.i.lc,h.i.Abstract);h.i.lc.prototype.type=h.i.pm;h.i.lc.prototype.$a=function(){var a=h.i.lc.v.$a.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Fc&&(a.blockId=this.Fc);return a};
h.i.lc.prototype.ya=function(a){h.i.lc.v.ya.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Fc=a.blockId};h.i.tk=function(a){this.Sb=a.id;this.group=h.i.fc();this.Pc=!1};h.g.object.U(h.i.tk,h.i.lc);h.i.tk.prototype.type=h.i.px;h.i.tk.prototype.$a=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Sb&&(a.workspaceId=this.Sb);return a};h.i.tk.prototype.ya=function(a){this.Sb=a.workspaceId;this.group=a.group};h.i.ah=function(a){h.i.ah.v.constructor.call(this);this.Ri=a.wa();this.Sb=a.w.id};h.g.object.U(h.i.ah,h.i.Abstract);h.i.ah.prototype.$a=function(){var a=h.i.ah.v.$a.call(this);a.varId=this.Ri;return a};h.i.ah.prototype.ya=function(a){h.i.ah.v.$a.call(this);this.Ri=a.varId};h.i.Je=function(a){a&&(h.i.Je.v.constructor.call(this,a),this.jk=a.type,this.ik=a.name)};h.g.object.U(h.i.Je,h.i.ah);h.i.Je.prototype.type=h.i.uy;
h.i.Je.prototype.$a=function(){var a=h.i.Je.v.$a.call(this);a.varType=this.jk;a.varName=this.ik;return a};h.i.Je.prototype.ya=function(a){h.i.Je.v.ya.call(this,a);this.jk=a.varType;this.ik=a.varName};h.i.Je.prototype.run=function(a){var c=ta(this);a?c.Qe(this.ik,this.jk,this.Ri):c.ih(this.Ri)};h.i.uf=function(a){a&&(h.i.uf.v.constructor.call(this,a),this.jk=a.type,this.ik=a.name)};h.g.object.U(h.i.uf,h.i.ah);h.i.uf.prototype.type=h.i.vy;
h.i.uf.prototype.$a=function(){var a=h.i.uf.v.$a.call(this);a.varType=this.jk;a.varName=this.ik;return a};h.i.uf.prototype.ya=function(a){h.i.uf.v.ya.call(this,a);this.jk=a.varType;this.ik=a.varName};h.i.uf.prototype.run=function(a){var c=ta(this);a?c.ih(this.Ri):c.Qe(this.ik,this.jk,this.Ri)};h.i.kg=function(a,c){a&&(h.i.kg.v.constructor.call(this,a),this.qv=a.name,this.kv=c)};h.g.object.U(h.i.kg,h.i.ah);h.i.kg.prototype.type=h.i.xy;
h.i.kg.prototype.$a=function(){var a=h.i.kg.v.$a.call(this);a.oldName=this.qv;a.newName=this.kv;return a};h.i.kg.prototype.ya=function(a){h.i.kg.v.ya.call(this,a);this.qv=a.oldName;this.kv=a.newName};h.i.kg.prototype.run=function(a){var c=ta(this);a?c.Hi(this.Ri,this.kv):c.Hi(this.Ri,this.qv)};h.R={};h.R.EI=function(){var a=A,c=h.g.xml.createElement("xml"),d=h.R.zI(h.X.Ky(a));d.hasChildNodes()&&c.appendChild(d);var e=va(a,!0);d=0;for(var f;f=e[d];d++)c.appendChild(f.mw(!0));a=a.mc(!0);for(d=0;e=a[d];d++)c.appendChild(h.R.qt(e,!0));return c};h.R.zI=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.wa();c.appendChild(f)}return c};
h.R.qt=function(a,c){var d;a.w.J&&(d=a.w.ph());c=h.R.Yh(a,c);var e=a.Va();c.setAttribute("x",Math.round(a.w.J?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};h.R.NF=function(a){var c=!1;a.name&&(a.Hk?c=!0:a.Oo&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),a.WB(c)):null};
h.R.xE=function(a,c){for(var d=0,e;e=a.N[d];d++)for(var f=0,g;g=e.Ua[f];f++)(g=h.R.NF(g))&&c.appendChild(g)};
h.R.Yh=function(a,c){var d=h.g.xml.createElement(a.Ma?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.cb){var e=a.cb();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.R.xE(a,d);if(e=a.Oe.text){var f=a.Oe.size,g=a.Oe.Fv,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),
d.appendChild(e));for(f=0;g=a.N[f];f++){var l;k=!0;if(g.type!=h.mf){var m=g.connection.ga();g.type==h.Ta?l=h.g.xml.createElement("value"):g.type==h.bb&&(l=h.g.xml.createElement("statement"));e=g.connection.Qf;!e||m&&m.Ma||l.appendChild(h.R.Wy(e,c));m&&(l.appendChild(h.R.Yh(m,c)),k=!1);l.setAttribute("name",g.name);k||d.appendChild(l)}}void 0!=a.uh&&a.uh!=a.LG&&d.setAttribute("inline",a.uh);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.we()||a.Ma||d.setAttribute("deletable",
!1);a.Lc()||a.Ma||d.setAttribute("movable",!1);a.wh()||d.setAttribute("editable",!1);if(f=t(a))l=h.g.xml.createElement("next"),l.appendChild(h.R.Yh(f,c)),d.appendChild(l);e=a.V&&a.V.Qf;!e||f&&f.Ma||l.appendChild(h.R.Wy(e,c));return d};
h.R.Wy=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.o.Node.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.o.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.o.Node.TEXT_NODE&&""==e.data.trim()&&h.g.o.removeNode(e))}return a};
h.R.te=function(a){a=h.g.xml.te(a);var c=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var d=a;a=a.replace(c,"$1&#10;$2")}while(a!=d);return a};h.R.oL=function(a){a=h.R.te(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
h.R.Pi=function(a){var c=h.g.xml.lI(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};h.R.kL=function(a,c){c.Rc(!1);c.clear();a=h.R.ei(a,c);c.Rc(!0);return a};
h.R.ei=function(a,c){if(a instanceof h.Bb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.J&&(e=c.ph());d=[];h.g.o.ao();var f=h.i.fc();f||h.i.ca(!0);c.Rc&&c.Rc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.i.Pc){var q=h.R.tj(n,c);d.push(q.id);var r=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,x=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(r)||
isNaN(x)||q.moveBy(c.J?e-r:r,x);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.ma?h.Mk?h.Mk.Vm(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.nE?h.nE.Vm(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.R.DF(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.i.ca(!1),h.g.o.bo()}c.Rc&&c.Rc(!0);h.i.Ea(new h.i.tk(c));return d};h.R.hL=function(a,c){var d;c.hasOwnProperty("scale")&&(d=wa(c));a=h.R.ei(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.J?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Fd(a[d]).Va();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.J?f-k:f-g;for(d=0;d<a.length;d++)c.Fd(a[d]).moveBy(f,e)}return a};
h.R.tj=function(a,c){if(a instanceof h.Bb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.i.disable();d=c.yj();try{var e=h.R.$t(a,c),f=p(e,!1);if(c.ma){xa(e,!1);for(var g=f.length-1;0<=g;g--)f[g].bf();for(g=f.length-1;0<=g;g--)f[g].Ba(!1);setTimeout(function(){e.vg||xa(e,!0)},1);ya(e);za(c)}else for(g=f.length-1;0<=g;g--)f[g].Fj()}finally{h.i.enable()}if(h.i.isEnabled()){a=h.X.Tz(c,d);for(g=0;g<a.length;g++)h.i.Ea(new h.i.Je(a[g]));h.i.Ea(new h.i.Eo(e))}return e};
h.R.DF=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.o.Node.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.Qe(e.textContent,f,g)}};
h.R.$t=function(a,c){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=c.xi(e,f);var g=null;f=0;for(var k;k=a.childNodes[f];f++)if(k.nodeType!=h.g.o.Node.TEXT_NODE){var l=g=null;var m=0;for(var n;n=k.childNodes[m];m++)n.nodeType==h.g.o.Node.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?g=n:"shadow"==n.nodeName.toLowerCase()&&(l=n));!g&&l&&(g=l);n=k.getAttribute("name");m=k;switch(k.nodeName.toLowerCase()){case "mutation":d.Cb&&
(d.Cb(m),d.bf&&d.bf());break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}g=m.textContent;l="true"==m.getAttribute("pinned");k=parseInt(m.getAttribute("w"),10);m=parseInt(m.getAttribute("h"),10);d.Gg(g);d.Oe.Fv=l;isNaN(k)||isNaN(m)||(d.Oe.size=new h.g.gg(k,m));l&&d.$F&&!d.Yb&&setTimeout(function(){d.Bf.Zb(!0)},1);break;case "data":d.data=k.textContent;break;case "title":case "field":h.R.CF(d,n,m);break;case "value":case "statement":m=
y(d,n);if(!m){console.warn("Ignoring non-existent input "+n+" in block "+e);break}l&&(m.connection.Qf=l);if(g)if(g=h.R.$t(g,c),g.F)m.connection.connect(g.F);else if(g.Z)m.connection.connect(g.Z);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.V&&(d.V.Qf=l);if(g){if(!d.V)throw TypeError("Next statement does not exist.");if(d.V.isConnected())throw TypeError("Next statement is already connected.");g=h.R.$t(g,c);if(!g.Z)throw TypeError("Next block does not have previous statement.");
d.V.connect(g.Z)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Qc("true"==f);(f=a.getAttribute("disabled"))&&d.wd("true"!=f&&"disabled"!=f);if(f=a.getAttribute("deletable"))d.Kt="true"==f;(f=a.getAttribute("movable"))&&d.mr("true"==f);(f=a.getAttribute("editable"))&&d.Uv("true"==f);(f=a.getAttribute("collapsed"))&&d.Eh("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.lh(!1);for(f=0;c=a[f];f++)if(!c.Ma)throw TypeError("Shadow block not allowed non-shadow child.");
if(d.oh().length)throw TypeError("Shadow blocks cannot have variable references.");d.Xv(!0)}return d};h.R.CF=function(a,c,d){var e=v(a,c);e?e.Vm(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.R.sF=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.Vc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.Vc.rB(a.toolbox||null);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var q=!!a.rtl,r=a.horizontalLayout;void 0===r&&(r=!1);var x=a.toolboxPosition;x="end"!==x;x=r?x?h.$g:h.gj:x==q?h.Zg:h.Ud;var z=a.css;
void 0===z&&(z=!0);var H="https://blockly-demo.appspot.com/static/media/";a.media?H=a.media:a.path&&(H=a.path+"media/");var W=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,ia=a.keyMap||h.Na.Ia.eF(),Oa=a.renderer||"geras";this.J=q;this.Ah=W;this.collapse=g;this.Em=k;this.disable=l;this.readOnly=c;this.dv=a.maxBlocks||Infinity;this.ev=a.maxInstances;this.Dg=H;this.oA=e;this.Mc=h.Vc.GH(a,e);this.rA=f;this.Eq=n;this.FG=m;this.EG=z;this.Kf=r;this.yg=d;this.lA=h.Vc.FH(a);this.fb=h.Vc.IH(a);this.Ja=x;this.nI=
h.Vc.HH(a);this.Ia=ia;this.zl=Oa;this.Cu=void 0;this.Nc=a.parentWorkspace};h.LI=function(){};h.Vc.GH=function(a,c){var d=a.move||{},e={};e.scrollbars=void 0===d.scrollbars&&void 0===a.scrollbars?c:!!d.scrollbars||!!a.scrollbars;e.Ti=e.scrollbars&&void 0!==d.wheel?!!d.wheel:!1;e.gi=e.scrollbars?void 0===d.drag?!0:!!d.drag:!1;return e};
h.Vc.IH=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.Ti=void 0===a.wheel?!1:!!a.wheel;c.RB=void 0===a.startScale?1:Number(a.startScale);c.Bn=void 0===a.maxScale?3:Number(a.maxScale);c.Dn=void 0===a.minScale?.3:Number(a.minScale);c.TH=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.Ev=void 0===a.pinch?c.Ti||c.controls:!!a.pinch;return c};
h.Vc.FH=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.pb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.NL=0<c.spacing&&!!a.snap;return c};h.Vc.HH=function(a){a=a.theme||h.Vh.Wi;return a instanceof h.Ys?a:new h.Ys("builtin",a.blockStyles,a.categoryStyles,a.componentStyles)};
h.Vc.rB=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.rf&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.R.Pi(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};/*

 Copyright 2017 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.at=function(a){this.Pa=Object.create(null);this.w=a};b=h.at.prototype;b.clear=function(){this.Pa=Object.create(null)};b.gr=function(a,c){var d=this.Yc(c,a.type),e=B(this.w);h.i.ca(!0);try{if(d&&d.wa()!=a.wa()){var f=a.type;c!=d.name&&Aa(d,c,e);for(c=0;c<e.length;c++)e[c].er(a.wa(),d.wa());h.i.Ea(new h.i.uf(a));this.Pa[f].splice(this.cn(f).indexOf(a),1)}else Aa(a,c,e)}finally{h.i.ca(!1)}};
b.Hi=function(a,c){var d=this.Jf(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.gr(d,c)};function Aa(a,c,d){h.i.Ea(new h.i.kg(a,c));a.name=c;for(c=0;c<d.length;c++)d[c].Br(a)}
b.Qe=function(a,c,d){var e=this.Yc(a,c);if(e){if(d&&e.wa()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.wa()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Jf(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.kh();c=c||"";e=new h.qm(this.w,a,c,e);a=this.Pa[c]||[];a.push(e);delete this.Pa[c];this.Pa[c]=a;return e};
b.ih=function(a){var c=this.Jf(a);if(c){var d=c.name,e=this.Bu(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=C(f,"NAME");d=h.h.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.h.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&Ba(g,c,e)})):Ba(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function Ba(a,c,d){var e=h.i.fc();e||h.i.ca(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Pa[c.type];a=0;for(var k;k=g[a];a++)if(k.wa()==c.wa()){g.splice(a,1);h.i.Ea(new h.i.uf(c));break}}finally{e||h.i.ca(!1)}}b.Yc=function(a,c){if(c=this.Pa[c||""])for(var d=0,e;e=c[d];d++)if(h.Sd.Se(e.name,a))return e;return null};b.Jf=function(a){for(var c=Object.keys(this.Pa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Pa[e][f];f++)if(g.wa()==a)return g;return null};
b.cn=function(a){return(a=this.Pa[a||""])?a.slice():[]};b.Au=function(a){var c={};h.g.object.zg(c,this.Pa);a&&a.Ei&&h.g.object.zg(c,a.Ei.Pa);a=Object.keys(c);c=!1;for(var d=0;d<a.length;d++)""==a[d]&&(c=!0);c||a.push("");return a};b.yj=function(){var a=[],c;for(c in this.Pa)a=a.concat(this.Pa[c]);return a};b.mu=function(){var a=[],c;for(c in this.Pa)for(var d=this.Pa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};
b.Bu=function(a){for(var c=[],d=B(this.w),e=0;e<d.length;e++){var f=d[e].oh();if(f)for(var g=0;g<f.length;g++)f[g].wa()==a&&c.push(d[e])}return c};h.Bb=function(a){this.id=h.g.kh();h.Bb.rm[this.id]=this;this.options=a||new h.Vc({});this.J=!!this.options.J;this.Kf=!!this.options.Kf;this.Ja=this.options.Ja;this.Nl=[];this.yr=[];this.Dp=Object.create(null);this.Jd=[];this.gk=[];this.On=[];this.ot=Object.create(null);this.Wf=Object.create(null);this.Pa=new h.at(this);this.Ei=null};b=h.Bb.prototype;b.ma=!1;b.Ou=!1;b.Hx=1024;b.Ep=null;b.H=function(){this.Jd.length=0;this.clear();delete h.Bb.rm[this.id]};h.Bb.gy=3;b=h.Bb.prototype;
b.Jg=function(a,c){a=a.Va();c=c.Va();return a.y+h.Bb.prototype.Jg.offset*a.x-(c.y+h.Bb.prototype.Jg.offset*c.x)};function Ca(a,c){if(!h.g.gt(a.Nl,c))throw Error("Block not present in workspace's list of top-most blocks.");}b.mc=function(a){var c=[].concat(this.Nl);a&&1<c.length&&(this.Jg.offset=Math.sin(h.g.oc.lw(h.Bb.gy)),this.J&&(this.Jg.offset*=-1),c.sort(this.Jg));return c};
function va(a,c){var d=[].concat(a.yr);c&&1<d.length&&(a.Jg.offset=Math.sin(h.g.oc.lw(h.Bb.gy)),a.J&&(a.Jg.offset*=-1),d.sort(a.Jg));return d}function B(a){var c=a.mc(!1);for(a=0;a<c.length;a++)c.push.apply(c,c[a].lh(!1));return c.filter(function(d){return!d.xh()})}b.clear=function(){this.Ou=!0;try{var a=h.i.fc();for(a||h.i.ca(!0);this.Nl.length;)this.Nl[0].H(!1);for(;this.yr.length;)this.yr[this.yr.length-1].H(!1);a||h.i.ca(!1);this.Pa.clear();this.Ei&&this.Ei.clear()}finally{this.Ou=!1}};
b.Hi=function(a,c){this.Pa.Hi(a,c)};b.Qe=function(a,c,d){return this.Pa.Qe(a,c,d)};b.Bu=function(a){return this.Pa.Bu(a)};b.ih=function(a){this.Pa.ih(a)};b.Yc=function(a,c){return this.Pa.Yc(a,c)};b.Jf=function(a){return this.Pa.Jf(a)};b.cn=function(a){return this.Pa.cn(a)};b.Au=function(){return this.Pa.Au(this)};b.yj=function(){return this.Pa.yj()};b.mu=function(){return this.Pa.mu()};b.ph=function(){return 0};b.xi=function(a,c){return new h.Do(this,a,c)};
function Da(a){return isNaN(a.options.dv)?Infinity:a.options.dv-B(a).length}function Ea(a,c){if(!Fa(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.ev?(a.options.ev[e]||Infinity)-(a.Wf[e]?a.Wf[e].slice(0):[]).length:Infinity))return!1;d+=c[e]}return d>Da(a)?!1:!0}function Fa(a){return Infinity!=a.options.dv||!!a.options.ev}
b.qw=function(a){var c=a?this.On:this.gk,d=a?this.gk:this.On,e=c.pop();if(e){for(var f=[e];c.length&&e.group&&e.group==c[c.length-1].group;)f.push(c.pop());for(c=0;e=f[c];c++)d.push(e);f=h.i.filter(f,a);h.i.Pc=!1;try{for(c=0;e=f[c];c++)e.run(a)}finally{h.i.Pc=!0}}};function Ga(){var a=A;a.gk.length=0;a.On.length=0;h.i.VE()}function D(a,c){a.Jd.push(c)}function Ha(a,c){h.g.gt(a.Jd,c)}b.Fd=function(a){return this.ot[a]||null};b.Zv=function(a){this.Pa=a};h.Bb.rm=Object.create(null);
h.Bb.Xm=function(a){return h.Bb.rm[a]||null};h.Bb.getAll=function(){var a=[],c;for(c in h.Bb.rm)a.push(h.Bb.rm[c]);return a};h.qa=function(a,c,d,e,f,g){this.s=a;this.rg=c;this.aI=d;this.vv=this.uv=this.hv=this.Nv=null;this.vg=!1;d=h.qa.uC;this.s.J&&(d=-d);this.AE=h.g.oc.lw(d);a.Tf.appendChild(this.Jm(c,!(!f||!g)));this.Vb=e;this.hr&&Ia(this);f&&g||(a=this.rg.getBBox(),f=a.width+2*h.qa.jd,g=a.height+2*h.qa.jd);this.Tn(f,g);Ia(this);Ja(this);this.hr=!0};h.qa.jd=6;h.qa.vC=5;h.qa.uC=20;h.qa.Gw=4;h.qa.sC=8;h.qa.cd=null;h.qa.Bi=null;h.qa.pw=function(){h.qa.cd&&(h.Ra(h.qa.cd),h.qa.cd=null);h.qa.Bi&&(h.Ra(h.qa.Bi),h.qa.Bi=null)};
h.qa.JE=function(){h.Touch.$h();h.qa.pw()};b=h.qa.prototype;b.hr=!1;b.Vb=null;b.Fg=0;b.Gi=0;b.rb=0;b.Zc=0;b.mt=!0;
b.Jm=function(a,c){this.Le=h.g.o.G("g",{},null);var d={filter:"url(#"+this.s.xb.u.bu+")"};h.g.userAgent.qD&&(d={});d=h.g.o.G("g",d,this.Le);this.Ny=h.g.o.G("path",{},d);this.vp=h.g.o.G("rect",{"class":"blocklyDraggable",x:0,y:0,rx:h.qa.jd,ry:h.qa.jd},d);c?(this.Ch=h.g.o.G("g",{"class":this.s.J?"blocklyResizeSW":"blocklyResizeSE"},this.Le),c=2*h.qa.jd,h.g.o.G("polygon",{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Ch),h.g.o.G("line",{"class":"blocklyResizeLine",x1:c/3,y1:c-1,x2:c-1,y2:c/3},
this.Ch),h.g.o.G("line",{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Ch)):this.Ch=null;this.s.options.readOnly||(this.uv=h.na(this.vp,"mousedown",this,this.IE),this.Ch&&(this.vv=h.na(this.Ch,"mousedown",this,this.RH)));this.Le.appendChild(a);return this.Le};b.Oa=function(){return this.Le};function Ka(a,c){a.Le.dataset&&(a.Le.dataset.blockId=c)}
b.IE=function(a){var c=this.s.mh(a);if(c){if(c.Bj)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.Be||(c.Be=this);c.ff=a}};b.Vn=function(){};b.we=function(){return!1};b.RH=function(a){La(this);h.qa.pw();h.g.Mj(a)||(this.s.gw(a,new h.g.T(this.s.J?-this.rb:this.rb,this.Zc)),h.qa.cd=h.na(document,"mouseup",this,h.qa.JE),h.qa.Bi=h.na(document,"mousemove",this,this.SH),h.zc());a.stopPropagation()};
b.SH=function(a){this.mt=!1;var c=this.s;a=h.g.Fn(a,u(c),pa(c));a.x/=c.scale;a.y/=c.scale;c=h.g.T.sum(c.Fz,a);this.Tn(this.s.J?-c.x:c.x,c.y);this.s.J&&Ia(this)};function Ma(a,c){a.hv=c}function La(a){var c=a.Le.parentNode;return c.lastChild!==a.Le?(c.appendChild(a.Le),!0):!1}function Na(a,c,d){var e=a.s.J?a.Vb.x-c.x-a.rb:c.x+a.Vb.x;c=c.y+a.Vb.y;return Math.max(0,Math.min(1,(Math.min(e+a.rb,d.jc+d.qb)-Math.max(e,d.jc))*(Math.min(c+a.Zc,d.vc+d.Ab)-Math.max(c,d.vc))/(a.rb*a.Zc)))}
function Ia(a){var c=a.Vb.x;c=a.s.J?c-(a.Fg+a.rb):c+a.Fg;a.moveTo(c,a.Gi+a.Vb.y)}b.moveTo=function(a,c){this.Le.setAttribute("transform","translate("+a+","+c+")")};b.Ki=function(a){!a&&this.hv&&this.hv()};b.ou=function(){return new h.g.gg(this.rb,this.Zc)};
b.Tn=function(a,c){var d=2*h.qa.jd;a=Math.max(a,d+45);c=Math.max(c,d+20);this.rb=a;this.Zc=c;this.vp.setAttribute("width",a);this.vp.setAttribute("height",c);this.Ch&&(this.s.J?this.Ch.setAttribute("transform","translate("+2*h.qa.jd+","+(c-d)+") scale(-1 1)"):this.Ch.setAttribute("transform","translate("+(a-d)+","+(c-d)+")"));if(this.mt){a=this.s.Jc();a.jc/=this.s.scale;a.qb/=this.s.scale;a.vc/=this.s.scale;a.Ab/=this.s.scale;c=-this.rb/4;if(!(this.rb>a.qb)){if(this.s.J){d=this.Vb.x-c;var e=d-this.rb;
var f=a.jc+a.qb,g=a.jc+h.Qa.Ac/this.s.scale}else e=c+this.Vb.x,d=e+this.rb,g=a.jc,f=a.jc+a.qb-h.Qa.Ac/this.s.scale;this.s.J?e<g?c=-(g-this.Vb.x+this.rb):d>f&&(c=-(f-this.Vb.x)):e<g?c=g-this.Vb.x:d>f&&(c=f-this.Vb.x-this.rb)}e=c;c=-this.Zc/4;if(!(this.Zc>a.Ab)){d=this.Vb.y+c;f=d+this.Zc;g=a.vc;var k=a.vc+a.Ab-h.Qa.Ac/this.s.scale,l=this.Vb.y;d<g?c=g-l:f>k&&(c=k-l-this.Zc)}g=c;f=this.aI.getBBox();c={x:e,y:-this.Zc-this.s.xb.u.ap};d={x:-this.rb-30,y:g};g={x:f.width,y:g};k={x:e,y:f.height};e=f.width<
f.height?g:k;f=f.width<f.height?k:g;g=Na(this,c,a);k=Na(this,d,a);l=Na(this,e,a);a=Math.max(g,k,l,Na(this,f,a));g==a?(this.Fg=c.x,this.Gi=c.y):k==a?(this.Fg=d.x,this.Gi=d.y):l==a?(this.Fg=e.x,this.Gi=e.y):(this.Fg=f.x,this.Gi=f.y)}Ia(this);Ja(this);this.Nv&&this.Nv()};
function Ja(a){var c=[],d=a.rb/2,e=a.Zc/2,f=-a.Fg,g=-a.Gi;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.s.J&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=a.ou();m=(r.width+r.height)/h.qa.vC;m=Math.min(m,r.width,r.height)/4;r=1-h.qa.sC/k;f=d+r*f;g=e+r*g;r=d+m*q;var x=e+m*n;d-=m*q;e-=m*n;n=l+a.AE;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.qa.Gw;k=Math.cos(n)*k/h.qa.Gw;c.push("M"+r+","+
x);c.push("C"+(r+k)+","+(x+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Ny.setAttribute("d",c.join(" "))}b.dd=function(a){this.vp.setAttribute("fill",a);this.Ny.setAttribute("fill",a)};b.H=function(){this.uv&&h.Ra(this.uv);this.vv&&h.Ra(this.vv);h.qa.pw();h.g.o.removeNode(this.Le);this.vg=!0};b.iv=function(a,c){a?a.fk(c.x,c.y):this.moveTo(c.x,c.y);this.Fg=this.s.J?this.Vb.x-c.x-this.rb:c.x-this.Vb.x;this.Gi=c.y-this.Vb.y;Ja(this)};
b.Va=function(){return new h.g.T(this.s.J?-this.Fg+this.Vb.x-this.rb:this.Vb.x+this.Fg,this.Vb.y+this.Gi)};h.kd={};h.kd.Lu=!1;h.kd.register=function(a){if(h.kd.Lu)throw Error("CSS already injected");Array.prototype.push.apply(h.kd.Pr,a);a.length=0};h.kd.Gj=function(a,c){if(!h.kd.Lu){h.kd.Lu=!0;var d=h.kd.Pr.join("\n");h.kd.Pr.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};h.kd.Tv=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
h.kd.Pr=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;",
"border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {",
"fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",
'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {",
"display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text, .blocklyBlockDragSurface text {",
"user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;",
"}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {",
"z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {",
"padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;",
"border-color: transparent;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',
"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem,",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem,",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem {",
"padding-left: 12px;","}",".blocklyWidgetDiv .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-content {","font-family: Arial, sans-serif;","font-size: 13px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","}",".blocklyWidgetDiv .goog-menuitem-disabled,",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {",
"color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight ,",".blocklyDropDownDiv .goog-menuitem-highlight {","background-color: rgba(0,0,0,.1);","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-icon {",
"background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",
".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyComputeCanvas {",
"position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}"];h.Rd=function(a){this.O=a};b=h.Rd.prototype;b.Xy=!0;b.jp=17;b.Pb=null;b.Ej=null;function Pa(a){a.ae||(a.ae=h.g.o.G("g",{"class":"blocklyIconGroup"},null),a.O.Yb&&h.g.o.Xa(a.ae,"blocklyIconGroupReadonly"),a.au(a.ae),a.O.Oa().appendChild(a.ae),h.na(a.ae,"mouseup",a,a.Hu),a.Lh())}b.H=function(){h.g.o.removeNode(this.ae);this.ae=null;this.Zb(!1);this.O=null};b.Lh=function(){};b.isVisible=function(){return!!this.Pb};b.Hu=function(a){this.O.w.nc()||this.O.Yb||h.g.Mj(a)||this.Zb(!this.isVisible())};
b.bc=function(){this.isVisible()&&this.Pb.dd(this.O.style.lj)};function Qa(a){var c=a.O.Va(),d=h.g.Xe(a.ae);c=new h.g.T(c.x+d.x+a.jp/2,c.y+d.y+a.jp/2);h.g.T.Se(a.Ej,c)||(a.Ej=c,a.isVisible()&&(a=a.Pb,a.Vb=c,a.hr&&Ia(a)))};h.vf=function(a){h.vf.v.constructor.call(this,a);Pa(this);this.Mg={}};h.g.object.U(h.vf,h.Rd);h.vf.prototype.Xy=!1;h.vf.prototype.au=function(a){h.g.o.G("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);h.g.o.G("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);h.g.o.G("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
h.vf.mI=function(a){var c=h.g.o.G("text",{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.qa.jd},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.o.G("tspan",{dy:"1em",x:h.qa.jd},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};b=h.vf.prototype;b.Zb=function(a){a!=this.isVisible()&&(h.i.Ea(new h.i.lc(this.O,"warningOpen",!a,a)),a?this.gz():this.Az())};
b.gz=function(){this.Wj=h.vf.mI(this.hc());this.Pb=new h.qa(this.O.w,this.Wj,this.O.wb.Sc,this.Ej,null,null);Ka(this.Pb,this.O.id);if(this.O.J)for(var a=this.Wj.getBBox().width,c=0,d;d=this.Wj.childNodes[c];c++)d.setAttribute("text-anchor","end"),d.setAttribute("x",a+h.qa.jd);this.bc()};b.Az=function(){this.Pb.H();this.Wj=this.Pb=null};b.El=function(a,c){this.Mg[c]!=a&&(a?this.Mg[c]=a:delete this.Mg[c],this.isVisible()&&(this.Zb(!1),this.Zb(!0)))};
b.hc=function(){var a=[],c;for(c in this.Mg)a.push(this.Mg[c]);return a.join("\n")};b.H=function(){this.O.hd=null;h.Rd.prototype.H.call(this)};h.Comment=function(a){h.Comment.v.constructor.call(this,a);this.pc=a.Oe;this.pc.text=this.pc.text||"";this.vt="";this.Qq=this.Mq=this.Vq=this.cd=null;Pa(this)};h.g.object.U(h.Comment,h.Rd);b=h.Comment.prototype;
b.au=function(a){h.g.o.G("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);h.g.o.G("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);h.g.o.G("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
b.Gt=function(){this.Um=h.g.o.G("foreignObject",{x:h.qa.jd,y:h.qa.jd},null);var a=document.createElementNS(h.g.o.yk,"body");a.setAttribute("xmlns",h.g.o.yk);a.className="blocklyMinimalBody";var c=this.ek=document.createElementNS(h.g.o.yk,"textarea");c.className="blocklyCommentTextarea";c.setAttribute("dir",this.O.J?"RTL":"LTR");c.value=this.pc.text;Ra(this);a.appendChild(c);this.Um.appendChild(a);this.cd=h.na(c,"mouseup",this,this.hI,!0,!0);this.Vq=h.na(c,"wheel",this,function(d){d.stopPropagation()});
this.Mq=h.na(c,"change",this,function(){this.vt!=this.pc.text&&h.i.Ea(new h.i.Qg(this.O,"comment",null,this.vt,this.pc.text))});this.Qq=h.na(c,"input",this,function(){this.pc.text=c.value});setTimeout(c.focus.bind(c),0);return this.Um};b.Lh=function(){h.Comment.v.Lh.call(this);this.isVisible()&&(Sa(this),Ta(this))};b.rH=function(){this.isVisible()&&(this.pc.size=this.Pb.ou(),Ra(this))};
function Ra(a){var c=a.pc.size,d=2*h.qa.jd,e=c.width-d;c=c.height-d;a.Um.setAttribute("width",e);a.Um.setAttribute("height",c);a.ek.style.width=e-4+"px";a.ek.style.height=c-4+"px"}b.Zb=function(a){a!=this.isVisible()&&(h.i.Ea(new h.i.lc(this.O,"commentOpen",!a,a)),(this.pc.Fv=a)?Ta(this):Sa(this))};
function Ta(a){if(!a.O.wh()||h.g.userAgent.rf)h.vf.prototype.gz.call(a);else{a.Pb=new h.qa(a.O.w,a.Gt(),a.O.wb.Sc,a.Ej,a.pc.size.width,a.pc.size.height);Ka(a.Pb,a.O.id);var c=a.rH.bind(a);a.Pb.Nv=c;a.bc()}}function Sa(a){a.Wj?h.vf.prototype.Az.call(a):(a.cd&&(h.Ra(a.cd),a.cd=null),a.Vq&&(h.Ra(a.Vq),a.Vq=null),a.Mq&&(h.Ra(a.Mq),a.Mq=null),a.Qq&&(h.Ra(a.Qq),a.Qq=null),a.Pb.H(),a.Pb=null,a.ek=null,a.Um=null)}b.hI=function(){La(this.Pb)&&this.ek.focus();this.vt=this.pc.text};b.ou=function(){return this.pc.size};
b.Tn=function(a,c){this.Pb?this.Pb.Tn(a,c):(this.pc.size.width=a,this.pc.size.height=c)};b.hc=function(){return this.pc.text||""};b.El=function(a){this.pc.text!=a&&(this.pc.text=a,Ua(this))};function Ua(a){a.ek?a.ek.value=a.pc.text:a.Wj&&(a.Wj.firstChild.textContent=a.pc.text)}b.H=function(){this.O.Dm=null;h.Rd.prototype.H.call(this)};h.kd.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,overflow: hidden;,}".split(","));h.vk=function(a,c,d,e){this.s=a;this.Lb=c;this.Mg=d.getAttribute("text");this.ud=new h.g.T(0,0);this.yh=e;this.xp=d.getAttribute("callbackKey")||d.getAttribute("callbackkey");this.iz=d.getAttribute("web-class")||null;this.cd=null};h.vk.sf=5;b=h.vk.prototype;b.width=0;b.height=0;
b.Ha=function(){var a=this.yh?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.iz&&(a+=" "+this.iz);this.L=h.g.o.G("g",{"class":a},this.s.jb);if(!this.yh)var c=h.g.o.G("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.L);a=h.g.o.G("rect",{"class":this.yh?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.L);var d=h.g.o.G("text",{"class":this.yh?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.L),e=h.g.fe(this.Mg);this.s.J&&(e+=
"\u200f");d.textContent=e;this.yh&&(this.kw=d,this.s.tc.subscribe(this.kw,"flyoutForegroundColour","fill"));this.width=h.g.o.mG(d);this.height=20;this.yh||(this.width+=2*h.vk.sf,c.setAttribute("width",this.width),c.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-h.vk.sf);Va(this);this.cd=h.na(this.L,"mouseup",this,this.CH);return this.L};
b.show=function(){Va(this);this.L.setAttribute("display","block")};function Va(a){a.L.setAttribute("transform","translate("+a.ud.x+","+a.ud.y+")")}b.moveTo=function(a,c){this.ud.x=a;this.ud.y=c;Va(this)};b.H=function(){this.cd&&h.Ra(this.cd);this.L&&h.g.o.removeNode(this.L);this.kw&&this.s.tc.unsubscribe(this.kw)};
b.CH=function(a){(a=this.Lb.mh(a))&&a.cancel();this.yh&&this.xp?console.warn("Labels should not have callbacks. Label text: "+this.Mg):this.yh||this.xp&&Wa(this.Lb,this.xp)?this.yh||Wa(this.Lb,this.xp)(this):console.warn("Buttons should have callbacks. Button text: "+this.Mg)};h.kd.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,},.blocklyFlyoutLabelText {,fill: #000;,}".split(","));h.Od=function(a){this.name=a};h.B=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.mo=a;this.fl=h.B.NG(a);this.oa=c;(a=d||null)&&a.hC&&(this.yw=a.hC)};h.B.types={Qd:"field",Pd:"block",cg:"input",Th:"output",le:"next",ne:"previous",fg:"stack",lg:"workspace"};h.B.em=!1;h.B.QC=-20;h.B.NG=function(a){switch(a){case h.B.types.ne:case h.B.types.le:case h.B.types.cg:case h.B.types.Th:return!0}return!1};h.B.Sk=function(a){return a?new h.B(h.B.types.Qd,a):null};
h.B.sg=function(a){return a?a.type==h.Ta||a.type==h.bb&&a.If()?h.B.oj(a.If()):a.type==h.bb?new h.B(h.B.types.le,a):a.type==h.me?new h.B(h.B.types.Th,a):a.type==h.Ge?new h.B(h.B.types.ne,a):null:null};h.B.oj=function(a){return a&&a.connection?new h.B(h.B.types.cg,a.connection):null};h.B.gh=function(a){return a?new h.B(h.B.types.Pd,a):null};h.B.Lm=function(a){return a?new h.B(h.B.types.fg,a):null};h.B.Tk=function(a,c){return c&&a?new h.B(h.B.types.lg,a,{hC:c}):null};b=h.B.prototype;b.hb=function(){return this.mo};
function Xa(a,c){a=a.oa;a instanceof h.Do||(a=a.P());if(!a||!a.w)return null;var d=a.Gd();a=d.w.mc(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.B.Lm(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}function Ya(a){if(!a)return null;do var c=a.Z&&a.Z.ga();while(c&&t(c)==a&&(a=c));return(c=a.Z||a.F)&&c.ea&&c.ea.If()?h.B.oj(c.ea.If()):h.B.Lm(a)}
b.P=function(){return this.hb()===h.B.types.Pd?this.oa:this.hb()===h.B.types.fg?this.oa:this.hb()===h.B.types.lg?null:this.oa.P()};
b.next=function(){switch(this.mo){case h.B.types.fg:return Xa(this,!0);case h.B.types.Th:return h.B.gh(this.oa.P());case h.B.types.Qd:a:{var a=this.oa,c=a.If();var d=a.P();a=c.Ua.indexOf(a)+1;c=d.N.indexOf(c);for(var e;e=d.N[c];c++){for(var f=e.Ua;a<f.length;){if(Za(f[a])||h.B.em){d=h.B.Sk(f[a]);break a}a++}a=0;if(e.connection){d=h.B.oj(e);break a}}d=null}return d;case h.B.types.cg:a:{a=this.oa.If();d=a.P();for(a=d.N.indexOf(a)+1;c=d.N[a];a++){e=c.Ua;f=0;for(var g;g=e[f];f++)if(Za(g)||h.B.em){d=h.B.Sk(g);
break a}if(c.connection){d=h.B.oj(c);break a}}d=null}return d;case h.B.types.Pd:return h.B.sg(this.oa.V);case h.B.types.ne:return h.B.gh(this.oa.P());case h.B.types.le:return h.B.sg(this.oa.ea)}return null};
b.oi=function(){switch(this.mo){case h.B.types.lg:var a=this.oa.mc(!0);if(0<a.length)return h.B.Lm(a[0]);break;case h.B.types.fg:a=this.oa;var c=a.Z||a.F;return c?h.B.sg(c):h.B.gh(a);case h.B.types.Pd:a=this.oa;a:{a=a.N;c=0;for(var d;d=a[c];c++){for(var e=d.Ua,f=0,g;g=e[f];f++)if(Za(g)||h.B.em){a=h.B.Sk(g);break a}if(d.connection){a=h.B.oj(d);break a}}a=null}return a;case h.B.types.cg:return h.B.sg(this.oa.ea)}return null};
b.gf=function(){switch(this.mo){case h.B.types.fg:return Xa(this,!1);case h.B.types.Qd:a:{var a=this.oa;var c=a.If();var d=a.P();a=c.Ua.indexOf(a)-1;for(var e=d.N.indexOf(c),f;f=d.N[e];e--){if(f.connection&&f!==c){c=h.B.oj(f);break a}for(f=f.Ua;-1<a;){if(Za(f[a])||h.B.em){c=h.B.Sk(f[a]);break a}a--}0<=e-1&&(a=d.N[e-1].Ua.length-1)}c=null}return c;case h.B.types.cg:a:{c=this.oa.If();d=c.P();for(a=d.N.indexOf(c);e=d.N[a];a--){if(e.connection&&e!==c){c=h.B.oj(e);break a}e=e.Ua;f=e.length-1;for(var g;g=
e[f];f--)if(Za(g)||h.B.em){c=h.B.Sk(g);break a}}c=null}return c;case h.B.types.Pd:return c=this.oa,h.B.sg(c.Z||c.F);case h.B.types.ne:if((c=this.oa.ea)&&!c.If())return h.B.sg(c);break;case h.B.types.le:return h.B.gh(this.oa.P())}return null};
b.Ci=function(){switch(this.mo){case h.B.types.fg:var a=this.oa.Va();return h.B.Tk(this.oa.w,new h.g.T(a.x,a.y+h.B.QC));case h.B.types.Th:return(a=this.oa.ea)?h.B.sg(a):h.B.Lm(this.oa.P());case h.B.types.Qd:return h.B.gh(this.oa.P());case h.B.types.cg:return h.B.gh(this.oa.P());case h.B.types.Pd:return Ya(this.oa);case h.B.types.ne:return Ya(this.oa.P());case h.B.types.le:return Ya(this.oa.P())}return null};h.navigation={};h.navigation.ol=null;h.navigation.ny=1;h.navigation.nm=2;h.navigation.Ts=3;h.navigation.Dy=40;h.navigation.qj=h.navigation.nm;h.navigation.Da={ne:"previous",le:"next",Uo:"in",hp:"out",ns:"insert",us:"mark",ax:"disconnect",Vs:"toolbox",Zr:"exit",Us:"toggle_keyboard_nav",Mx:"move workspace cursor up",Jx:"move workspace cursor down",Kx:"move workspace cursor left",Lx:"move workspace cursor right"};h.navigation.vs="local_marker_1";h.navigation.We=function(){return h.La().We(h.navigation.vs)};
h.navigation.Oz=function(){var a=h.La().ra;if(a&&(h.navigation.qj=h.navigation.Ts,h.navigation.BB(!1),h.navigation.We().Za||h.navigation.cv(),!a.gd.Ld)){a=a.gd;var c=a.Ye();c&&a.Lz&&$a(c,a.Lz)}};h.navigation.Nz=function(){h.navigation.qj=h.navigation.ny;var a=h.La();var c=a.ra;a=c?c.ba:a.Ic();h.navigation.We().Za||h.navigation.cv();a&&a.s&&(a=a.s.mc(!0),0<a.length&&(a=a[0],a=h.B.Lm(a),E(h.navigation.Yk(),a)))};
h.navigation.Sp=function(){h.zc();var a=h.La(),c=a.Xb(),d=!!a.ra,e=a.mc(!0);h.navigation.BB(d);h.navigation.qj=h.navigation.nm;0<e.length?E(c,h.navigation.zu(e[0])):(a=h.B.Tk(a,new h.g.T(100,100)),E(c,a))};h.navigation.Yk=function(){var a=h.La(),c=null;a.ma&&(c=(a=(c=a.ra)?c.ba:a.Ic())?a.s.Xb():null);return c};
h.navigation.MG=function(){var a=h.La(),c=a.Ic();if(c&&c.isVisible()){var d=h.navigation.Yk().Za.oa;d.isEnabled()?(c=ab(c,d),c.Ba(),xa(c,!0),E(a.Xb(),h.B.gh(c)),h.navigation.WA()||h.navigation.xd("Something went wrong while inserting a block from the flyout."),h.navigation.Sp(),E(a.Xb(),h.navigation.zu(c)),h.navigation.QH()):h.navigation.xd("Can't insert a disabled block.")}else h.navigation.xd("Trying to insert from the flyout when the flyout does not  exist or is not visible")};
h.navigation.BB=function(a){h.navigation.Yk()&&(h.navigation.Yk().Aa(),a&&h.La().Ic().Aa())};
h.navigation.aH=function(){var a=h.navigation.We().Za,c=h.La().Xb().Za;if(!a)return h.navigation.xd("Cannot insert with no marked node."),!1;if(!c)return h.navigation.xd("Cannot insert with no cursor node."),!1;a=a.hb();c=c.hb();return a==h.B.types.Qd?(h.navigation.xd("Should not have been able to mark a field."),!1):a==h.B.types.Pd?(h.navigation.xd("Should not have been able to mark a block."),!1):a==h.B.types.fg?(h.navigation.xd("Should not have been able to mark a stack."),!1):c==h.B.types.Qd?
(h.navigation.xd("Cannot attach a field to anything else."),!1):c==h.B.types.lg?(h.navigation.xd("Cannot attach a workspace to anything else."),!1):!0};h.navigation.dH=function(a,c){if(!a)return!1;if(a.Ma)return h.navigation.xd("Cannot move a shadow block to the workspace."),!1;a.getParent()&&w(a,!1);a.moveTo(c.yw);return!0};
h.navigation.WA=function(){var a=h.navigation.We().Za,c=h.La().Xb().Za;if(!h.navigation.aH())return!1;var d=a.hb(),e=c.hb(),f=c.oa,g=a.oa;if(a.fl&&c.fl)return h.navigation.Cf(f,g);if(a.fl&&(e==h.B.types.Pd||e==h.B.types.fg))return h.navigation.BA(f,g);if(d==h.B.types.lg)return c=c?c.P():null,h.navigation.dH(c,a);h.navigation.xd("Unexpected state in Blockly.navigation.modify_.");return!1};
h.navigation.xF=function(a,c){var d=a.P(),e=c.P();d.Gd()==e.Gd()&&(-1<p(d,!1).indexOf(e)?h.navigation.Yp(c).disconnect():h.navigation.Yp(a).disconnect())};h.navigation.gv=function(a,c){if(!a||!c)return!1;var d=a.P();return bb(c,a)==h.ta.Go?(h.navigation.xF(a,c),F(c)||cb(d.Gd(),a,c),c.connect(a),!0):!1};h.navigation.Yp=function(a){var c=a.P();return F(a)?c.Z?c.Z:c.F?c.F:null:a};h.navigation.hA=function(a){return F(a)?a:a.ea?a.ea:null};
h.navigation.Cf=function(a,c){if(!a||!c)return!1;var d=h.navigation.Yp(a),e=h.navigation.hA(c),f=h.navigation.hA(a),g=h.navigation.Yp(c);if(d&&e&&h.navigation.gv(d,e)||f&&g&&h.navigation.gv(f,g)||h.navigation.gv(a,c))return!0;try{db(c,a)}catch(k){h.navigation.xd("Connection failed with error: "+k)}return!1};
h.navigation.BA=function(a,c){switch(c.type){case h.Ge:if(h.navigation.Cf(a.V,c))return!0;break;case h.bb:if(h.navigation.Cf(a.Z,c))return!0;break;case h.Ta:if(h.navigation.Cf(a.F,c))return!0;break;case h.me:for(var d=0;d<a.N.length;d++){var e=a.N[d].connection;if(e&&e.type===h.Ta&&h.navigation.Cf(e,c))return!0}if(a.F&&h.navigation.Cf(a.F,c))return!0}h.navigation.xd("This block can not be inserted at the marked location.");return!1};
h.navigation.wF=function(){var a=h.La(),c=a.Xb().Za;if(c.fl){var d=c.oa;d.isConnected()?(c=F(d)?d:d.ea,d=F(d)?d.ea:d,d.P().Ma?h.navigation.av("Cannot disconnect a shadow block"):(c.disconnect(),eb(d,c),fb(c.P().Gd()),c=h.B.sg(c),E(a.Xb(),c))):h.navigation.av("Cannot disconnect unconnected connection")}else h.navigation.av("Cannot disconnect blocks when the cursor is not on a connection")};h.navigation.cv=function(){E(h.navigation.We(),h.La().Xb().Za)};
h.navigation.QH=function(){var a=h.navigation.We();E(a,null);a.Aa()};h.navigation.Fb=function(a){h.navigation.qj=a};h.navigation.zu=function(a){var c=a.Z||a.F;return c?h.B.sg(c):h.B.gh(a)};h.navigation.eH=function(a){var c=h.La();if(c&&(c=c.Xb())){var d=c.Za;d=d?d.P():null;d===a?d.getParent()?(a=d.Z||d.F)&&E(c,h.B.sg(a.ea)):E(c,h.B.Tk(d.w,d.Va())):d&&-1<a.lh(!1).indexOf(d)&&E(c,h.B.Tk(d.w,d.Va()))}};h.navigation.fH=function(a){var c=h.La().Xb();if(c){var d=c.Za;d=d?d.P():null;d===a&&E(c,h.B.gh(d))}};
h.navigation.IF=function(){h.La().xe||(h.La().xe=!0,h.navigation.Sp())};h.navigation.vF=function(){if(h.La().xe){var a=h.La();h.La().xe=!1;a.Xb().Aa();h.navigation.We().Aa();h.navigation.Yk()&&h.navigation.Yk().Aa()}};h.navigation.av=function(a){h.navigation.ol?h.navigation.ol("log",a):console.log(a)};h.navigation.xd=function(a){h.navigation.ol?h.navigation.ol("warn",a):console.warn(a)};h.navigation.pL=function(a){h.navigation.ol?h.navigation.ol("error",a):console.error(a)};
h.navigation.jB=function(a){a=h.Na.Ia.VH(a);return(a=h.Na.Ia.UF(a))?h.navigation.Kd(a):!1};h.navigation.Kd=function(a){var c=h.La().options.readOnly,d=!1;h.La().xe?c?-1<h.navigation.WD.indexOf(a)&&(d=h.navigation.nA(a)):d=h.navigation.nA(a):a.name===h.navigation.Da.Us&&(h.navigation.IF(),d=!0);return d};
h.navigation.nA=function(a){return a.name==h.navigation.Da.Vs||h.navigation.qj==h.navigation.Ts?h.navigation.pI(a):a.name==h.navigation.Da.Us?(h.navigation.vF(),!0):h.navigation.qj==h.navigation.nm?h.navigation.DI(a):h.navigation.qj==h.navigation.ny?h.navigation.SF(a):!1};
h.navigation.SF=function(a){var c=h.La(),d=c.ra;if((c=d?d.ba:c.Ic())&&c.Kd(a))return!0;switch(a.name){case h.navigation.Da.hp:return h.navigation.Oz(),!0;case h.navigation.Da.us:return h.navigation.MG(),!0;case h.navigation.Da.Zr:return h.navigation.Sp(),!0;default:return!1}};
h.navigation.pI=function(a){var c=h.La(),d=c.ra;return d&&d.Kd(a)?!0:a.name===h.navigation.Da.Vs?(c.ra?h.navigation.Oz():h.navigation.Nz(),!0):a.name===h.navigation.Da.Uo?(h.navigation.Nz(),!0):a.name===h.navigation.Da.Zr?(h.navigation.Sp(),!0):!1};h.navigation.Jq=function(a,c){var d=h.La().Xb(),e=h.La().Xb().Za;if(e.hb()!==h.B.types.lg)return!1;e=e.yw;E(d,h.B.Tk(h.La(),new h.g.T(a*h.navigation.Dy+e.x,c*h.navigation.Dy+e.y)));return!0};
h.navigation.DI=function(a){if(h.La().Xb().Kd(a))return!0;switch(a.name){case h.navigation.Da.ns:return h.navigation.WA(),!0;case h.navigation.Da.us:return h.navigation.uG(),!0;case h.navigation.Da.ax:return h.navigation.wF(),!0;case h.navigation.Da.Mx:return h.navigation.Jq(0,-1);case h.navigation.Da.Jx:return h.navigation.Jq(0,1);case h.navigation.Da.Kx:return h.navigation.Jq(-1,0);case h.navigation.Da.Lx:return h.navigation.Jq(1,0);default:return!1}};
h.navigation.uG=function(){var a=h.La().Xb().Za,c=a.hb();c==h.B.types.Qd?(a=a.oa,Za(a)&&a.Ih(void 0)):a.fl||c==h.B.types.lg?h.navigation.cv():c==h.B.types.Pd?h.navigation.xd("Cannot mark a block."):c==h.B.types.fg&&h.navigation.xd("Cannot mark a stack.")};h.navigation.vo=new h.Od(h.navigation.Da.ne);h.navigation.Cw=new h.Od(h.navigation.Da.hp);h.navigation.uo=new h.Od(h.navigation.Da.le);h.navigation.Bw=new h.Od(h.navigation.Da.Uo);h.navigation.kC=new h.Od(h.navigation.Da.ns);h.navigation.lC=new h.Od(h.navigation.Da.us);
h.navigation.jC=new h.Od(h.navigation.Da.ax);h.navigation.qC=new h.Od(h.navigation.Da.Vs);h.navigation.Gr=new h.Od(h.navigation.Da.Zr);h.navigation.Dw=new h.Od(h.navigation.Da.Us);h.navigation.nC=new h.Od(h.navigation.Da.Kx);h.navigation.oC=new h.Od(h.navigation.Da.Lx);h.navigation.pC=new h.Od(h.navigation.Da.Mx);h.navigation.mC=new h.Od(h.navigation.Da.Jx);h.navigation.WD=[h.navigation.vo,h.navigation.Cw,h.navigation.Bw,h.navigation.uo,h.navigation.Dw];h.g.Wo={};h.g.Wo.mH=0;h.g.Wo.jG=function(){return"blockly:"+(h.g.Wo.mH++).toString(36)};h.Cc=function(){this.EB=h.Cc.oz;this.cl=null;this.$c=!1;this.ee=this.gb=null;this.kb=[];this.At={}};h.Cc.oz=!1;h.Cc.Error={Jr:"Component already rendered",Cs:"Unable to set parent component",EC:"Child component index out of bounds"};b=h.Cc.prototype;b.wa=function(){return this.cl||(this.cl=h.g.Wo.jG())};b.ua=function(){return this.gb};
b.Dl=function(a){if(this==a)throw Error(h.Cc.Error.Cs);var c;if(c=a&&this.ee&&this.cl)c=(c=this.cl)?this.ee.At[c]||null:null;if(c&&this.ee!=a)throw Error(h.Cc.Error.Cs);this.ee=a};b.getParent=function(){return this.ee};b.Ha=function(){this.gb=document.createElement("div")};b.Ba=function(a){this.Ii(a)};b.Ii=function(a,c){if(this.$c)throw Error(h.Cc.Error.Jr);this.gb||this.Ha();a?a.insertBefore(this.gb,c||null):document.body.appendChild(this.gb);this.ee&&!this.ee.$c||this.Gf()};
b.Gf=function(){this.$c=!0;gb(this,function(a){!a.$c&&a.ua()&&a.Gf()})};b.ii=function(){gb(this,function(a){a.$c&&a.ii()});this.$c=!1};b.H=function(){this.AF||(this.AF=!0,this.Om())};b.Om=function(){this.$c&&this.ii();gb(this,function(a){a.H()});this.gb&&h.g.o.removeNode(this.gb);this.ee=this.gb=this.At=this.kb=null};
b.um=function(a,c,d){if(a.$c&&(d||!this.$c))throw Error(h.Cc.Error.Jr);if(0>c||c>this.kb.length)throw Error(h.Cc.Error.EC);this.At[a.wa()]=a;if(a.getParent()==this){var e=this.kb.indexOf(a);-1<e&&this.kb.splice(e,1)}a.Dl(this);this.kb.splice(c,0,a);a.$c&&this.$c&&a.getParent()==this?(d=this.gb,c=d.childNodes[c]||null,c!=a.ua()&&d.insertBefore(a.ua(),c)):d?(this.gb||this.Ha(),c=this.kb[c+1]||null,a.Ii(this.gb,c?c.gb:null)):this.$c&&!a.$c&&a.gb&&a.gb.parentNode&&a.gb.parentNode.nodeType==h.g.o.Node.ELEMENT_NODE&&
a.Gf()};b.kl=function(){return this.EB};function hb(a,c){if(a.$c)throw Error(h.Cc.Error.Jr);a.EB=c}function ib(a){return 0!=a.kb.length}function gb(a,c,d){for(var e=0;e<a.kb.length;e++)c.call(d,a.kb[e],e)};h.g.Y={};h.g.Y.tC="aria-";h.g.Y.YD="role";h.g.Y.Yg={zJ:"grid",AJ:"gridcell",eD:"group",vD:"listbox",HD:"menu",JD:"menuitem",KD:"menuitemcheckbox",OD:"option",TD:"presentation",Js:"row",gE:"tree",hE:"treeitem"};h.g.Y.State={Ew:"activedescendant",QI:"colcount",$r:"expanded",xx:"invalid",sD:"label",Fx:"labelledby",tD:"level",QD:"orientation",SD:"posinset",PK:"rowcount",lm:"selected",ZD:"setsize",jE:"valuemax",kE:"valuemin"};h.g.Y.Hg=function(a,c){a.setAttribute(h.g.Y.YD,c)};
h.g.Y.Fb=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.Y.tC+c,d)};h.Ga={};h.Ga.yd=function(a,c){h.Cc.call(this);this.Xc=c;this.rg=a;this.Qm=this.lr=!1;this.Su=!0;this.Lt=-1};h.g.object.U(h.Ga.yd,h.Cc);h.Ga.yd.dt={};b=h.Ga.yd.prototype;b.Om=function(){h.Ga.yd.v.Om.call(this);this.Ga&&(this.Ga=null);this.gb=null};
b.jq=function(){var a=this.ua();if(a){var c=jb(this);c&&!c.id&&(c.id=this.wa()+".label");h.g.Y.Hg(a,h.g.Y.Yg.hE);h.g.Y.Fb(a,h.g.Y.State.lm,!1);h.g.Y.Fb(a,h.g.Y.State.tD,this.Xk());c&&h.g.Y.Fb(a,h.g.Y.State.Fx,c.id);(c=this.tu())&&h.g.Y.Hg(c,h.g.Y.Yg.TD);if(c=kb(this))if(h.g.Y.Hg(c,h.g.Y.Yg.eD),c.hasChildNodes())for(h.g.Y.Fb(a,h.g.Y.State.$r,!1),a=this.kb.length,c=1;c<=a;c++){var d=(this.kb[c-1]||null).ua();h.g.Y.Fb(d,h.g.Y.State.ZD,a);h.g.Y.Fb(d,h.g.Y.State.SD,c)}}};
b.Ha=function(){var a=document.createElement("div");a.appendChild(lb(this));this.gb=a};b.Gf=function(){h.Ga.yd.v.Gf.call(this);h.Ga.yd.dt[this.wa()]=this;this.jq()};b.ii=function(){h.Ga.yd.v.ii.call(this);delete h.Ga.yd.dt[this.wa()]};
b.um=function(a,c){var d=this.kb[c-1]||null,e=this.kb[c]||null;h.Ga.yd.v.um.call(this,a,c);a.xl=d;a.mv=e;d?d.mv=a:this.Lz=a;e&&(e.xl=a);(c=this.Ye())&&mb(a,c);nb(a,this.Xk()+1);if(c=this.ua())if(this.Ar(),h.g.Y.Fb(c,h.g.Y.State.$r,this.Ve()),this.Ve()){c=kb(this);a.ua()||a.Ha();var f=a.ua(),g=e&&e.ua();c.insertBefore(f,g);this.$c&&a.Gf();e||(d?d.Ar():(h.g.style.Vv(c,!0),this.bk(this.Ve())))}};b.add=function(a){if(a.getParent())throw Error(h.Cc.Error.Cs);this.um(a,this.kb.length)};b.Ye=function(){return null};
b.Xk=function(){var a=this.Lt;0>a&&(a=(a=this.getParent())?a.Xk()+1:0,nb(this,a));return a};function nb(a,c){if(c!=a.Lt){a.Lt=c;var d=ob(a);if(d){var e=pb(a)+"px";a.kl()?d.style.paddingRight=e:d.style.paddingLeft=e}gb(a,function(f){nb(f,c+1)})}}b.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};b.lh=function(){var a=[];gb(this,function(c){a.push(c)});return a};b.select=function(){var a=this.Ye();a&&$a(a,this)};
function qb(a,c){if(a.lr!=c){a.lr=c;rb(a);var d=a.ua();d&&(h.g.Y.Fb(d,h.g.Y.State.lm,c),c&&(c=a.Ye().ua(),h.g.Y.Fb(c,h.g.Y.State.Ew,a.wa())))}}b.Ve=function(){return this.Qm};
b.bk=function(a){var c=a!=this.Qm,d;this.Qm=a;var e=this.Ye(),f=this.ua();if(ib(this)){if(!a&&e&&this.contains(e.Ld)&&this.select(),f){if(d=kb(this))h.g.style.Vv(d,a),h.g.Y.Fb(f,h.g.Y.State.$r,a),a&&this.$c&&!d.hasChildNodes()&&(gb(this,function(g){d.appendChild(lb(g))}),gb(this,function(g){g.Gf()}));this.Ar()}}else(d=kb(this))&&h.g.style.Vv(d,!1);f&&(this.tu().className=this.Vp());c&&(a?this.Dz():this.Cz())};b.Dz=function(){};b.Cz=function(){};b.toggle=function(){this.bk(!this.Ve())};
function lb(a){var c=a.Ve()&&ib(a),d=document.createElement("div");d.style.backgroundPosition=sb(a);c||(d.style.display="none");c&&gb(a,function(e){d.appendChild(lb(e))});c=document.createElement("div");c.id=a.wa();c.appendChild(tb(a));c.appendChild(d);return c}function pb(a){return Math.max(0,(a.Xk()-1)*a.Xc.yA)}function tb(a){var c=document.createElement("div");c.className=a.$p();c.style["padding-"+(a.kl()?"right":"left")]=pb(a)+"px";c.appendChild(ub(a));c.appendChild(vb(a));return c}
b.$p=function(){var a="";this.lr&&(a=" "+(this.Xc.nF||""));return this.Xc.lz+a};function vb(a){var c=document.createElement("span");c.className=a.Xc.lF||"";c.textContent=a.hc();return c}function ub(a){var c=document.createElement("span");c.style.display="inline-block";c.className=a.Vp();return c}b.Vp=function(){throw Error("unimplemented abstract method");};function sb(a){return(a.mv?(a.Xk()-1)*a.Xc.yA:"-100")+"px 0"}
b.ua=function(){var a=h.Ga.yd.v.ua.call(this);a||(this.gb=a=document.getElementById(this.wa()));return a};function ob(a){return(a=a.ua())?a.firstChild:null}b.tu=function(){var a=ob(this);return a?a.firstChild:null};function jb(a){return(a=ob(a))&&a.lastChild?a.lastChild.previousSibling:null}function kb(a){return(a=a.ua())?a.lastChild:null}b.El=function(a){this.rg=a};b.hc=function(){return this.rg};function rb(a){var c=ob(a);c&&(c.className=a.$p())}
b.Ar=function(){var a=kb(this);a&&(a.style.backgroundPosition=sb(this))};b.kB=function(a){"expand"==a.target.getAttribute("type")&&ib(this)?this.Su&&this.toggle():(this.select(),rb(this))};b.hB=function(a){a.preventDefault()};b.Hn=function(a){var c=!0;switch(a.keyCode){case h.g.Ca.Gs:if(a.altKey)break;c=wb(this);break;case h.g.Ca.ps:if(a.altKey)break;c=xb(this);break;case h.g.Ca.Mo:c=yb(this);break;case h.g.Ca.pp:c=zb(this);break;default:c=!1}c&&a.preventDefault();return c};
function yb(a){a:if(ib(a)&&a.Ve())a=a.kb[0]||null;else{for(var c=a,d;c!=a.Ye();){d=c.mv;if(null!=d){a=d;break a}c=c.getParent()}a=null}a&&a.select();return!0}function zb(a){var c=a.xl;if(null!=c)a=Ab(c);else{c=a.getParent();var d=a.Ye();a=c==d||a==d?null:c}a&&a.select();return!0}function xb(a){if(ib(a)&&a.Ve()&&a.Su)a.bk(!1);else{var c=a.getParent();a=a.Ye();c&&c!=a&&c.select()}return!0}function wb(a){return ib(a)?(a.Ve()?(a.kb[0]||null).select():a.bk(!0),!0):!1}
function Ab(a){return a.Ve()&&ib(a)?Ab(a.kb[a.kb.length-1]||null):a}function mb(a,c){a.Ga!=c&&(a.Ga=c,gb(a,function(d){mb(d,c)}))};h.Ga.Wh=function(a,c,d){this.ra=a;h.Ga.yd.call(this,c,d)};h.g.object.U(h.Ga.Wh,h.Ga.yd);b=h.Ga.Wh.prototype;b.Ye=function(){if(this.Ga)return this.Ga;var a=this.getParent();return a&&(a=a.Ye())?(mb(this,a),a):null};b.Vp=function(){var a=this.Ve(),c=this.LF;if(a&&c)return c;c=this.IG;if(!a&&c)return c;c=this.Xc;if(ib(this)){if(a&&c.jz)return c.Gp+" "+c.jz;if(!a&&c.iF)return c.Gp+" "+c.iF}else if(c.kz)return c.Gp+" "+c.kz;return""};
b.hB=function(){ib(this)&&this.Su?(this.toggle(),this.select()):this.lr?$a(this.Ye(),null):this.select();rb(this)};b.kB=function(){};b.Hn=function(a){if(this.Ga.ra.Lf){var c={},d=h.g.Ca.Mo,e=h.g.Ca.pp;c[h.g.Ca.Gs]=this.kl()?e:d;c[h.g.Ca.ps]=this.kl()?d:e;c[h.g.Ca.pp]=h.g.Ca.ps;c[h.g.Ca.Mo]=h.g.Ca.Gs;Object.defineProperties(a,{keyCode:{value:c[a.keyCode]||a.keyCode}})}return h.Ga.Wh.v.Hn.call(this,a)};b.CB=function(){this.nB&&this.nB.call(this.ra)};b.Dz=h.Ga.Wh.prototype.CB;b.Cz=h.Ga.Wh.prototype.CB;h.Ga.ij=function(a,c){this.ra=a;this.Sq=this.Nq=this.Lq=this.Pq=null;h.Ga.yd.call(this,"",c);this.Qm=!0;qb(this,!0);this.Ld=this};h.g.object.U(h.Ga.ij,h.Ga.yd);b=h.Ga.ij.prototype;b.Ye=function(){return this};b.Xk=function(){return 0};b.vG=function(){this.Pz=!0;var a=this.ua();h.g.o.Xa(a,"focused");this.Ld&&this.Ld.select()};b.sG=function(){this.Pz=!1;var a=this.ua();h.g.o.Eb(a,"focused")};b.hasFocus=function(){return this.Pz};b.Ve=function(){return!0};b.bk=function(a){this.Qm=a};
b.tu=function(){var a=ob(this);return a?a.firstChild:null};b.Ar=function(){};b.$p=function(){return h.Ga.ij.v.$p.call(this)+" "+this.Xc.kF};b.Vp=function(){var a=this.Ve(),c=this.LF;if(a&&c)return c;c=this.IG;if(!a&&c)return c;c=this.Xc;return a&&c.jF?c.Gp+" "+c.jF:""};function $a(a,c){if(c!=a.Ld&&(!a.fB||a.fB.call(a.ra,c))){var d=a.Ld;a.Ld&&qb(a.Ld,!1);(a.Ld=c)&&qb(c,!0);a.eB&&a.eB.call(a.ra,d,c)}}
b.jq=function(){h.Ga.ij.v.jq.call(this);var a=this.ua();h.g.Y.Hg(a,h.g.Y.Yg.gE);h.g.Y.Fb(a,h.g.Y.State.Fx,jb(this).id)};b.Gf=function(){h.Ga.ij.v.Gf.call(this);var a=this.ua();a.className=this.Xc.mF;a.setAttribute("hideFocus","true");this.kt();this.jq()};b.ii=function(){h.Ga.ij.v.ii.call(this);this.Nt()};b.kt=function(){var a=this.ua();a.tabIndex=0;this.Pq=h.pd(a,"focus",this,this.vG);this.Lq=h.pd(a,"blur",this,this.sG);this.Nq=h.na(a,"click",this,this.zG);this.Sq=h.pd(a,"keydown",this,this.wG)};
b.Nt=function(){this.Pq&&(h.Ra(this.Pq),this.Pq=null);this.Lq&&(h.Ra(this.Lq),this.Lq=null);this.Nq&&(h.Ra(this.Nq),this.Nq=null);this.Sq&&(h.Ra(this.Sq),this.Sq=null)};b.zG=function(a){var c;a:{for(var d=a.target;null!=d;){if(c=h.Ga.yd.dt[d.id])break a;if(d==this.ua())break;d=d.parentNode}c=null}if(c)switch(a.type){case "mousedown":c.kB(a);break;case "click":c.hB(a)}};b.wG=function(a){var c=!1;if(c=this.Ld&&this.Ld.Hn(a)||c)h.g.style.Sv(this.Ld.ua(),this.ua().parentNode),a.preventDefault();return c};
b.createNode=function(a){return new h.Ga.Wh(this.ra,a||"",this.Xc)};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.hj=function(a){this.s=a;this.J=a.options.J;this.Lf=a.options.Kf;this.Ja=a.options.Ja;this.Xc={yA:19,mF:"blocklyTreeRoot",kF:"blocklyHidden",lz:"blocklyTreeRow",lF:"blocklyTreeLabel",Gp:"blocklyTreeIcon",jz:"blocklyTreeIconOpen",kz:"blocklyTreeIconNone",nF:"blocklyTreeSelected"};this.ZB={lz:"blocklyTreeSeparator"};this.Lf&&(this.Xc.cssTreeRow+=a.J?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.ZB.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.J?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.Xc.cssTreeIcon="");this.ba=null};b=h.hj.prototype;b.width=0;b.height=0;b.$j=null;b.ll=null;
b.S=function(){var a=this.s,c=u(this.s);this.Dc=document.createElement("div");this.Dc.className="blocklyToolboxDiv blocklyNonSelectable";this.Dc.setAttribute("dir",a.J?"RTL":"LTR");c.parentNode.insertBefore(this.Dc,c);var d=a.tc;d.subscribe(this.Dc,"toolboxBackgroundColour","background-color");d.subscribe(this.Dc,"toolboxForegroundColour","color");h.na(this.Dc,"mousedown",this,function(e){h.g.Mj(e)||e.target==this.Dc?h.zc(!1):h.zc(!0);h.Touch.$h()},!1,!0);d=new h.Vc({parentWorkspace:a,rtl:a.J,oneBasedIndex:a.options.Ah,
horizontalLayout:a.Kf,renderer:a.options.zl});d.Ja=a.options.Ja;if(a.Kf){if(!h.Zl)throw Error("Missing require for Blockly.HorizontalFlyout");this.ba=new h.Zl(d)}else{if(!h.bh)throw Error("Missing require for Blockly.VerticalFlyout");this.ba=new h.bh(d)}if(!this.ba)throw Error("One of Blockly.VerticalFlyout or Blockly.Horizontal must berequired.");h.g.o.Hj(this.ba.Ha("svg"),c);this.ba.S(a);this.Xc.cleardotPath=a.options.Dg+"1x1.gif";this.Xc.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.J?"Rtl":
"Ltr");Bb(this,a.options.yg)};function Bb(a,c){a.gd&&(a.gd.H(),a.ll=null);var d=new h.Ga.ij(a,a.Xc);a.gd=d;$a(d,null);d.fB=a.rG;d.eB=a.qG;var e=null;if(c){a.gd.ng=[];a.Eu=!1;e=Cb(a,c,a.gd,a.s.options.Dg);if(a.gd.ng.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");za(a.s)}d.Ba(a.Dc);e&&$a(d,e);Db(a);a.position();a.Lf&&h.g.Y.Fb(a.gd.ua(),h.g.Y.State.QD,"horizontal")}
b.rG=function(a){if(a==this.gd)return!1;this.ll&&(ob(this.ll).style.backgroundColor="");if(a){var c=a.Cj||"#57e";ob(a).style.backgroundColor=c;Db(this,a)}return!0};b.qG=function(a,c){c&&c.ng&&c.ng.length?(this.ba.show(c.ng),this.ll!=c&&this.ba.Bc.set(0),this.s.xe&&h.navigation.Fb(h.navigation.Ts)):(this.ba.Aa(),!this.s.xe||c instanceof h.hj.$s||h.navigation.Fb(h.navigation.nm));a!=c&&a!=this&&(a=new h.i.lc(null,"category",a&&a.hc(),c&&c.hc()),a.Sb=this.s.id,h.i.Ea(a));c&&(this.ll=c)};b.CG=function(){h.Kl(this.s)};
b.Kd=function(a){var c=this.gd.Ld;if(!c)return!1;switch(a.name){case h.navigation.Da.ne:return zb(c);case h.navigation.Da.hp:return xb(c);case h.navigation.Da.le:return yb(c);case h.navigation.Da.Uo:return wb(c);default:return!1}};b.H=function(){this.ba.H();this.gd.H();this.s.tc.unsubscribe(this.Dc);h.g.o.removeNode(this.Dc);this.ll=null};b.ph=function(){return this.width};b.Yz=function(){return this.height};b.Ic=function(){return this.ba};
b.position=function(){var a=this.Dc;if(a){var c=h.VB(u(this.s));this.Lf?(a.style.left="0",a.style.height="auto",a.style.width=c.width+"px",this.height=a.offsetHeight,this.Ja==h.$g?a.style.top="0":a.style.bottom="0"):(this.Ja==h.Zg?a.style.right="0":a.style.left="0",a.style.height=c.height+"px",this.width=a.offsetWidth);this.ba.position()}};
function Cb(a,c,d,e){for(var f=null,g=null,k=0,l;l=c.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":g=h.g.fe(l.getAttribute("name"));var m=a.gd.createNode(g);m.nB=a.CG;m.ng=[];d.add(m);var n=l.getAttribute("custom");n?m.ng=n:(n=Cb(a,l,m,e))&&(f=n);n=l.getAttribute("categorystyle");var q=l.getAttribute("colour");q&&n?(m.Cj="",console.warn('Toolbox category "'+g+'" can not have both a style and a colour')):n?Eb(a,n,m,g):Fb(a,q,m,g);"true"==l.getAttribute("expanded")?
(m.ng.length&&(f=m),m.bk(!0)):m.bk(!1);g=l;break;case "SEP":if(g&&"CATEGORY"==g.tagName.toUpperCase()){d.add(new h.hj.$s(a.ZB));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.ng.push(l),g=l}return f}function Fb(a,c,d,e){c=h.g.fe(c);if(null===c||""===c)d.Cj="";else{var f=Number(c);isNaN(f)?(f=h.g.pb.parse(c))?(d.Cj=f,a.Eu=!0):(d.Cj="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+c)):(d.Cj=h.HG(f),a.Eu=!0)}}
function Eb(a,c,d,e){d.UB=c;var f=a.s.ki();c&&f&&((f=f.xt[c])&&f.pb?Fb(a,f.pb,d,e):console.warn('Style "'+c+'" must exist and contain a colour value'))}function Gb(a,c){if(c=c||a.gd){c=c.lh(!1);for(var d=0,e;e=c[d];d++)e.UB&&(Eb(a,e.UB,e,""),Db(a)),Gb(a,e)}}function Hb(a){var c=a.gd;if(c&&(Gb(a,c),c=c.Ld)){var d=c.Cj||"#57e";ob(c).style.backgroundColor=d;Db(a,c)}}
function Db(a,c){c=(c||a.gd).lh(!1);for(var d=0,e;e=c[d];d++){var f=ob(e);if(f){var g=a.Eu?"8px solid "+(e.Cj||"#ddd"):"none";a.s.J?f.style.borderRight=g:f.style.borderLeft=g}Db(a,e)}}b.Ym=function(){if(!this.Dc)return null;var a=this.Dc.getBoundingClientRect(),c=a.top,d=c+a.height,e=a.left;a=e+a.width;return this.Ja==h.$g?new h.g.Rect(-1E7,d,-1E7,1E7):this.Ja==h.gj?new h.g.Rect(c,1E7,-1E7,1E7):this.Ja==h.Ud?new h.g.Rect(-1E7,1E7,-1E7,a):new h.g.Rect(-1E7,1E7,e,1E7)};
h.hj.$s=function(a){h.Ga.Wh.call(this,null,"",a)};h.g.object.U(h.hj.$s,h.Ga.Wh);
h.kd.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {",
"height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;",
"}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {",
"background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",
'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);h.Zs=function(a){this.s=a;this.nj=[];this.wj=null;if(!(0>=this.s.options.Eq)){a=new h.Vc({scrollbars:!0,parentWorkspace:this.s,rtl:this.s.J,oneBasedIndex:this.s.options.Ah,renderer:this.s.options.zl});if(this.s.Kf){a.Ja=this.s.Ja==h.$g?h.gj:h.$g;if(!h.Zl)throw Error("Missing require for Blockly.HorizontalFlyout");this.wj=new h.Zl(a)}else{a.Ja=this.s.Ja==h.Zg?h.Ud:h.Zg;if(!h.bh)throw Error("Missing require for Blockly.VerticalFlyout");this.wj=new h.bh(a)}D(this.s,this.sH.bind(this))}};b=h.Zs.prototype;
b.jj=47;b.Ao=44;b.Bk=16;b.ts=20;b.bm=20;b.$o=10;b.Ns=0;b.Os=32;b.fD=.1;b.Qu=!1;b.Fq=0;b.L=null;b.wr=null;b.Yu=0;b.si=0;b.un=0;b.Ol=0;
b.Ha=function(){this.L=h.g.o.G("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.o.G("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.L);h.g.o.G("rect",{width:this.jj,height:this.Ao,y:this.Bk},c);var d=h.g.o.G("image",{width:h.Dd.width,x:-this.Ns,height:h.Dd.height,y:-this.Os,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.L);d.setAttributeNS(h.g.o.wf,"xlink:href",this.s.options.Dg+h.Dd.url);c=h.g.o.G("clipPath",{id:"blocklyTrashLidClipPath"+a},this.L);
h.g.o.G("rect",{width:this.jj,height:this.Bk},c);this.wr=h.g.o.G("image",{width:h.Dd.width,x:-this.Ns,height:h.Dd.height,y:-this.Os,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.L);this.wr.setAttributeNS(h.g.o.wf,"xlink:href",this.s.options.Dg+h.Dd.url);h.na(this.L,"mouseup",this,this.click);h.pd(d,"mouseover",this,this.cH);h.pd(d,"mouseout",this,this.bH);this.et();return this.L};
b.S=function(a){0<this.s.options.Eq&&(h.g.o.Hj(this.wj.Ha("svg"),u(this.s)),this.wj.S(this.s));this.Mh=this.ts+a;Ib(this,!1);return this.Mh+this.Ao+this.Bk};b.H=function(){this.L&&(h.g.o.removeNode(this.L),this.L=null);this.s=this.wr=null;clearTimeout(this.Yu)};
b.position=function(){if(this.Mh){var a=this.s.Jc();a&&(this.un=a.Ja==h.Ud||this.s.Kf&&!this.s.J?a.qb+a.wc-this.jj-this.bm-h.Qa.Ac:this.bm+h.Qa.Ac,this.Ol=a.Ja==h.gj?this.Mh:a.Ab+a.Ec-(this.Ao+this.Bk)-this.Mh,this.L.setAttribute("transform","translate("+this.un+","+this.Ol+")"))}};b.Ym=function(){if(!this.L)return null;var a=this.L.getBoundingClientRect(),c=a.top+this.Os-this.$o;a=a.left+this.Ns-this.$o;return new h.g.Rect(c,c+this.Bk+this.Ao+2*this.$o,a,a+this.jj+2*this.$o)};
function Ib(a,c){a.Qu!=c&&(clearTimeout(a.Yu),a.Qu=c,a.et())}b.et=function(){this.si+=this.Qu?.2:-.2;this.si=Math.min(Math.max(this.si,this.Fq),1);Jb(this,45*this.si);this.L.style.opacity=.4+.4*this.si;this.si>this.Fq&&1>this.si&&(this.Yu=setTimeout(this.et.bind(this),20))};function Jb(a,c){var d=a.s.Ja==h.Zg||a.s.Kf&&a.s.J;a.wr.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.jj-4)+","+(a.Bk-2)+")")}b.close=function(){Ib(this,!1)};
b.click=function(){if(this.nj.length){for(var a=[],c=0,d;d=this.nj[c];c++)a[c]=h.R.Pi(d);this.wj.show(a)}};b.cH=function(){this.nj.length&&Ib(this,!0)};b.bH=function(){Ib(this,!1)};
b.sH=function(a){if(!(0>=this.s.options.Eq)&&a.type==h.i.Lr&&"shadow"!=a.rv.tagName.toLowerCase()){for(var c=a=a.rv.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.R.te(a);if(-1==this.nj.indexOf(a)){for(this.nj.unshift(a);this.nj.length>
this.s.options.Eq;)this.nj.pop();this.Fq=this.fD;Jb(this,45*this.Fq)}}};h.M=Object.create(null);h.ta=function(a,c){this.I=a;this.type=c};h.ta.Go=0;h.ta.Xx=1;h.ta.$x=2;h.ta.Zx=3;h.ta.Vx=4;h.ta.Wx=5;h.ta.Yx=6;b=h.ta.prototype;b.ea=null;b.vg=!1;b.zf=null;b.Qf=null;b.x=0;b.y=0;
b.Cf=function(a){var c=this,d=c.P(),e=a.P();a.isConnected()&&a.disconnect();if(c.isConnected()){var f=c.ga(),g=c.Qf;c.Qf=null;if(f.Ma)g=h.R.Yh(f),f.H(!1),f=null;else if(c.type==h.Ta){if(!f.F)throw Error("Orphan block does not have an output connection.");var k=h.ta.KA(e,f);k&&(f.F.connect(k),f=null)}else if(c.type==h.bb){if(!f.Z)throw Error("Orphan block does not have a previous connection.");for(k=e;k.V;){var l=t(k);if(l&&!l.Ma)k=l;else{Kb(f.Z,k.V)&&(k.V.connect(f.Z),f=null);break}}}if(f&&(c.disconnect(),
h.i.Pc)){var m=h.i.fc();setTimeout(function(){f.w&&!f.getParent()&&(h.i.ca(m),f.F?f.F.Oq(c):f.Z&&f.Z.Oq(c),h.i.ca(!1))},h.Bo)}c.Qf=g}var n;h.i.isEnabled()&&(n=new h.i.Sl(e));h.ta.aF(c,a);e.Dl(d);n&&(n.Xj(),h.i.Ea(n))};b.H=function(){if(this.isConnected()){this.Qf=null;var a=this.ga();a.Ma?a.H(!1):w(a)}this.vg=!0};b.P=function(){return this.I};function F(a){return a.type==h.Ta||a.type==h.bb}b.isConnected=function(){return!!this.ea};
function bb(a,c){if(!c)return h.ta.Zx;if(F(a))var d=a.I,e=c.P();else e=a.I,d=c.P();return d&&d==e?h.ta.Xx:c.type!=h.Ek[a.type]?h.ta.$x:d&&e&&d.w!==e.w?h.ta.Wx:Kb(a,c)?d.Ma&&!e.Ma?h.ta.Yx:h.ta.Go:h.ta.Vx}
function db(a,c){switch(bb(a,c)){case h.ta.Go:break;case h.ta.Xx:throw Error("Attempted to connect a block to itself.");case h.ta.Wx:throw Error("Blocks not on same workspace.");case h.ta.$x:throw Error("Attempt to connect incompatible types.");case h.ta.Zx:throw Error("Target connection is null.");case h.ta.Vx:throw Error("Connection checks failed. "+(a+" expected "+a.zf+", found "+c.zf));case h.ta.Yx:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");
}}
b.mq=function(a){if(a.I.xh()||bb(this,a)!=h.ta.Go)return!1;switch(a.type){case h.Ge:return this.ea||-1!=h.Pm.indexOf(a)?a=!1:a.ea?(a=a.ga(),a=a.xh()?!(a.Z&&a.Z.ga()):!1):a=!0,a;case h.me:if(a.isConnected()&&!a.ga().xh()||this.isConnected())return!1;break;case h.Ta:if(a.isConnected()&&!a.ga().Lc()&&!a.ga().Ma)return!1;break;case h.bb:if(a.isConnected()&&!this.I.V&&!a.ga().Ma&&a.ga().V)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=h.Pm.indexOf(a)?!1:
!0};b.Oq=function(){};b.connect=function(a){if(this.ea!=a){db(this,a);var c=h.i.fc();c||h.i.ca(!0);F(this)?this.Cf(a):a.Cf(this);c||h.i.ca(!1)}};h.ta.aF=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ea=c;c.ea=a};h.ta.dI=function(a,c){for(var d=null,e=0;e<a.N.length;e++){var f=a.N[e].connection;if(f&&f.type==h.Ta&&Kb(c.F,f)){if(d)return null;d=f}}return d};h.ta.KA=function(a,c){for(var d;d=h.ta.dI(a,c);)if(a=d.ga(),!a||a.Ma)return d;return null};b=h.ta.prototype;
b.disconnect=function(){var a=this.ea;if(!a)throw Error("Source connection not connected.");if(a.ea!=this)throw Error("Target connection not connected to source connection.");if(F(this)){var c=this.I;var d=a.P();a=this}else c=a.P(),d=this.I;var e=h.i.fc();e||h.i.ca(!0);this.Vt(c,d);a.Pv();e||h.i.ca(!1)};b.Vt=function(a,c){var d;h.i.isEnabled()&&(d=new h.i.Sl(c));this.ea=this.ea.ea=null;c.Dl(null);d&&(d.Xj(),h.i.Ea(d))};
b.Pv=function(){var a=this.P(),c=this.Qf;if(a.w&&c&&h.i.Pc)if(a=h.R.tj(c,a.w),a.F)this.connect(a.F);else if(a.Z)this.connect(a.Z);else throw Error("Child block does not have output or previous statement.");};b.ga=function(){return this.isConnected()?this.ea.P():null};function Kb(a,c){if(!a.zf||!c.zf)return!0;for(var d=0;d<a.zf.length;d++)if(-1!=c.zf.indexOf(a.zf[d]))return!0;return!1}b.gB=function(){!this.isConnected()||this.ea&&Kb(this,this.ea)||w(F(this)?this.ga():this.I)};
b.lb=function(a){a?(Array.isArray(a)||(a=[a]),this.zf=a,this.gB()):this.zf=null;return this};b.$A=function(){return[]};b.If=function(){for(var a=null,c=this.I,d=c.N,e=0;e<c.N.length;e++)if(d[e].connection===this){a=d[e];break}return a};
b.toString=function(){var a=this.I;if(a)if(a.F==this)var c="Output Connection of ";else if(a.Z==this)c="Previous Connection of ";else if(a.V==this)c="Next Connection of ";else{c=null;for(var d=0,e;e=a.N[d];d++)if(e.connection==this){c=e;break}if(c)c='Input "'+c.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return c+d};h.aa={};h.aa.Ql={};h.aa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.aa.Ql[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.aa.Ql[a]=c};h.aa.cr=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.aa.register(a,function(){this.zg(c)})};
h.aa.Kv=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.aa.Ty(f,c.Cb,"domToMutation");h.aa.Ty(f,c.cb,"mutationToDom");var g=h.aa.Vy(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.aa.register(a,function(){if(g){if(!h.Tb)throw Error(f+"Missing require for Blockly.Mutator");this.Li(new h.Tb(e||[]))}this.zg(c);d&&d.apply(this)})};h.aa.unregister=function(a){h.aa.Ql[a]?delete h.aa.Ql[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.aa.apply=function(a,c,d){var e=h.aa.Ql[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.aa.RE(a,c);else var f=h.aa.vu(c);e.apply(c);if(d)h.aa.OE('Error after applying mutator "'+a+'": ',c);else if(!h.aa.iH(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.aa.Ty=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.aa.RE=function(a,c){if(h.aa.vu(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.aa.Vy=function(a,c){var d=void 0!==a.eh,e=void 0!==a.hh;if(d&&e){if("function"!=typeof a.eh)throw Error(c+"compose must be a function.");if("function"!=typeof a.hh)throw Error(c+"decompose must be a function.");return!0}if(d||e)throw Error(c+'Must have both or neither of "compose" and "decompose"');return!1};
h.aa.OE=function(a,c){if("function"!=typeof c.Cb)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.cb)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.aa.Vy(c,a)};h.aa.vu=function(a){var c=[];void 0!==a.Cb&&c.push(a.Cb);void 0!==a.cb&&c.push(a.cb);void 0!==a.eh&&c.push(a.eh);void 0!==a.hh&&c.push(a.hh);return c};h.aa.iH=function(a,c){c=h.aa.vu(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.aa.wp=function(a,c){var d=[];"object"==typeof document&&h.g.GB(function(){for(var e in c)h.g.Uy(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.aa.PE(this,a,c),d.push(this.type));this.Wa(function(){var e=String(C(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.fe(f);return f}.bind(this))}};
h.aa.PE=function(a,c,d){var e=v(a,c);if("function"!=typeof e.Rj){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.aa.st=function(a){"object"==typeof document&&h.g.GB(function(){h.g.Uy(a)});return function(){this.Wa(function(){var c=v(this,"VAR");return h.g.fe(a).replace("%1",c?c.hc():"")}.bind(this))}};
h.aa.MF=function(){this.qI=this.Vf;this.Wa(function(){var a=this.getParent();return a&&Lb(a)&&a.Vf||this.qI}.bind(this))};h.aa.register("parent_tooltip_when_inline",h.aa.MF);h.rd={};h.rd.lo={};h.rd.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'". The type must be a non-empty string.');if(h.rd.lo[a])throw Error('Error: Field "'+a+'" is already registered.');if(!c||"function"!=typeof c.ya)throw Error('Field "'+c+'" must have a fromJson function');a=a.toLowerCase();h.rd.lo[a]=c};h.rd.unregister=function(a){h.rd.lo[a]?delete h.rd.lo[a]:console.warn('No field mapping for type "'+a+'" found to unregister')};
h.rd.ya=function(a){var c=h.rd.lo[a.type.toLowerCase()];return c?c.ya(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.ob={};h.ob.Wt=0;h.ob.Jp=null;h.ob.zF=function(a){var c=a.w,d=a.Oa();c.Xh.play("delete");a=Mb(c,d);d=d.cloneNode(!0);d.tI=a.x;d.uI=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");u(c).appendChild(d);d.My=d.getBBox();h.ob.Bz(d,c.J,new Date,c.scale)};h.ob.Bz=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.o.removeNode(a):(a.setAttribute("transform","translate("+(a.tI+(c?-1:1)*a.My.width*e/2*f)+","+(a.uI+a.My.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.ob.Bz,10,a,c,d,e))};
h.ob.cF=function(a){var c=a.w,d=c.scale;c.Xh.play("click");if(!(1>d)){var e=Mb(c,a.Oa());a.F?(e.x+=(a.J?3:-3)*d,e.y+=13*d):a.Z&&(e.x+=(a.J?-23:23)*d,e.y+=3*d);a=h.g.o.G("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},u(c));h.ob.bz(a,new Date,d)}};h.ob.bz=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.o.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.ob.Wt=setTimeout(h.ob.bz,10,a,c,d))};
h.ob.yF=function(a){a.w.Xh.play("disconnect");if(!(1>a.w.scale)){var c=G(a).height;c=Math.atan(10/c)/Math.PI*180;a.J||(c*=-1);h.ob.zz(a.Oa(),c,new Date)}};h.ob.zz=function(a,c,d){var e=(new Date-d)/200;1<e?a.Xn="":(a.Xn="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.ob.Jp=a,h.ob.Wt=setTimeout(h.ob.zz,10,a,c,d));a.setAttribute("transform",a.jo+a.Xn)};h.ob.Xt=function(){if(h.ob.Jp){clearTimeout(h.ob.Wt);var a=h.ob.Jp;a.Xn="";a.setAttribute("transform",a.jo);h.ob.Jp=null}};h.Yo=function(a){this.Ng=h.selected=a;this.s=a.w;this.ml=this.Uu=null;this.Sm=Nb(this,this.Ng);this.ad=this.ub=null;this.Pg=!1;this.Pj=null;this.Gu=!1;this.ln=null;a=this.Ng.Hf(!1);var c=this.Ng.Tu();c&&c!=this.Ng.V&&(a.push(c),this.Uu=c,this.ml=Nb(this,c.P()));this.nt=a};h.Yo.prototype.H=function(){this.nt.length=0;h.i.disable();try{this.Sm&&this.Sm.H(),this.ml&&this.ml.H()}finally{h.i.enable()}};
h.Yo.prototype.update=function(a,c){var d=this.ub&&this.ad?h.IC:h.Cd;for(var e=null,f=null,g=0;g<this.nt.length;g++){var k=this.nt[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.$q)}e=(d={closest:e,local:f,$q:d},!!d.closest)&&c!=h.Zw;if((this.Pg=!!c&&!this.Ng.getParent()&&this.Ng.we()&&!e)||Ob(this,d,a)){h.i.disable();d.closest?(a=this.ub!=d.closest,c=this.ad!=d.local,this.ub&&this.ad&&(a||c||this.Pg)&&Pb(this)):Pb(this);this.ad=this.ub=this.Pj=null;if(!this.Pg&&(a=d.closest,c=d.local,
a))if(a==this.ub||a.P().xh())console.log("Trying to connect to an insertion marker");else{this.ub=a;this.ad=c;a=this.ub;c=this.ad;if(c.type==h.me)a=a&&this.s.xb.KB(this.Ng,a);else{a:{d=c.P();for(e=0;f=d.N[e];e++)if(f.connection&&f.connection.type==h.bb){d=f.connection;break a}d=null}a=c==d||this.Ng.V||c.type!=h.Ge||!a.isConnected()}if(a){d=this.ad;a=this.ub;c=this.Uu&&d==this.Uu?this.ml:this.Sm;d=c.uu(d.P(),d);if(d==this.Pj)throw Error("Made it to connectMarker_ even though the marker isn't changing");
c.Ba();c.ma=!0;c.Oa().setAttribute("visibility","visible");d&&a&&cb(c,d,a);a&&d.connect(a);this.Pj=d}else a=this.ub,c=this.ad,a.ga()?(this.ln=a.ga(),a.ga().wb.rw(!0)):c.type==h.me&&(this.ln=a.P(),a.P().wb.tw(a,!0)),this.Gu=!0;this.ub&&this.ub.ga()&&this.s.xb.cw(this.ub)&&(a=this.ub,d=a.I.w.xb.u,c=d.Fl(a),a.type==h.Ta||a.type==h.me?(d=d.fj,c=h.g.C.moveBy(0,-d)+h.g.C.pa("v",d)+c.Cg+h.g.C.pa("v",d)):(d=d.Qh-d.sb,c=h.g.C.moveBy(-d,0)+h.g.C.pa("h",d)+c.Jn+h.g.C.pa("h",d)),d=a.I.Va(),h.ta.wA=h.g.o.G("path",
{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+(a.I.J?" scale(-1 1)":"")},a.I.Oa()))}h.i.enable()}};function Nb(a,c){var d=c.type;h.i.disable();try{var e=a.s.xi(d);e.IB(!0);if(c.cb){var f=c.cb();f&&e.Cb(f)}e.Eh(c.isCollapsed());for(a=0;a<c.N.length;a++){var g=c.N[a],k=e.N[a];for(d=0;d<g.Ua.length;d++)k.Ua[d].setValue(g.Ua[d].getValue())}e.bf();e.Oa().setAttribute("visibility","hidden")}finally{h.i.enable()}return e}
function Ob(a,c,d){var e=c.local,f=c.closest;c=c.$q;if(e&&f){if(a.ad&&a.ub){if(a.ub==f&&a.ad==e)return!1;e=a.ad.x+d.x-a.ub.x;a=a.ad.y+d.y-a.ub.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.LC)}if(a.ad||a.ub)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.ad||!a.ub);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function Pb(a){a.ub&&a.ub.ga()&&a.s.xb.cw(a.ub)&&(h.g.o.removeNode(h.ta.wA),delete h.ta.wA);if(a.Gu){var c=a.ub;c.type!=h.Ta||c.isConnected()?a.ln.wb.rw(!1):a.ln.wb.tw(c,!1);a.ln=null;a.Gu=!1}else if(a.Pj)if(a.Pj){c=a.Pj;var d=c.P(),e=d.V,f=d.Z,g=d.F;g=c.type==h.Ta&&!(g&&g.ea);!(c!=e||f&&f.ea)||g?w(c.ga(),!1):c.type==h.bb&&c!=e?(e=c.ea,w(e.P(),!1),f=f?f.ea:null,w(d,!0),f&&f.connect(e)):w(d,!0);if(c.ea)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Pj=null;
d.Oa().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}h.Yo.prototype.Zk=function(){var a=[];this.Sm&&a.push(this.Sm);this.ml&&a.push(this.ml);return a};h.Ui=function(a,c){this.vb=a;this.s=c;this.jh=new h.Yo(this.vb);this.rj=null;this.Pg=!1;this.Kg=this.vb.Va();this.Mp=h.Ui.JG(a)};h.Ui.prototype.H=function(){this.Mp.length=0;this.jh&&this.jh.H()};h.Ui.JG=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++){e=Qb(e);for(var f=0;f<e.length;f++)c.push({location:e[f].Ej,icon:e[f]})}return c};
function Rb(a,c,d){d=a.ul(d);var e=h.g.T.sum(a.Kg,d);a.vb.iv(e);for(e=0;e<a.Mp.length;e++){var f=a.Mp[e],g=f.icon;f=h.g.T.sum(f.location,d);g.Ej=f;g.isVisible()&&(g=g.Pb,g.Vb=f,g.hr&&Ia(g))}a.rj=Sb(a.s,c);a.jh.update(d,a.rj);a.Pg=a.jh.Pg;c=a.s.fd;a.Pg?(Tb(a.vb,!0),a.rj==h.Tr&&c&&Ib(c,!0)):(Tb(a.vb,!1),c&&Ib(c,!1))}
function Ub(a,c,d){Rb(a,c,d);a.Mp=[];c=new h.i.lc(a.vb,"dragStop",p(a.vb,!1),null);h.i.Ea(c);h.g.o.bo();h.ob.Xt();d=a.ul(d);c=h.g.T.sum(a.Kg,d);var e=a.vb;e.so&&(e.translate(c.x,c.y),e.w.pe.Ap(e.w.jb));c=a.s.fd;a.Pg?(c&&setTimeout(c.close.bind(c),100),a.Rm(),a.vb.H(!1,!0)):c&&c.close();a.Pg||(Vb(a.vb,d.x,d.y),a.vb.Ki(!1),a.Rm(),a.jh.ub?(d=a.jh,d.ub&&(h.i.disable(),Pb(d),h.i.enable(),d.ad.connect(d.ub),d.Ng.ma&&(h.ob.cF((F(d.ad)?d.ub:d.ad).P()),fb(d.Ng.Gd())))):a.vb.Ba(),Wb(a.vb));a.s.Rc(!0);(d=a.s.ra)&&
h.g.o.Eb(d.Dc,a.vb.we()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.i.ca(!1)}h.Ui.prototype.Rm=function(){var a=new h.i.Sl(this.vb);a.ov=this.Kg;a.Xj();h.i.Ea(a)};h.Ui.prototype.ul=function(a){a=new h.g.T(a.x/this.s.scale,a.y/this.s.scale);this.s.tn&&a.scale(1/this.s.options.Nc.scale);return a};h.Ui.prototype.Zk=function(){return this.jh&&this.jh.Zk?this.jh.Zk():[]};h.i.Rg=function(a){this.pg=a.id;this.Sb=a.w.id;this.group=h.i.fc();this.Pc=h.i.Pc};h.g.object.U(h.i.Rg,h.i.Abstract);h.i.Rg.prototype.$a=function(){var a=h.i.Rg.v.$a.call(this);this.pg&&(a.commentId=this.pg);return a};h.i.Rg.prototype.ya=function(a){h.i.Rg.v.ya.call(this,a);this.pg=a.commentId};h.i.pk=function(a,c,d){a&&(h.i.pk.v.constructor.call(this,a),this.aB=c,this.Kq=d)};h.g.object.U(h.i.pk,h.i.Rg);b=h.i.pk.prototype;b.type=h.i.Pw;
b.$a=function(){var a=h.i.pk.v.$a.call(this);a.newContents=this.Kq;return a};b.ya=function(a){h.i.pk.v.ya.call(this,a);this.Kq=a.newValue};b.jl=function(){return this.aB==this.Kq};b.run=function(a){var c;(c=ta(this).Dp[this.pg]||null)?c.LL(a?this.Kq:this.aB):console.warn("Can't change non-existent comment: "+this.pg)};h.i.Sg=function(a){a&&(h.i.Sg.v.constructor.call(this,a),this.xml=a.mw())};h.g.object.U(h.i.Sg,h.i.Rg);h.i.Sg.prototype.type=h.i.Ho;
h.i.Sg.prototype.$a=function(){var a=h.i.Sg.v.$a.call(this);a.xml=h.R.te(this.xml);return a};h.i.Sg.prototype.ya=function(a){h.i.Sg.v.ya.call(this,a);this.xml=h.R.Pi(a.xml)};h.i.Sg.prototype.run=function(a){h.i.Vw(this,a)};h.i.Vw=function(a,c){var d=ta(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.R.ei(c,d)):(d=d.Dp[a.pg]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.pg)};h.i.Tg=function(a){a&&(h.i.Tg.v.constructor.call(this,a),this.xml=a.mw())};
h.g.object.U(h.i.Tg,h.i.Rg);h.i.Tg.prototype.type=h.i.Qw;h.i.Tg.prototype.$a=function(){return h.i.Tg.v.$a.call(this)};h.i.Tg.prototype.ya=function(a){h.i.Tg.v.ya.call(this,a)};h.i.Tg.prototype.run=function(a){h.i.Vw(this,!a)};h.i.Xi=function(a){a&&(h.i.Xi.v.constructor.call(this,a),this.Dt=a,this.pv=a.kA(),this.Sj=null)};h.g.object.U(h.i.Xi,h.i.Rg);b=h.i.Xi.prototype;
b.Xj=function(){if(!this.Dt)throw Error("Tried to record the new position of a comment on the same event twice.");this.Sj=this.Dt.kA();this.Dt=null};b.type=h.i.Io;b.$a=function(){var a=h.i.Xi.v.$a.call(this);this.Sj&&(a.newCoordinate=Math.round(this.Sj.x)+","+Math.round(this.Sj.y));return a};b.ya=function(a){h.i.Xi.v.ya.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.Sj=new h.g.T(Number(a[0]),Number(a[1])))};b.jl=function(){return h.g.T.Se(this.pv,this.Sj)};
b.run=function(a){var c;if(c=ta(this).Dp[this.pg]||null){a=a?this.Sj:this.pv;var d=c.kA();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.pg)};h.Fo=function(a,c){this.yc=a;this.s=c;this.rj=null;this.Dr=!1;this.Kg=this.yc.Va();this.uj=h.g.Ij()&&c.pe?c.pe:null};h.Fo.prototype.H=function(){this.uj=this.s=this.yc=null};function Xb(a,c,d){d=a.ul(d);d=h.g.T.sum(a.Kg,d);a.yc.iv(a.uj,d);a.yc.we()&&(a.rj=Sb(a.s,c),a.Dr=a.rj!=h.Yw,c=a.s.fd,a.Dr?(Tb(a.yc,!0),a.rj==h.Tr&&c&&Ib(c,!0)):(Tb(a.yc,!1),c&&Ib(c,!1)))}
function Yb(a,c,d){Xb(a,c,d);c=a.ul(d);c=h.g.T.sum(a.Kg,c);a.yc.moveTo(c.x,c.y);c=a.s.fd;a.Dr?(c&&setTimeout(c.close.bind(c),100),a.Rm(),a.yc.H(!1,!0)):c&&c.close();a.Dr||(a.uj&&a.uj.Ap(a.s.Tf),a.yc.Ki&&a.yc.Ki(!1),a.Rm());a.s.Rc(!0);a.s.ra&&h.g.o.Eb(a.s.ra.Dc,a.yc.we()?"blocklyToolboxDelete":"blocklyToolboxGrab");h.i.ca(!1)}h.Fo.prototype.Rm=function(){if(this.yc.DA){var a=new h.i.Xi(this.yc);a.pv=this.Kg;a.Xj();h.i.Ea(a)}};
h.Fo.prototype.ul=function(a){a=new h.g.T(a.x/this.s.scale,a.y/this.s.scale);this.s.tn&&a.scale(1/this.s.options.Nc.scale);return a};h.sm=function(a){this.s=a;this.SB=new h.g.T(a.scrollX,a.scrollY)};h.sm.prototype.H=function(){this.s=null};h.sm.prototype.gw=function(){h.selected&&Zb(h.selected);qa(this.s)};h.sm.prototype.gi=function(a){a=h.g.T.sum(this.SB,a);this.s.scroll(a.x,a.y)};h.So=function(a){h.So.v.constructor.call(this,a.s);this.Bc=a.Bc;this.Lf=a.Lf};h.g.object.U(h.So,h.sm);h.So.prototype.gi=function(a){a=h.g.T.sum(this.SB,a);this.Lf?this.Bc.set(-a.x):this.Bc.set(-a.y)};h.K={};h.K.visible=!1;h.K.Pk=!1;h.K.uD=50;h.K.YA=0;h.K.Wn=0;h.K.Wu=0;h.K.Xu=0;h.K.gb=null;h.K.Zq=null;h.K.Px=0;h.K.Qx=10;h.K.VD=10;h.K.hD=750;h.K.ss=5;h.K.ab=null;h.K.Ha=function(){h.K.ab||(h.K.ab=document.createElement("div"),h.K.ab.className="blocklyTooltipDiv",document.body.appendChild(h.K.ab))};h.K.Ok=function(a){h.pd(a,"mouseover",null,h.K.AH);h.pd(a,"mouseout",null,h.K.zH);a.addEventListener("mousemove",h.K.yH,!1)};
h.K.AH=function(a){if(!h.K.Pk){for(a=a.currentTarget;"string"!=typeof a.Vf&&"function"!=typeof a.Vf;)a=a.Vf;h.K.gb!=a&&(h.K.Aa(),h.K.Zq=null,h.K.gb=a);clearTimeout(h.K.YA)}};h.K.zH=function(){h.K.Pk||(h.K.YA=setTimeout(function(){h.K.gb=null;h.K.Zq=null;h.K.Aa()},1),clearTimeout(h.K.Wn))};
h.K.yH=function(a){if(h.K.gb&&h.K.gb.Vf&&!h.K.Pk)if(h.K.visible){var c=h.K.Wu-a.pageX;a=h.K.Xu-a.pageY;Math.sqrt(c*c+a*a)>h.K.VD&&h.K.Aa()}else h.K.Zq!=h.K.gb&&(clearTimeout(h.K.Wn),h.K.Wu=a.pageX,h.K.Xu=a.pageY,h.K.Wn=setTimeout(h.K.cI,h.K.hD))};h.K.Aa=function(){h.K.visible&&(h.K.visible=!1,h.K.ab&&(h.K.ab.style.display="none"));h.K.Wn&&clearTimeout(h.K.Wn)};h.K.block=function(){h.K.Aa();h.K.Pk=!0};h.K.vI=function(){h.K.Pk=!1};
h.K.cI=function(){if(!h.K.Pk&&(h.K.Zq=h.K.gb,h.K.ab)){h.K.ab.innerHTML="";for(var a=h.K.gb.Vf;"function"==typeof a;)a=a();a=h.g.eb.fC(a,h.K.uD);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.K.ab.appendChild(d)}a=h.K.gb.J;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.K.ab.style.direction=a?"rtl":"ltr";h.K.ab.style.display="block";h.K.visible=!0;var e=h.K.Wu;e=a?e-(h.K.Px+h.K.ab.offsetWidth):
e+h.K.Px;var f=h.K.Xu+h.K.Qx;f+h.K.ab.offsetHeight>d+window.scrollY&&(f-=h.K.ab.offsetHeight+2*h.K.Qx);a?e=Math.max(h.K.ss-window.scrollX,e):e+h.K.ab.offsetWidth>c+window.scrollX-2*h.K.ss&&(e=c-h.K.ab.offsetWidth-2*h.K.ss);h.K.ab.style.top=f+"px";h.K.ab.style.left=e+"px"}};h.wk=function(a,c){this.XA=null;this.Ed=new h.g.T(0,0);this.qc=this.rc=this.Gl=this.Hl=this.Be=null;this.Ht=c;this.pn=this.Kj=this.qn=this.Aj=!1;this.ff=a;this.ba=this.lk=this.mg=this.Zh=this.Uq=this.Tq=null;this.oq=this.Bj=this.Ry=!1;this.sA=!h.UC};b=h.wk.prototype;b.H=function(){h.Touch.$h();h.K.vI();this.Ht.Hc=null;this.Tq&&h.Ra(this.Tq);this.Uq&&h.Ra(this.Uq);this.mg&&this.mg.H();this.lk&&this.lk.H();this.Zh&&this.Zh.H()};
function $b(a,c){a.Ed=h.g.T.Nm(new h.g.T(c.clientX,c.clientY),a.XA);if(a.Aj)var d=!1;else a.Aj=h.g.T.YG(a.Ed)>(a.ba?h.ZC:h.TC),d=a.Aj;if(d){if(a.Ry)throw Error("updateIsDragging_ should only be called once per gesture.");a.Ry=!0;if(a.Be){a.pn=!0;a.Zh=new h.Fo(a.Be,a.qc);d=a.Zh;h.i.fc()||h.i.ca(!0);d.s.Rc(!1);d.yc.mt=!1;d.uj&&(d.yc.moveTo(0,0),d.uj.fk(d.Kg.x,d.Kg.y),ac(d.uj,d.yc.Oa()));d.yc.Ki&&d.yc.Ki(!0);var e=d.s.ra;e&&h.g.o.Xa(e.Dc,d.yc.we()?"blocklyToolboxDelete":"blocklyToolboxGrab");Xb(a.Zh,
a.ff,a.Ed);d=!0}else d=!1;if(!d){if(a.rc)if(a.ba?(a.rc&&a.rc.isEnabled()?((d=!bc(a.ba))||(d=a.Ed,d=Math.atan2(d.y,d.x)/Math.PI*180,e=a.ba.EF,d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1),d?(a.qc=a.ba.Lb,cc(a.qc),h.i.fc()||h.i.ca(!0),a.Gl=null,a.rc=ab(a.ba,a.rc),a.rc.select(),d=!0):d=!1):d=!1,a.Kj=d):a.rc.Lc()&&(a.Kj=!0),a.Kj){a.mg=new h.Ui(a.rc,a.qc);d=a.mg;e=a.Ed;var f=a.sA;h.i.fc()||h.i.ca(!0);var g=new h.i.lc(d.vb,"dragStart",null,p(d.vb,!1));h.i.Ea(g);d.s.tn&&fb(d.vb);h.g.o.ao();d.s.Rc(!1);h.ob.Xt();
if(d.vb.getParent()||f&&d.vb.V&&d.vb.V.ga())w(d.vb,f),e=d.ul(e),e=h.g.T.sum(d.Kg,e),d.vb.translate(e.x,e.y),h.ob.yF(d.vb);d.vb.Ki(!0);e=d.vb;e.so&&(f=e.Va(),e.Oa().removeAttribute("transform"),e.w.pe.fk(f.x,f.y),(f=e.Oa())&&ac(e.w.pe,f));(e=d.s.ra)&&h.g.o.Xa(e.Dc,d.vb.we()?"blocklyToolboxDelete":"blocklyToolboxGrab");Rb(a.mg,a.ff,a.Ed);d=!0}else d=!1;else d=!1;if(d=!d)if(a.ba)d=bc(a.ba);else if(d=a.qc)d=a.qc,d=d.options.Mc&&d.options.Mc.gi;d&&(a.lk=a.ba?new h.So(a.ba):new h.sm(a.qc),a.qn=!0,a.lk.gw())}h.ui()}a.ff=
c}b.Zt=function(a){h.g.yq(a)?this.cancel():(this.Bj=!0,h.ob.Xt(),cc(this.qc),this.qc.tn&&this.qc.resize(),h.zc(!!this.ba),oa(this.qc),this.ff=a,h.K.block(),this.rc&&(!this.rc.Yb&&a.shiftKey&&this.rc.w.xe?E(this.Ht.Xb(),h.navigation.zu(this.rc)):this.rc.select()),h.g.Mj(a)?ba(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.WG(a,this),this.XA=new h.g.T(a.clientX,a.clientY),this.sA=a.altKey||a.ctrlKey||a.metaKey,this.Ok(a)))};
b.Ok=function(a){this.Tq=h.na(document,"mousemove",null,this.al.bind(this));this.Uq=h.na(document,"mouseup",null,this.cq.bind(this));a.preventDefault();a.stopPropagation()};b.al=function(a){$b(this,a);this.qn?this.lk.gi(this.Ed):this.Kj?Rb(this.mg,this.ff,this.Ed):this.pn&&Xb(this.Zh,this.ff,this.Ed);a.preventDefault();a.stopPropagation()};
b.cq=function(a){$b(this,a);h.ui();if(this.oq)console.log("Trying to end a gesture recursively.");else{this.oq=!0;if(this.pn)Yb(this.Zh,a,this.Ed);else if(this.Kj)Ub(this.mg,a,this.Ed);else if(this.qn){var c=this.lk;c.gi(this.Ed);ra(c.s)}else if(this.Be&&!this.Aj)this.Be.YH&&this.Be.YH(),this.Be.select&&this.Be.select();else if(dc(this)){c=this.Hl;var d=this.ff;Za(c)&&c.Ih(d);ec(this)}else!this.Gl||this.Aj||dc(this)?this.Gl||this.Be||this.Hl||this.Aj||(c=this.Ht,a.shiftKey&&c.xe?(d=h.g.UH(c,new h.g.T(a.clientX,
a.clientY)),d=h.B.Tk(c,d),E(c.Xb(),d)):h.selected&&Zb(h.selected)):(this.ba&&this.ba.Nk?this.rc.isEnabled()&&(h.i.fc()||h.i.ca(!0),Wb(ab(this.ba,this.rc))):h.i.Ea(new h.i.lc(this.Gl,"click",void 0,void 0)),ec(this),h.i.ca(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){if(!this.oq){h.ui();if(this.pn)Yb(this.Zh,this.ff,this.Ed);else if(this.Kj)Ub(this.mg,this.ff,this.Ed);else if(this.qn){var a=this.lk;a.gi(this.Ed);ra(a.s)}this.H()}};
function ba(a,c){a.rc?(ec(a),h.zc(!!a.ba),a.rc.Vn(c)):a.Be?a.Be.Vn(c):a.qc&&!a.ba&&(h.zc(),a.qc.Vn(c));c.preventDefault();c.stopPropagation();a.H()}function fc(a,c,d){if(a.Bj)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.qc||(a.qc=d);a.ff=c;a.Zt(c);a.qc.xe&&h.navigation.Fb(h.navigation.nm)}function gc(a,c,d){if(a.Bj)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.ba||(a.ba=d);fc(a,c,d.s)}
function ec(a){a.rc&&!a.ba&&fb(a.rc)}function hc(a,c){a.Gl||a.Be||(a.Gl=c,c.Yb&&c!=c.Gd()?ic(a,c.Gd()):ic(a,c))}function ic(a,c){c.Ma?ic(a,c.getParent()):a.rc=c}function dc(a){return(a.Hl?Za(a.Hl):!1)&&!a.Aj&&(!a.ba||!a.ba.Nk)}b.nc=function(){return this.qn||this.Kj||this.pn};b.Zk=function(){return this.mg?this.mg.Zk():[]};h.wk.Iu=function(){for(var a=h.Bb.getAll(),c=0,d;d=a[c];c++)if(d.Hc)return!0;return!1};h.ke=function(a,c,d){this.YB=this.hk=this.uc=null;this.Gb=new h.g.gg(0,0);this.u=this.fv=this.Oi=this.Mb=this.dc=this.ue=this.ef=this.se=null;d&&this.Pe(d);this.setValue(a);c&&(this.hk=c)};b=h.ke.prototype;b.name=void 0;b.vg=!1;b.VA=50;b.I=null;b.vh=!0;b.Si=!0;b.Bt=null;h.ke.Ox="\u00a0";b=h.ke.prototype;b.Oo=!0;b.Hk=!1;b.Pe=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.fe(a.tooltip));c&&this.Wa(c)};
b.Yv=function(a){if(this.I)throw Error("Field already bound to a block.");this.I=a;a.w.ma&&(this.u=a.w.xb.u)};b.P=function(){return this.I};b.S=function(){this.ue||(this.ue=h.g.o.G("g",{},null),this.isVisible()||(this.ue.style.display="none"),this.I.Oa().appendChild(this.ue),this.dl(),this.Lh(),this.Wa(this.YB),h.K.Ok(jc(this)),this.fv=h.na(jc(this),"mousedown",this,this.Ai),this.Fj())};b.dl=function(){kc(this);lc(this)};b.Fj=function(){};
function kc(a){a.Gb.height=Math.max(a.Gb.height,a.u.ds);a.Gb.width=Math.max(a.Gb.width,2*a.u.nf);a.dc=h.g.o.G("rect",{rx:a.u.fs,ry:a.u.fs,x:0,y:0,height:a.Gb.height,width:a.Gb.width,"class":"blocklyFieldRect"},a.ue)}
function lc(a){var c=a.dc?a.u.nf:0,d=a.u.ox,e=a.u.hs;a.Gb.height=Math.max(a.Gb.height,d?a.u.Wl:e);a.Gb.height>a.u.Wl&&(e+=(a.Gb.height-e)/2);a.Mb=h.g.o.G("text",{"class":"blocklyText",y:d?a.Gb.height/2:e,dy:a.u.js,x:c},a.ue);d&&a.Mb.setAttribute("dominant-baseline","central");a.Oi=document.createTextNode("");a.Mb.appendChild(a.Oi)}b.Vm=function(a){this.setValue(a.textContent)};b.WB=function(a){a.textContent=this.getValue();return a};
b.H=function(){h.D.kn(this);h.$.kn(this);this.fv&&h.Ra(this.fv);h.g.o.removeNode(this.ue);this.vg=!0};b.Lh=function(){var a=this.ue;this.Oo&&a&&(this.I.wh()?(h.g.o.Xa(a,"blocklyEditableText"),h.g.o.Eb(a,"blocklyNonEditableText"),a.style.cursor=this.Sr):(h.g.o.Xa(a,"blocklyNonEditableText"),h.g.o.Eb(a,"blocklyEditableText"),a.style.cursor=""))};function Za(a){return!!a.I&&a.I.wh()&&!!a.Ih&&"function"===typeof a.Ih}b.isVisible=function(){return this.Si};
b.Zb=function(a){if(this.Si!=a){this.Si=a;var c=this.Oa();c&&(c.style.display=a?"block":"none")}};function mc(a,c){a.hk=c}b.jA=function(){return this.hk};b.Oa=function(){return this.ue};b.bc=function(){};b.Ii=function(){if(this.Oi){this.Oi.nodeValue=nc(this);var a=h.g.o.su(this.Mb,this.u.Zi,this.u.Oh,this.u.Vg);this.dc&&(a+=2*this.u.nf,this.dc.setAttribute("width",a));this.Gb.width=a}};
b.nh=function(){if(!this.isVisible())return new h.g.gg(0,0);this.vh?(this.Ii(),this.vh=!1):this.Si&&0==this.Gb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Ii());return this.Gb};
function oc(a){if(a.dc)c=a.dc.getBoundingClientRect(),a=h.g.style.zj(a.dc),e=c.width,c=c.height;else{var c=G(a.I),d=a.I.w.scale;a=h.g.style.zj(jc(a));var e=c.width*d;c=c.height*d;h.g.userAgent.qx?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.Yi||h.g.userAgent.rf||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}return{top:a.y,bottom:a.y+c,left:a.x,right:a.x+e}}
function nc(a){var c=a.hc();if(!c)return h.ke.Ox;c.length>a.VA&&(c=c.substring(0,a.VA-2)+"\u2026");c=c.replace(/\s/g,h.ke.Ox);a.I&&a.I.J&&(c+="\u200f");return c}b.hc=function(){if(this.yu){var a=this.yu.call(this);if(null!==a)return String(a)}return String(this.getValue())};b.El=function(){throw Error("setText method is deprecated");};b.yn=function(){this.vh=!0};function pc(a){a.vh=!0;a.I&&a.I.ma&&(a.I.Ba(),a.I.Ib())}
b.setValue=function(a){if(null!==a){var c=this.sj(a);a=qc(this,a,c);if(!(a instanceof Error)){if(c=this.jA())if(c=c.call(this,a),a=qc(this,a,c),a instanceof Error)return;c=this.getValue();c!==a&&(this.I&&h.i.isEnabled()&&h.i.Ea(new h.i.Qg(this.I,"field",this.name||null,c,a)),this.di(a),this.vh&&pc(this))}}};function qc(a,c,d){if(null===d)return a.Ez(),a.vh&&pc(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.uc};b.sj=function(a){return null===a||void 0===a?null:a};
b.di=function(a){this.uc=a;this.vh=!0};b.Ez=function(){};b.Ai=function(a){if(this.I&&this.I.w&&(a=this.I.w.mh(a))){if(a.Bj)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Hl||(a.Hl=this)}};b.Wa=function(a){var c=jc(this);c?c.Vf=a||""===a?a:this.I:this.YB=a};function jc(a){return a.Bt||a.Oa()}b.Pn=function(){return!1};b.If=function(){for(var a=null,c=this.I,d=c.N,e=0;e<c.N.length;e++)for(var f=d[e],g=f.Ua,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};
b.JA=function(){return!1};b.Kd=function(){return!1};b.Fh=function(a){a?(this.ue.appendChild(a),this.se=a):this.se=null};b.Gh=function(a){a?(this.ue.appendChild(a),this.ef=a):this.ef=null};h.ld=function(a,c,d){this.zp=null;null==a&&(a="");h.ld.v.constructor.call(this,a,null,d);d||(this.zp=c||null)};h.g.object.U(h.ld,h.ke);h.ld.ya=function(a){var c=h.g.fe(a.text);return new h.ld(c,void 0,a)};h.ld.prototype.Oo=!1;h.ld.prototype.Pe=function(a){h.ld.v.Pe.call(this,a);this.zp=a["class"]};h.ld.prototype.dl=function(){lc(this);this.zp&&h.g.o.Xa(this.Mb,this.zp)};h.ld.prototype.sj=function(a){return null===a||void 0===a?null:String(a)};h.rd.register("field_label",h.ld);h.Bx=function(a,c,d,e){if(a!=h.mf&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.I=d;this.connection=e;this.Ua=[]};b=h.Bx.prototype;b.align=h.wo;b.Si=!0;b.P=function(){return this.I};function I(a,c,d){rc(a,a.Ua.length,c,d);return a}
function rc(a,c,d,e){if(0>c||c>a.Ua.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=new h.ld(d));d.Yv(a.I);a.I.ma&&d.S();d.name=e;d.Gv&&(c=rc(a,c,d.Gv));a.Ua.splice(c,0,d);++c;d.jw&&(c=rc(a,c,d.jw));a.I.ma&&(a.I.Ba(),a.I.Ib());return c}b.isVisible=function(){return this.Si};
b.Zb=function(a){var c=[];if(this.Si==a)return c;for(var d=(this.Si=a)?"block":"none",e=0,f;f=this.Ua[e];e++)f.Zb(a);if(this.connection){if(a)c=sc(this.connection);else if(e=this.connection,tc(e,!1),e.ea)for(e=p(e.ga(),!1),f=0;f<e.length;f++){for(var g=e[f],k=g.Hf(!0),l=0;l<k.length;l++)tc(k[l],!1);g=Qb(g);for(l=0;l<g.length;l++)g[l].Zb(!1)}if(e=this.connection.ga())e.Oa().style.display=d,a||(e.ma=!1)}return c};b.yn=function(){for(var a=0,c;c=this.Ua[a];a++)c.yn()};
b.lb=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.lb(a);return this};function uc(a,c){a.align=c;a.I.ma&&a.I.Ba();return a}b.S=function(){if(this.I.w.ma)for(var a=0;a<this.Ua.length;a++)this.Ua[a].S()};b.H=function(){for(var a=0,c;c=this.Ua[a];a++)c.H();this.connection&&this.connection.H();this.I=null};h.Do=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Fd(d)?d:h.g.kh();a.ot[this.id]=this;this.Z=this.V=this.F=null;this.N=[];this.uh=void 0;this.disabled=!1;this.Vf="";this.contextMenu=!0;this.Bg=null;this.dh=[];this.Jz=this.ZA=this.Kt=!0;this.og=this.Ma=!1;this.Dm=this.pB=null;this.Oe={text:null,Fv:!1,size:new h.g.gg(160,80)};this.iC=new h.g.T(0,0);this.w=a;this.Yb=a.Mf;
this.J=a.J;this.sn=!1;this.af=void 0;if(c){this.type=c;d=h.M[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.zg(this,d)}a.Nl.push(this);a.Wf[this.type]||(a.Wf[this.type]=[]);a.Wf[this.type].push(this);"function"==typeof this.S&&this.S();this.LG=this.uh;if(h.i.isEnabled()){(a=h.i.fc())||h.i.ca(!0);try{h.i.Ea(new h.i.Eo(this))}finally{a||h.i.ca(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");
this.In&&Ha(this.w,this.In);if(this.onchange=a)this.In=a.bind(this),D(this.w,this.In)}};b=h.Do.prototype;b.data=null;b.vg=!1;b.Ne="#000000";b.dk=null;
b.H=function(a){if(this.w){this.In&&Ha(this.w,this.In);w(this,a);h.i.isEnabled()&&h.i.Ea(new h.i.BC(this));h.i.disable();try{if(this.w){Ca(this.w,this);var c=this.w;c.Wf[this.type].splice(c.Wf[this.type].indexOf(this),1);c.Wf[this.type].length||delete c.Wf[this.type];delete this.w.ot[this.id];this.w=null}h.selected==this&&(h.selected=null);for(var d=this.dh.length-1;0<=d;d--)this.dh[d].H(!1);d=0;for(var e;e=this.N[d];d++)e.H();this.N.length=0;var f=this.Hf(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.i.enable(),
this.vg=!0}}};b.Fj=function(){for(var a=0,c;c=this.N[a];a++)for(var d=0,e;e=c.Ua[d];d++)e.Fj&&e.Fj()};
function w(a,c){if(a.F){var d=null;a.F.isConnected()&&(d=a.F.ea,a.F.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.N.length;e++){var f=a.N[e].connection;if(f&&f.type==h.Ta&&f.ea){if(c){a=null;break a}c=f}}a=c}a&&a.isConnected()&&!a.ga().Ma&&(a=a.ea,a.disconnect(),Kb(a,d)?d.connect(a):a.Oq(d))}}else a.Z&&(d=null,a.Z.isConnected()&&(d=a.Z.ea,a.Z.disconnect()),e=t(a),c&&e&&!e.Ma&&(a=a.V.ea,a.disconnect(),d&&Kb(d,a)&&d.connect(a)))}
b.Hf=function(){var a=[];this.F&&a.push(this.F);this.Z&&a.push(this.Z);this.V&&a.push(this.V);for(var c=0,d;d=this.N[c];c++)d.connection&&a.push(d.connection);return a};b.Tu=function(){for(var a=this.V;a;){var c=a.ga();if(!c)return a;a=c.V}return null};b.Ib=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};b.getParent=function(){return this.Bg};
function vc(a){do{var c=a;a=a.getParent();if(!a)return null}while(t(a)==c);return a}function t(a){return a.V&&a.V.ga()}b.Gd=function(){var a=this;do{var c=a;a=c.Bg}while(a);return c};b.lh=function(a){if(!a)return this.dh;a=[];for(var c=0,d;d=this.N[c];c++)d.connection&&(d=d.connection.ga())&&a.push(d);(c=t(this))&&a.push(c);return a};
b.Dl=function(a){if(a!=this.Bg){if(this.Bg){h.g.gt(this.Bg.dh,this);if(this.Z&&this.Z.isConnected())throw Error("Still connected to previous block.");if(this.F&&this.F.isConnected())throw Error("Still connected to parent block.");this.Bg=null}else Ca(this.w,this);(this.Bg=a)?a.dh.push(this):this.w.Nl.push(this)}};function p(a,c){var d=[a];a=a.lh(c);for(var e,f=0;e=a[f];f++)d.push.apply(d,p(e,c));return d}b.we=function(){return this.Kt&&!this.Ma&&!(this.w&&this.w.options.readOnly)};
b.Lc=function(){return this.ZA&&!this.Ma&&!(this.w&&this.w.options.readOnly)};b.mr=function(a){this.ZA=a};b.Xv=function(a){this.Ma=a};b.xh=function(){return this.sn};b.IB=function(a){this.sn=a};b.wh=function(){return this.Jz&&!(this.w&&this.w.options.readOnly)};b.Uv=function(a){this.Jz=a;a=0;for(var c;c=this.N[a];a++)for(var d=0,e;e=c.Ua[d];d++)e.Lh()};
b.uu=function(a,c){var d=this.Hf(!0);a=a.Hf(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Wa=function(a){this.Vf=a};b.pu=function(){return this.Ne};b.dd=function(a){this.Ne=h.g.Wq(a).jn};b.Rb=function(a){this.dk=a};function v(a,c){for(var d=0,e;e=a.N[d];d++)for(var f=0,g;g=e.Ua[f];f++)if(g.name==c)return g;return null}
b.bq=function(){for(var a=[],c=0,d;d=this.N[c];c++)for(var e=0,f;f=d.Ua[e];e++)f.Pn()&&a.push(f.getValue());return a};b.oh=function(){for(var a=[],c=0,d;d=this.N[c];c++)for(var e=0,f;f=d.Ua[e];e++)f.Pn()&&(f=this.w.Jf(f.getValue()))&&a.push(f);return a};b.Br=function(a){for(var c=0,d;d=this.N[c];c++)for(var e=0,f;f=d.Ua[e];e++)f.Pn()&&a.wa()==f.getValue()&&pc(f)};b.er=function(a,c){for(var d=0,e;e=this.N[d];d++)for(var f=0,g;g=e.Ua[f];f++)g.Pn()&&a==g.getValue()&&g.setValue(c)};
function C(a,c){return(a=v(a,c))?a.getValue():null}function wc(a,c,d){a=v(a,d);if(!a)throw Error('Field "'+d+'" not found.');a.setValue(c)}b.Ae=function(a,c){if(a){void 0===c&&(c=null);if(!this.Z){if(this.F)throw Error("Remove output connection prior to adding previous connection.");this.Z=this.xn(h.Ge)}this.Z.lb(c)}else if(this.Z){if(this.Z.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.Z.H();this.Z=null}};
b.ze=function(a,c){if(a)void 0===c&&(c=null),this.V||(this.V=this.xn(h.bb)),this.V.lb(c);else if(this.V){if(this.V.isConnected())throw Error("Must disconnect next statement before removing connection.");this.V.H();this.V=null}};
b.Md=function(a,c){if(a){void 0===c&&(c=null);if(!this.F){if(this.Z)throw Error("Remove previous connection prior to adding output connection.");this.F=this.xn(h.me)}this.F.lb(c)}else if(this.F){if(this.F.isConnected())throw Error("Must disconnect output value before removing connection.");this.F.H();this.F=null}};b.Qc=function(a){this.uh!=a&&(h.i.Ea(new h.i.Qg(this,"inline",null,this.uh,a)),this.uh=a)};
function Lb(a){if(void 0!=a.uh)return a.uh;for(var c=1;c<a.N.length;c++)if(a.N[c-1].type==h.mf&&a.N[c].type==h.mf)return!1;for(c=1;c<a.N.length;c++)if(a.N[c-1].type==h.Ta&&a.N[c].type==h.mf)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.wd=function(a){this.isEnabled()!=a&&(h.i.Ea(new h.i.Qg(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function xc(a){for(a=vc(a);a;){if(a.disabled)return!0;a=vc(a)}return!1}b.isCollapsed=function(){return this.og};
b.Eh=function(a){this.og!=a&&(h.i.Ea(new h.i.Qg(this,"collapsed",null,this.og,a)),this.og=a)};b.toString=function(a,c){var d=[],e=c||"?";if(this.og)d.push(y(this,"_TEMP_COLLAPSED_INPUT").Ua[0].hc());else for(var f=0,g;g=this.N[f];f++){for(var k=0,l;l=g.Ua[k];k++)d.push(l.hc());g.connection&&((g=g.connection.ga())?d.push(g.toString(void 0,c)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};function J(a,c){return a.vm(h.Ta,c)}
function yc(a,c){return a.vm(h.bb,c)}function K(a,c){return a.vm(h.mf,c||"")}
function L(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.af&&(a.af=c.style.af,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.Rb(e)}catch(H){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.dd(e)}catch(H){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){for(var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.oI(c["message"+e]),n=[],q=0,r=[],x=0;x<m.length;x++){var z=m[x];if("number"==typeof z){if(0>=z||z>g.length)throw Error('Block "'+f.type+'": Message index %'+z+" out of range.");if(n[z])throw Error('Block "'+f.type+'": Message index %'+z+" duplicated.");n[z]=!0;q++;r.push(g[z-1])}else(z=z.trim())&&r.push(z)}if(q!=g.length)throw Error('Block "'+f.type+'": Message does not reference all '+
g.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||h.g.eb.startsWith(r[r.length-1].type,"field_"))&&(x={type:"input_dummy"},k&&(x.align=k),r.push(x));k={LEFT:h.wo,RIGHT:h.nk,CENTRE:h.Ir,CENTER:h.Ir};g=[];for(x=0;x<r.length;x++)if(n=r[x],"string"==typeof n)g.push([n,void 0]);else{m=q=null;do if(z=!1,"string"==typeof n)q=new h.ld(n);else switch(n.type){case "input_value":m=J(f,n.name);break;case "input_statement":m=yc(f,n.name);break;case "input_dummy":m=K(f,n.name);break;default:q=h.rd.ya(n),
!q&&n.alt&&(n=n.alt,z=!0)}while(z);if(q)g.push([q,n.name]);else if(m){n.check&&m.lb(n.check);n.align&&(q=k[n.align.toUpperCase()],void 0===q?console.warn(l+"Illegal align value: ",n.align):uc(m,q));for(n=0;n<g.length;n++)I(m,g[n][0],g[n][1]);g.length=0}}e++}void 0!==c.inputsInline&&a.Qc(c.inputsInline);void 0!==c.output&&a.Md(!0,c.output);void 0!==c.outputShape&&(a.pB=c.outputShape);void 0!==c.previousStatement&&a.Ae(!0,c.previousStatement);void 0!==c.nextStatement&&a.ze(!0,c.nextStatement);void 0!==
c.tooltip&&(e=c.tooltip,e=h.g.fe(e),a.Wa(e));void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.fe(e),a.Db=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.aa.apply(c.mutator,a,!0);if(Array.isArray(c.extensions))for(c=c.extensions,d=0;d<c.length;++d)h.aa.apply(c[d],a,!1)}
b.zg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.zg(this,a)};b.vm=function(a,c){var d=null;if(a==h.Ta||a==h.bb)d=this.xn(a);a=new h.Bx(a,c,this,d);this.N.push(a);return a};
function zc(a,c,d){if(c!=d){for(var e=-1,f=d?-1:a.N.length,g=0,k;k=a.N[g];g++)if(k.name==c){if(e=g,-1!=f)break}else if(d&&k.name==d&&(f=g,-1!=e))break;if(-1==e)throw Error('Named input "'+c+'" not found.');if(-1==f)throw Error('Reference input "'+d+'" not found.');a.jv(e,f)}}
b.jv=function(a,c){if(a==c)throw Error("Can't move input to itself.");if(a>=this.N.length)throw RangeError("Input index "+a+" out of bounds.");if(c>this.N.length)throw RangeError("Reference input "+c+" out of bounds.");var d=this.N[a];this.N.splice(a,1);a<c&&c--;this.N.splice(c,0,d)};b.ib=function(a,c){for(var d=0,e;e=this.N[d];d++)if(e.name==a){e.H();this.N.splice(d,1);return}if(!c)throw Error("Input not found: "+a);};function y(a,c){for(var d=0,e;e=a.N[d];d++)if(e.name==c)return e;return null}
function Ac(a,c){return(a=y(a,c))&&a.connection&&a.connection.ga()}b.Gg=function(a){this.Oe.text!=a&&(h.i.Ea(new h.i.Qg(this,"comment",null,this.Oe.text,a)),this.Dm=this.Oe.text=a)};b.Hh=function(){};b.Li=function(){};b.Va=function(){return this.iC};b.moveBy=function(a,c){if(this.Bg)throw Error("Block has parent.");var d=new h.i.Sl(this);this.iC.translate(a,c);d.Xj();h.i.Ea(d)};b.xn=function(a){return new h.ta(this,a)};h.m={};h.m.Al={};h.m.qo=!1;h.m.register=function(a,c){if(h.m.Al[a])throw Error("Renderer has already been registered.");h.m.Al[a]=c};h.m.unregister=function(a){h.m.Al[a]?delete h.m.Al[a]:console.warn('No renderer mapping for name "'+a+'" found to unregister')};h.m.OL=function(){h.m.qo=!0};h.m.PL=function(){h.m.qo=!1};h.m.S=function(a){function c(d){c.v.constructor.call(this,d)}if(!h.m.Al[a])throw Error("Renderer not registered: ",a);h.g.object.U(c,h.m.Al[a]);a=new c(a);a.S();return a};h.dm=function(){this.Zd=this.Za=this.pb=null;this.type="marker"};function E(a,c){var d=a.Za;a.Za=c;a.Zd&&a.Zd.draw(d,a.Za)}h.dm.prototype.draw=function(){this.Zd&&this.Zd.draw(this.Za,this.Za)};h.dm.prototype.Aa=function(){this.Zd&&this.Zd.Aa()};h.dm.prototype.H=function(){this.Zd&&this.Zd.H()};h.rk=function(){h.rk.v.constructor.call(this);this.type="cursor"};h.g.object.U(h.rk,h.dm);b=h.rk.prototype;b.next=function(){var a=this.Za;if(!a)return null;for(a=a.next();a&&a.next()&&(a.hb()==h.B.types.le||a.hb()==h.B.types.Pd);)a=a.next();a&&E(this,a);return a};b.oi=function(){var a=this.Za;if(!a)return null;if(a.hb()==h.B.types.ne||a.hb()==h.B.types.Th)a=a.next();(a=a.oi())&&E(this,a);return a};
b.gf=function(){var a=this.Za;if(!a)return null;for(a=a.gf();a&&a.gf()&&(a.hb()==h.B.types.le||a.hb()==h.B.types.Pd);)a=a.gf();a&&E(this,a);return a};b.Ci=function(){var a=this.Za;if(!a)return null;(a=a.Ci())&&a.hb()==h.B.types.Pd&&(a=a.gf()||a);a&&E(this,a);return a};
b.Kd=function(a){if(this.Za&&this.Za.hb()===h.B.types.Qd&&this.Za.oa.Kd(a))return!0;switch(a.name){case h.navigation.Da.ne:return this.gf(),!0;case h.navigation.Da.hp:return this.Ci(),!0;case h.navigation.Da.le:return this.next(),!0;case h.navigation.Da.Uo:return this.oi(),!0;default:return!1}};h.Ro=function(){h.Ro.v.constructor.call(this)};h.g.object.U(h.Ro,h.rk);b=h.Ro.prototype;b.Kd=function(a){switch(a.name){case h.navigation.Da.ne:return this.gf(),!0;case h.navigation.Da.le:return this.next(),!0;default:return!1}};b.next=function(){var a=this.Za;if(!a)return null;(a=a.next())&&E(this,a);return a};b.oi=function(){return null};b.gf=function(){var a=this.Za;if(!a)return null;(a=a.gf())&&E(this,a);return a};b.Ci=function(){return null};h.m.FJ=function(){};h.aj=function(){h.Cc.call(this);this.xv=null;this.rh=-1;this.zh=this.Hq=this.Gq=this.Bp=this.Iq=null};h.g.object.U(h.aj,h.Cc);b=h.aj.prototype;b.Ha=function(){var a=document.createElement("div");a.id=this.wa();this.gb=a;a.className="goog-menu goog-menu-vertical blocklyNonSelectable";a.tabIndex=0;h.g.Y.Hg(a,this.Rv||h.g.Y.Yg.HD)};b.focus=function(){var a=this.ua();a&&(a.focus({preventScroll:!0}),h.g.o.Xa(a,"focused"))};b.blur=function(){var a=this.ua();a&&(a.blur(),h.g.o.Eb(a,"focused"))};
b.Hg=function(a){this.Rv=a};b.Gf=function(){h.aj.v.Gf.call(this);gb(this,function(a){if(a.$c){var c=a.ua();c=c.id||(c.id=a.wa());this.Rk||(this.Rk={});this.Rk[c]=a}},this);this.kt()};b.ii=function(){Bc(this,-1);h.aj.v.ii.call(this)};b.Om=function(){h.aj.v.Om.call(this);this.Nt()};
b.kt=function(){var a=this.ua();this.Iq=h.na(a,"mouseover",this,this.BG,!0);this.Bp=h.na(a,"click",this,this.tG,!0);this.Gq=h.na(a,"mouseenter",this,this.yG,!0);this.Hq=h.na(a,"mouseleave",this,this.AG,!0);this.zh=h.na(a,"keydown",this,this.Du)};b.Nt=function(){this.Iq&&(h.Ra(this.Iq),this.Iq=null);this.Bp&&(h.Ra(this.Bp),this.Bp=null);this.Gq&&(h.Ra(this.Gq),this.Gq=null);this.Hq&&(h.Ra(this.Hq),this.Hq=null);this.zh&&(h.Ra(this.zh),this.zh=null)};b.Rk=null;
function Cc(a,c){if(a.Rk)for(var d=a.ua();c&&c!==d;){var e=c.id;if(e in a.Rk)return a.Rk[e];c=c.parentNode}return null}function Dc(a){(a=a.kb[a.rh]||null)&&a.ck(!1)}function Bc(a,c){var d=a.kb[c]||null;d?(d.ck(!0),a.rh=c):-1<a.rh&&((a.kb[a.rh]||null).ck(!1),a.rh=-1);d&&h.g.style.Sv(d.ua(),a.ua())}b.ck=function(a){Bc(this,this.kb.indexOf(a))};function Ec(a){Dc(a);Fc(a,function(c,d){return(c+1)%d},a.rh)}function Gc(a){Dc(a);Fc(a,function(c,d){c--;return 0>c?d-1:c},a.rh)}
function Fc(a,c,d){var e=a.kb.length;d=c.call(a,0>d?-1:d,e);for(var f=0;f<=e;){var g=a.kb[d]||null;if(g&&g.isEnabled()){Bc(a,d);break}f++;d=c.call(a,d,e)}}b.BG=function(a){(a=Cc(this,a.target))&&a.isEnabled()&&(this.kb[this.rh]||null)!==a&&(Dc(this),this.ck(a))};b.tG=function(a){var c=this.xv;this.xv=null;if(!(c&&"number"===typeof a.clientX&&1>h.g.T.Yt(c,new h.g.T(a.clientX,a.clientY)))){c=Cc(this,a.target);var d;if(d=c)c.isEnabled()&&(c.ck(!0),Hc(c)),d=void 0;d&&a.preventDefault()}};b.yG=function(){this.focus()};
b.AG=function(){this.ua()&&(this.blur(),Dc(this),Bc(this,-1))};b.Du=function(a){return 0!=this.kb.length&&Ic(this,a)?(a.preventDefault(),a.stopPropagation(),!0):!1};function Ic(a,c){var d=a.kb[a.rh]||null;if(d&&"function"==typeof d.Du&&d.Du(c))return!0;if(c.shiftKey||c.ctrlKey||c.metaKey||c.altKey)return!1;switch(c.keyCode){case h.g.Ca.Xr:d&&Hc(d);break;case h.g.Ca.pp:Gc(a);break;case h.g.Ca.Mo:Ec(a);break;default:return!1}return!0};h.bp=function(a,c){h.Cc.call(this);this.rg=a;this.setValue(c);this.Op=!0};h.g.object.U(h.bp,h.Cc);b=h.bp.prototype;
b.Ha=function(){var a=document.createElement("div");a.id=this.wa();this.gb=a;a.className="goog-menuitem goog-option "+(this.Op?"":"goog-menuitem-disabled ")+(this.zt?"goog-option-selected ":"")+(this.kl()?"goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="goog-menuitem-content";a.appendChild(c);if(this.Bm){var d=document.createElement("div");d.className="goog-menuitem-checkbox"}else d=null;d&&c.appendChild(d);c.appendChild(Jc(this));h.g.Y.Hg(a,this.Rv||(this.Bm?h.g.Y.Yg.KD:
h.g.Y.Yg.JD));h.g.Y.Fb(a,h.g.Y.State.lm,this.Bm&&this.zt||!1)};function Jc(a){a=a.rg;"string"===typeof a&&(a=document.createTextNode(a));return a}b.setValue=function(a){this.uc=a};b.getValue=function(){return this.uc};b.Hg=function(a){this.Rv=a};function Kc(a,c){if(a.Bm){a.zt=c;var d=a.ua();d&&a.isEnabled()&&(c?(h.g.o.Xa(d,"goog-option-selected"),h.g.Y.Fb(d,h.g.Y.State.lm,!0)):(h.g.o.Eb(d,"goog-option-selected"),h.g.Y.Fb(d,h.g.Y.State.lm,!1)))}}
b.ck=function(a){var c=this.ua();c&&this.isEnabled()&&(a?h.g.o.Xa(c,"goog-menuitem-highlight"):h.g.o.Eb(c,"goog-menuitem-highlight"))};b.isEnabled=function(){return this.Op};b.wd=function(a){this.Op=a;(a=this.ua())&&(this.Op?h.g.o.Eb(a,"goog-menuitem-disabled"):h.g.o.Xa(a,"goog-menuitem-disabled"))};function Hc(a){a.Bm&&Kc(a,!a.zt);a.Iy&&a.Iy.call(a.uE,a)}function Lc(a,c,d){a.Iy=c;a.uE=d};h.g.zr={};h.g.zr.nh=function(a){a=a.ua();var c=h.g.style.nh(a);c.height=a.scrollHeight;return c};h.g.zr.vE=function(a,c,d){c.left+=d.width;c.right+=d.width;a.left+=d.width;a.right+=d.width};h.za={};h.za.Hp=null;h.za.du=null;h.za.show=function(a,c,d){h.$.show(h.za,d,null);if(c.length){var e=h.za.LH(c,d);h.za.ud(e,a,d);setTimeout(function(){e.ua().focus()},1);h.za.Hp=null}else h.za.Aa()};h.za.LH=function(a,c){var d=new h.aj;hb(d,c);for(var e=0,f;f=a[e];e++){var g=new h.bp(f.text);hb(g,c);d.um(g,d.kb.length,!0);g.wd(f.enabled);f.enabled&&Lc(g,function(){h.za.Aa();this.zb()},f)}return d};
h.za.ud=function(a,c,d){var e=h.g.oG();c={top:c.clientY+e.top,bottom:c.clientY+e.top,left:c.clientX+e.left,right:c.clientX+e.left};h.za.hF(a);var f=h.g.zr.nh(a);d&&h.g.zr.vE(e,c,f);h.$.MH(e,c,f,d);a.ua().focus()};h.za.hF=function(a){a.Ba(h.$.ab);var c=a.ua();h.g.o.Xa(c,"blocklyContextMenu");h.na(c,"contextmenu",null,h.g.nH);a.focus()};h.za.Aa=function(){h.$.kn(h.za);h.za.Hp=null;h.za.du&&(h.Ra(h.za.du),h.za.du=null)};
h.za.zm=function(a,c){return function(){h.i.disable();try{var d=h.R.tj(c,a.w),e=a.Va();e.x=a.J?e.x-h.Cd:e.x+h.Cd;e.y+=2*h.Cd;d.moveBy(e.x,e.y)}finally{h.i.enable()}h.i.isEnabled()&&!d.Ma&&h.i.Ea(new h.i.Eo(d));d.select()}};h.za.DE=function(a){var c=p(a,!1).length,d=t(a);d&&(c-=p(d,!1).length);return{text:1==c?h.h.DELETE_BLOCK:h.h.DELETE_X_BLOCKS.replace("%1",String(c)),enabled:!0,zb:function(){h.i.ca(!0);a.H(!0,!0);h.i.ca(!1)}}};
h.za.FE=function(a){return{enabled:!("function"==typeof a.Db?!a.Db():!a.Db),text:h.h.HELP,zb:function(){a.showHelp()}}};h.za.EE=function(a){var c=Fa(a.w)?Ea(a.w,h.g.nu(a,!0)):!0;return{text:h.h.DUPLICATE_BLOCK,enabled:c,zb:function(){h.duplicate(a)}}};h.za.CE=function(a){var c={enabled:!h.g.userAgent.rf};a.Bf?(c.text=h.h.REMOVE_COMMENT,c.zb=function(){a.Gg(null)}):(c.text=h.h.ADD_COMMENT,c.zb=function(){a.Gg("")});return c};
h.za.lL=function(a){return{text:h.h.REMOVE_COMMENT,enabled:!0,zb:function(){h.i.ca(!0);a.H(!0,!0);h.i.ca(!1)}}};h.za.mL=function(a){return{text:h.h.DUPLICATE_COMMENT,enabled:!0,zb:function(){h.duplicate(a)}}};
h.za.SL=function(a,c){if(!h.Mk)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.rf};d.text=h.h.ADD_COMMENT;d.zb=function(){var e=new h.Mk(a,h.h.WORKSPACE_COMMENT_DEFAULT_TEXT,h.Mk.RC,h.Mk.RC),f=aa(a).getBoundingClientRect();f=new h.g.T(c.clientX-f.left,c.clientY-f.top);var g=h.g.$m(a.jb);f=h.g.T.Nm(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ma&&(e.bf(),e.Ba(),e.select())};return d};h.Ub=function(a,c){h.Ub.v.constructor.call(this,a,c);this.ug=a.w.Ep[c];this.mz=a.w.Ep[h.Ek[c]];this.zi=new h.g.T(0,0);this.Kh=h.Ub.jg.By};h.g.object.U(h.Ub,h.ta);h.Ub.jg={By:-1,ty:0,Lk:1};b=h.Ub.prototype;b.H=function(){h.Ub.v.H.call(this);this.Kh==h.Ub.jg.Lk&&Mc(this.ug,this,this.y)};b.P=function(){return h.Ub.v.P.call(this)};b.ga=function(){return h.Ub.v.ga.call(this)};function Nc(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function eb(a,c){if(!a.I.w.nc()){var d=a.I.Gd();if(!d.Yb){var e=!1;if(!d.Lc()){d=c.P().Gd();if(!d.Lc())return;c=a;e=!0}var f=h.selected==d;f||d.rp();var g=c.x+h.Cd+Math.floor(Math.random()*h.Nr)-a.x,k=c.y+h.Cd+Math.floor(Math.random()*h.Nr)-a.y;e&&(k=-k);d.J&&(g=c.x-h.Cd-Math.floor(Math.random()*h.Nr)-a.x);d.moveBy(g,k);f||d.Qn()}}}
b.moveTo=function(a,c){if(this.Kh==h.Ub.jg.By){var d=this.ug;d.Wb.splice(Oc(d,c),0,this);this.Kh=h.Ub.jg.Lk}else this.Kh==h.Ub.jg.Lk&&(Mc(this.ug,this,this.y),d=this.ug,d.Wb.splice(Oc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Pc(a,c){a.moveTo(c.x+a.zi.x,c.y+a.zi.y)}function Qc(a,c,d){a.zi.x=c;a.zi.y=d}
function Rc(a){var c=a.ea.x-a.x,d=a.ea.y-a.y;if(0!=c||0!=d){a=a.ga();var e=a.Oa();if(!e)throw Error("block is not rendered.");e=h.g.Xe(e);a.Oa().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Vb(a,-c,-d)}}
b.closest=function(a,c){var d=this.mz;if(d.Wb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=Oc(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.Wb[m].y-this.y)<=a;)l=d.Wb[m],this.mq(l,k)&&(c=l,k=Nc(l,this)),m--;for(;g<d.Wb.length&&Math.abs(d.Wb[g].y-this.y)<=a;)l=d.Wb[g],this.mq(l,k)&&(c=l,k=Nc(l,this)),g++;this.x=f;this.y=e;a={connection:c,$q:k}}else a={connection:null,$q:a};return a};
function tc(a,c){c&&a.Kh==h.Ub.jg.Lk||!c&&a.Kh==h.Ub.jg.ty||a.I.Yb||(c?(c=a.ug,c.Wb.splice(Oc(c,a.y),0,a),a.Kh=h.Ub.jg.Lk):(a.Kh==h.Ub.jg.Lk&&Mc(a.ug,a,a.y),a.Kh=h.Ub.jg.ty))}function sc(a){tc(a,!0);var c=[];if(a.type!=h.Ta&&a.type!=h.bb)return c;if(a=a.ga()){if(a.isCollapsed()){var d=[];a.F&&d.push(a.F);a.V&&d.push(a.V);a.Z&&d.push(a.Z)}else d=a.Hf(!0);for(var e=0;e<d.length;e++)c.push.apply(c,sc(d[e]));c.length||(c[0]=a)}return c}b.mq=function(a,c){return Nc(this,a)>c?!1:h.Ub.v.mq.call(this,a)};
b.Oq=function(a){eb(this,a)};b.Vt=function(a,c){h.Ub.v.Vt.call(this,a,c);a.ma&&a.Ba();c.ma&&(ya(c),c.Ba())};b.Pv=function(){var a=this.P(),c=this.Qf;if(a.w&&c&&h.i.Pc){h.Ub.v.Pv.call(this);c=this.ga();if(!c)throw Error("Couldn't respawn the shadow block that should exist here.");c.bf();c.Ba(!1);a.ma&&a.Ba()}};b.$A=function(a){return Sc(this.mz,this,a)};b.Cf=function(a){h.Ub.v.Cf.call(this,a);var c=this.P();a=a.P();c.ma&&ya(c);a.ma&&ya(a);c.ma&&a.ma&&(this.type==h.bb||this.type==h.Ge?a.Ba():c.Ba())};
b.gB=function(){!this.isConnected()||this.ea&&Kb(this,this.ea)||(w(F(this)?this.ga():this.I),this.I.Ib())};h.Co=function(){h.Co.v.constructor.call(this)};h.g.object.U(h.Co,h.rk);b=h.Co.prototype;b.next=function(){var a=this.Za;if(!a)return null;(a=Tc(this,a,this.uw))&&E(this,a);return a};b.oi=function(){return this.next()};b.gf=function(){var a=this.Za;if(!a)return null;(a=Uc(this,a,this.uw))&&E(this,a);return a};b.Ci=function(){return this.gf()};function Tc(a,c,d){if(!c)return null;var e=c.oi()||c.next();if(d(e))return e;if(e)return Tc(a,e,d);c=Vc(a,c.Ci());return d(c)?c:c?Tc(a,c,d):null}
function Uc(a,c,d){if(!c)return null;var e=c.gf();e=e?Wc(a,e):c.Ci();return d(e)?e:e?Uc(a,e,d):null}b.uw=function(a){var c=!1;a=a&&a.hb();if(a==h.B.types.Th||a==h.B.types.cg||a==h.B.types.Qd||a==h.B.types.le||a==h.B.types.ne||a==h.B.types.lg)c=!0;return c};function Vc(a,c){if(!c)return null;var d=c.next();return d?d:Vc(a,c.Ci())}function Wc(a,c){if(!c.oi())return c;for(c=c.oi();c.next();)c=c.next();return Wc(a,c)};h.op=function(){h.op.v.constructor.call(this)};h.g.object.U(h.op,h.Co);h.op.prototype.uw=function(a){var c=!1,d=a&&a.hb();a&&(a=a.oa,d==h.B.types.Qd&&a&&a.JA()&&Za(a)&&(c=!0));return c};h.Ya=function(a,c,d){this.L=h.g.o.G("g",{},null);this.L.jo="";this.style=Xc(a.xb.u,null);this.wb=a.xb.SA(this.L,this.style);this.ma=!1;this.w=a;this.Z=this.V=this.F=null;this.so=h.g.Ij()&&!!a.pe;var e=this.wb.Sc;e.Vf=this;h.K.Ok(e);h.Ya.v.constructor.call(this,a,c,d);this.L.dataset&&(this.L.dataset.id=this.id)};h.g.object.U(h.Ya,h.Do);h.Ya.prototype.height=0;h.Ya.prototype.width=0;h.Ya.prototype.je=null;h.Ya.EJ=-1;h.Ya.Or="TEMP_COLLAPSED_WARNING_";b=h.Ya.prototype;
b.bf=function(){if(!this.w.ma)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.N[a];a++)c.S();c=Qb(this);for(a=0;a<c.length;a++)Pa(c[a]);this.bc();Yc(this.wb,"blocklyDraggable",this.Lc());a=this.Oa();this.w.options.readOnly||this.KF||!a||h.na(a,"mousedown",this,this.Ai);this.KF=!0;a.parentNode||this.w.jb.appendChild(a)};
b.select=function(){if(this.Ma&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.i.disable();try{Zb(h.selected)}finally{h.i.enable()}}a=new h.i.lc(null,"selected",a,this.id);a.Sb=this.w.id;h.i.Ea(a);h.selected=this;this.rp()}};function Zb(a){if(h.selected==a){var c=new h.i.lc(null,"selected",a.id,null);c.Sb=a.w.id;h.i.Ea(c);h.selected=null;a.Qn()}}b.bd=null;b.Dm=null;b.Bf=null;b.hd=null;
function Qb(a){var c=[];a.bd&&c.push(a.bd);a.Bf&&c.push(a.Bf);a.hd&&c.push(a.hd);return c}b.Dl=function(a){var c=this.Bg;if(a!=c){h.g.o.ao();h.Ya.v.Dl.call(this,a);h.g.o.bo();var d=this.Oa();if(!this.w.Ou&&d){var e=this.Va();a?(a.Oa().appendChild(d),a=this.Va(),Vb(this,a.x-e.x,a.y-e.y)):c&&(this.w.jb.appendChild(d),this.translate(e.x,e.y));this.bc()}}};
b.Va=function(){var a=0,c=0,d=this.so?this.w.pe.fc():null,e=this.Oa();if(e){do{var f=h.g.Xe(e);a+=f.x;c+=f.y;this.so&&this.w.pe.Ff.firstChild==e&&(f=this.w.pe.xu(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.w.jb&&e!=d)}return new h.g.T(a,c)};b.moveBy=function(a,c){if(this.Bg)throw Error("Block has parent.");var d=h.i.isEnabled();if(d)var e=new h.i.Sl(this);var f=this.Va();this.translate(f.x+a,f.y+c);Vb(this,a,c);d&&(e.Xj(),h.i.Ea(e));za(this.w)};
b.translate=function(a,c){this.Oa().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Va();this.moveBy(a.x-c.x,a.y-c.y)};b.iv=function(a){this.so?this.w.pe.fk(a.x,a.y):(this.L.jo="translate("+a.x+","+a.y+")",this.L.setAttribute("transform",this.L.jo+this.L.Xn))};
function Zc(a){if(a.w&&!a.w.nc()&&!a.getParent()&&!a.Yb){var c=a.w.Ze;if(c&&c.eI){var d=c.fw,e=d/2,f=a.Va();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function $c(a){var c=a.Va(),d=G(a);if(a.J){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.yn=function(){for(var a=0,c;c=this.N[a];a++)c.yn()};
b.Eh=function(a){if(this.og!=a){for(var c=[],d=0,e;e=this.N[d];d++)c.push.apply(c,e.Zb(!a));if(a){e=Qb(this);for(d=0;d<e.length;d++)e[d].Zb(!1);d=this.toString(h.GC);I(K(this,"_TEMP_COLLAPSED_INPUT"),d).S();e=p(this,!0);if(d=t(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.hd){this.Hh(h.h.COLLAPSED_WARNINGS_WARNING,h.Ya.Or);break}}else this.ib("_TEMP_COLLAPSED_INPUT"),this.hd&&(this.hd.El("",h.Ya.Or),Object.keys(this.hd.Mg).length||this.Hh(null));h.Ya.v.Eh.call(this,a);
c.length||(c[0]=this);if(this.ma)for(d=0;f=c[d];d++)f.Ba()}};b.Ai=function(a){var c=this.w&&this.w.mh(a);if(c){if(c.Bj)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");hc(c,this);c.ff=a}};b.showHelp=function(){var a="function"==typeof this.Db?this.Db():this.Db;a&&window.open(a)};
function ad(a){if(a.w.options.readOnly||!a.contextMenu)return null;var c=[];if(!a.Yb){a.we()&&a.Lc()&&c.push(h.za.EE(a));a.w.options.Em&&!a.og&&a.wh()&&c.push(h.za.CE(a));if(a.Lc())if(a.og)a.w.options.collapse&&(d={enabled:!0},d.text=h.h.EXPAND_BLOCK,d.zb=function(){a.Eh(!1)},c.push(d));else{for(var d=1;d<a.N.length;d++)if(a.N[d-1].type!=h.bb&&a.N[d].type!=h.bb){d={enabled:!0};var e=Lb(a);d.text=e?h.h.EXTERNAL_INPUTS:h.h.INLINE_INPUTS;d.zb=function(){a.Qc(!e)};c.push(d);break}a.w.options.collapse&&
(d={enabled:!0},d.text=h.h.COLLAPSE_BLOCK,d.zb=function(){a.Eh(!0)},c.push(d))}a.w.options.disable&&a.wh()&&(d={text:a.isEnabled()?h.h.DISABLE_BLOCK:h.h.ENABLE_BLOCK,enabled:!xc(a),zb:function(){var f=h.i.fc();f||h.i.ca(!0);a.wd(!a.isEnabled());f||h.i.ca(!1)}},c.push(d));a.we()&&c.push(h.za.DE(a))}c.push(h.za.FE(a));a.tg&&a.tg(c);return c}b.Vn=function(a){var c=ad(this);c&&c.length&&(h.za.show(a,c,this.J),h.za.Hp=this)};
function Vb(a,c,d){if(a.ma){for(var e=a.Hf(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=Qb(a);for(f=0;f<e.length;f++)Qa(e[f]);for(f=0;f<a.dh.length;f++)Vb(a.dh[f],c,d)}}b.Ki=function(a){if(a){var c=this.Oa();c.jo="";c.Xn="";h.Pm=h.Pm.concat(this.Hf(!0));h.g.o.Xa(this.L,"blocklyDragging")}else h.Pm=[],h.g.o.Eb(this.L,"blocklyDragging");for(c=0;c<this.dh.length;c++)this.dh[c].Ki(a)};b.mr=function(a){h.Ya.v.mr.call(this,a);Yc(this.wb,"blocklyDraggable",a)};
b.Uv=function(a){h.Ya.v.Uv.call(this,a);a=Qb(this);for(var c=0;c<a.length;c++)a[c].Lh()};b.Xv=function(a){h.Ya.v.Xv.call(this,a);this.bc()};b.IB=function(a){this.sn!=a&&(this.sn=a)&&(this.dd(h.nD),Yc(this.wb,"blocklyInsertionMarker",!0))};b.Oa=function(){return this.L};
b.H=function(a,c){if(this.w){h.K.Aa();h.g.o.ao();var d=this.w;if(h.selected==this){Zb(this);var e=this.w;e.Hc&&e.Hc.cancel()}h.za.Hp==this&&h.za.Aa();this.w.xe&&h.navigation.eH(this);c&&this.ma&&(w(this,a),h.ob.zF(this));this.ma=!1;if(this.je){for(var f in this.je)clearTimeout(this.je[f]);this.je=null}c=Qb(this);for(e=0;e<c.length;e++)c[e].H();h.Ya.v.H.call(this,!!a);h.g.o.removeNode(this.L);za(d);this.L=null;h.g.o.bo()}};
b.bc=function(){this.wb.bc(this);for(var a=Qb(this),c=0;c<a.length;c++)a[c].bc();for(a=0;c=this.N[a];a++)for(var d=0,e;e=c.Ua[d];d++)e.bc()};function ya(a){var c=a.lh(!1);a.bc();a=0;for(var d;d=c[a];a++)ya(d)}b.$F=function(){return this.Bf};b.Gg=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.Oe.text!=a&&(h.Ya.v.Gg.call(this,a),a=null!=a,!!this.Bf==a?Ua(this.Bf):(a?this.Dm=this.Bf=new h.Comment(this):(this.Bf.H(),this.Dm=this.Bf=null),this.ma&&(this.Ba(),this.Ib())))};
b.Hh=function(a,c){if(!h.vf)throw Error("Missing require for Blockly.Warning");this.je||(this.je=Object.create(null));var d=c||"";if(d)this.je[d]&&(clearTimeout(this.je[d]),delete this.je[d]);else for(var e in this.je)clearTimeout(this.je[e]),delete this.je[e];if(this.w.nc()){var f=this;this.je[d]=setTimeout(function(){f.w&&(delete f.je[d],f.Hh(a,d))},100)}else{this.Yb&&(a=null);c=vc(this);for(e=null;c;)c.isCollapsed()&&(e=c),c=vc(c);e&&e.Hh(h.h.COLLAPSED_WARNINGS_WARNING,h.Ya.Or);c=!1;"string"==
typeof a?(this.hd||(this.hd=new h.vf(this),c=!0),this.hd.El(a,d)):this.hd&&!d?(this.hd.H(),c=!0):this.hd&&(c=this.hd.hc(),this.hd.El("",d),(e=this.hd.hc())||this.hd.H(),c=c!=e);c&&this.ma&&(this.Ba(),this.Ib())}};b.Li=function(a){this.bd&&this.bd!==a&&this.bd.H();a&&(a.O=this,this.bd=a,Pa(a));this.ma&&(this.Ba(),this.Ib())};b.wd=function(a){this.isEnabled()!=a&&(h.Ya.v.wd.call(this,a),this.ma&&ya(this))};
b.ck=function(a){if(this.ma){var c=this.wb;a?c.Sc.setAttribute("filter","url(#"+c.u.bu+")"):c.Sc.setAttribute("filter","none")}};b.rp=function(){this.wb.sw(!0)};b.Qn=function(){this.wb.sw(!1)};function Tb(a,c){Yc(a.wb,"blocklyDraggingDelete",c)}b.pu=function(){return this.style.lj};b.dd=function(a){h.Ya.v.dd.call(this,a);var c=this.w.xb.u;var d=this.Ne;a="auto_"+d;c.kj[a]||(c.kj[a]=bd(c,{colourPrimary:d}));c=c.kj[a];this.wb.Rb(c);this.style=c;this.dk=a;this.bc()};
b.Rb=function(a){var c=Xc(this.w.xb.u,a);this.dk=a;if(c)this.af=c.af,this.wb.Rb(c),this.Ne=c.lj,this.style=c,this.bc();else throw Error("Invalid style name: "+a);};function fb(a){do{var c=a.Oa(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Ae=function(a,c){h.Ya.v.Ae.call(this,a,c);this.ma&&(this.Ba(),this.Ib())};b.ze=function(a,c){h.Ya.v.ze.call(this,a,c);this.ma&&(this.Ba(),this.Ib())};
b.Md=function(a,c){h.Ya.v.Md.call(this,a,c);this.ma&&(this.Ba(),this.Ib())};b.Qc=function(a){h.Ya.v.Qc.call(this,a);this.ma&&(this.Ba(),this.Ib())};b.ib=function(a,c){h.Ya.v.ib.call(this,a,c);this.ma&&(this.Ba(),this.Ib())};b.jv=function(a,c){h.Ya.v.jv.call(this,a,c);this.ma&&(this.Ba(),this.Ib())};b.vm=function(a,c){a=h.Ya.v.vm.call(this,a,c);this.ma&&(this.Ba(),this.Ib());return a};
function xa(a,c){a.Z&&tc(a.Z,c);a.F&&tc(a.F,c);if(a.V){tc(a.V,c);var d=a.V.ga();d&&xa(d,c)}if(!a.og)for(d=0;d<a.N.length;d++){var e=a.N[d].connection;e&&(tc(e,c),(e=e.ga())&&xa(e,c))}}b.Hf=function(a){var c=[];if(a||this.ma)if(this.F&&c.push(this.F),this.Z&&c.push(this.Z),this.V&&c.push(this.V),a||!this.og){a=0;for(var d;d=this.N[a];a++)d.connection&&c.push(d.connection)}return c};b.Tu=function(){return h.Ya.v.Tu.call(this)};b.uu=function(a,c){return h.Ya.v.uu.call(this,a,c)};
b.xn=function(a){return new h.Ub(this,a)};b.Ib=function(){if(this.w&&!this.w.nc()){var a=this.Gd();if(!a.Yb)for(var c=this.Hf(!1),d=0,e;e=c[d];d++){e.isConnected()&&F(e)&&e.ga().Ib();for(var f=e.$A(h.Cd),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.P().Gd()!=a&&(F(e)?eb(k,e):eb(e,k))}}};function Wb(a){var c=h.i.fc();setTimeout(function(){h.i.ca(c);Zc(a);h.i.ca(!1)},h.Bo/2);setTimeout(function(){h.i.ca(c);a.Ib();h.i.ca(!1)},h.Bo)}
function cb(a,c,d){c.type!=h.bb&&c.type!=h.Ta||a.moveBy(d.x-c.x,d.y-c.y)}b.getParent=function(){return h.Ya.v.getParent.call(this)};b.Gd=function(){return h.Ya.v.Gd.call(this)};
b.Ba=function(a){h.g.o.ao();this.ma=!0;this.w.xb.Ba(this);var c=this.Va();this.Z&&Pc(this.Z,c);this.F&&Pc(this.F,c);for(var d=0;d<this.N.length;d++){var e=this.N[d].connection;e&&(Pc(e,c),e.isConnected()&&Rc(e))}this.V&&(Pc(this.V,c),this.V.isConnected()&&Rc(this.V));!1!==a&&((a=this.getParent())?a.Ba(!0):za(this.w));h.g.o.bo();a=this.w.Xb();this.wb.se&&a.draw()};b.Fh=function(a){this.wb.Fh(a)};b.Gh=function(a){this.wb.Gh(a)};
function G(a){var c=a.height,d=a.width,e=t(a);e&&(e=G(e),c+=e.height-a.w.xb.u.Dk,d=Math.max(d,e.width));return{height:c,width:d}};h.qk=function(){this.Wb=[]};function cd(a,c,d){if(!a.Wb.length)return-1;var e=Oc(a,d);if(e>=a.Wb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Wb[f].y==d;){if(a.Wb[f]==c)return f;f--}for(;e<a.Wb.length&&a.Wb[e].y==d;){if(a.Wb[e]==c)return e;e++}return-1}function Oc(a,c){if(!a.Wb.length)return 0;for(var d=0,e=a.Wb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Wb[f].y<c)d=f+1;else if(a.Wb[f].y>c)e=f;else{d=f;break}}return d}
function Mc(a,c,d){c=cd(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Wb.splice(c,1)}function Sc(a,c,d){function e(n){var q=g-f[n].x,r=k-f[n].y;Math.sqrt(q*q+r*r)<=d&&m.push(f[n]);return r<d}var f=a.Wb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}h.qk.S=function(){var a=[];a[h.Ta]=new h.qk;a[h.me]=new h.qk;a[h.bb]=new h.qk;a[h.Ge]=new h.qk;return a};h.$i=function(a,c){this.$k=a;this.fw=c.spacing;this.MA=c.length;this.TG=(this.Zu=a.firstChild)&&this.Zu.nextSibling;this.eI=c.snap};h.$i.prototype.Ji=1;h.$i.prototype.H=function(){this.$k=null};h.$i.prototype.update=function(a){this.Ji=a;var c=this.fw*a||100;this.$k.setAttribute("width",c);this.$k.setAttribute("height",c);c=Math.floor(this.fw/2)+.5;var d=c-this.MA/2,e=c+this.MA/2;c*=a;d*=a;e*=a;dd(this.Zu,a,d,e,c,c);dd(this.TG,a,c,c,d,e)};
function dd(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.$i.prototype.moveTo=function(a,c){this.$k.setAttribute("x",a);this.$k.setAttribute("y",c);(h.g.userAgent.rf||h.g.userAgent.Yi)&&this.update(this.Ji)};
h.$i.Ha=function(a,c,d){a=h.g.o.G("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.o.G("line",{stroke:c.colour},a),1<c.length&&h.g.o.G("line",{stroke:c.colour},a)):h.g.o.G("line",{},a);return a};h.Nx=function(a){this.se=this.Ef=null;this.Qj={};this.s=a};function ed(a,c){var d=a.Qj[c];if(d)d.H(),delete a.Qj[c];else throw Error("Marker with id "+c+" does not exist. Can only unregistermarkers that exist.");}b=h.Nx.prototype;b.Xb=function(){return this.Ef};b.We=function(a){return this.Qj[a]};b.Tv=function(a){this.Ef&&this.Ef.Zd&&this.Ef.Zd.H();if(this.Ef=a)a=this.s.xb.bv(this.s,this.Ef),this.Ef.Zd=a,this.Fh(this.Ef.Zd.Ha())};b.Fh=function(a){a?(this.s.jb.appendChild(a),this.se=a):this.se=null};
b.Gh=function(a){a?this.s.jb&&(this.se?this.s.jb.insertBefore(a,this.se):this.s.jb.appendChild(a)):this.ef=null};b.H=function(){for(var a=Object.keys(this.Qj),c=0,d;d=a[c];c++)ed(this,d);this.Qj=null;this.Ef.H();this.Ef=null};h.om=function(a,c){this.s=a;this.xr=c;this.rr=[];this.ai=Object.create(null)};h.om.prototype.ki=function(){return this.xr};h.om.prototype.subscribe=function(a,c,d){this.ai[c]||(this.ai[c]=[]);this.ai[c].push({element:a,propertyName:d});a.style[d]=this.xr&&sa(this.xr,c)||""};h.om.prototype.unsubscribe=function(a){if(a)for(var c=Object.keys(this.ai),d=0,e;e=c[d];d++){for(var f=this.ai[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.ai[e].length||delete this.ai[e]}};
h.om.prototype.H=function(){this.ai=this.rr=this.xr=this.ce=null};h.Vd=function(a,c){h.Vd.v.constructor.call(this,a,c);this.vq=!1;this.qe=Object.create(null);this.PB=this.Mn=0;this.HA=this.wv=null};h.g.object.U(h.Vd,h.wk);h.Vd.rE=5;h.Vd.sE=6;b=h.Vd.prototype;b.Zt=function(a){this.HA=this.qc.options.fb&&this.qc.options.fb.Ev;h.Vd.v.Zt.call(this,a);!this.oq&&h.Touch.Aq(a)&&fd(this,a)};
b.Ok=function(a){this.wv=h.na(document,"mousedown",null,this.DG.bind(this),!0);this.Tq=h.na(document,"mousemove",null,this.al.bind(this),!0);this.Uq=h.na(document,"mouseup",null,this.cq.bind(this),!0);a.preventDefault();a.stopPropagation()};b.DG=function(a){!this.nc()&&h.Touch.Aq(a)&&(fd(this,a),this.vq&&h.ui())};
b.al=function(a){if(this.nc())h.Touch.bw(a)&&h.Vd.v.al.call(this,a);else if(this.vq){if(h.Touch.Aq(a)){this.qe[h.Touch.aq(a)]=gd(this,a);var c=Object.keys(this.qe);if(this.HA&&2===c.length){c=Object.keys(this.qe);c=h.g.T.Yt(this.qe[c[0]],this.qe[c[1]])/this.PB;if(0<this.Mn&&Infinity>this.Mn){var d=c-this.Mn;d=0<d?d*h.Vd.rE:d*h.Vd.sE;var e=this.qc,f=h.g.Fn(a,u(e),pa(e));e.zoom(f.x,f.y,d)}this.Mn=c;a.preventDefault()}else h.Vd.v.al.call(this,a)}h.ui()}else h.Vd.v.al.call(this,a)};
b.cq=function(a){if(h.Touch.Aq(a)&&!this.nc()){var c=h.Touch.aq(a);this.qe[c]&&delete this.qe[c];2>Object.keys(this.qe).length&&(this.qe=Object.create(null),this.Mn=0)}!this.vq||this.nc()?h.Touch.bw(a)&&h.Vd.v.cq.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Vd.v.H.call(this);this.wv&&h.Ra(this.wv)};function fd(a,c){a.qe[h.Touch.aq(c)]=gd(a,c);var d=Object.keys(a.qe);2==d.length&&(a.PB=h.g.T.Yt(a.qe[d[0]],a.qe[d[1]]),a.vq=!0,c.preventDefault())}
function gd(a,c){return a.qc?new h.g.T(c.pageX?c.pageX:c.changedTouches[0].pageX,c.pageY?c.pageY:c.changedTouches[0].pageY):null};h.Ey=function(a){this.Av=a;this.mm=Object.create(null)};b=h.Ey.prototype;b.Vu=null;b.H=function(){this.mm=this.Av=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.mm[c]=e)}};
b.preload=function(){for(var a in this.mm){var c=this.mm[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.zk||h.g.userAgent.zx)break}};b.play=function(a,c){var d=this.mm[a];d?(a=new Date,null!=this.Vu&&a-this.Vu<h.$D||(this.Vu=a,d=h.g.userAgent.zk||h.g.userAgent.Rl?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Av&&this.Av.Xh.play(a,c)};h.Fy=function(a){this.Hm=a;this.Ha()};b=h.Fy.prototype;b.yb=null;b.Ff=null;b.Hm=null;b.Ha=function(){this.yb||(this.yb=h.g.o.G("svg",{xmlns:h.g.o.lp,"xmlns:html":h.g.o.yk,"xmlns:xlink":h.g.o.wf,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Hm.appendChild(this.yb))};b.fk=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.yb.style.display="block";h.g.o.Un(this.yb,"translate3d("+a+"px, "+c+"px, 0px)")};b.xu=function(){return h.g.Xe(this.yb)};
b.Ap=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.yb.childNodes[0],d=this.yb.childNodes[1];if(!(c&&d&&h.g.o.eq(c,"blocklyBlockCanvas")&&h.g.o.eq(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.xl?h.g.o.Hj(c,this.xl):a.insertBefore(c,a.firstChild);h.g.o.Hj(d,c);this.yb.style.display="none";if(this.yb.childNodes.length)throw Error("Drag surface was not cleared.");h.g.o.Un(this.yb,
"");this.xl=null};/*

 Copyright 2014 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.mb=function(a,c,d){h.mb.v.constructor.call(this,a);this.Jc=a.Jc||h.mb.nG;this.Cl=a.Cl||h.mb.$H;this.Ep=h.qk.S();c&&(this.pe=c);d&&(this.kk=d);this.Cr=!!this.kk&&h.g.Ij();this.Xh=new h.Ey(a.Nc);this.Ze=this.options.Cu?new h.$i(a.Cu,a.lA):null;this.df=new h.Nx(this);h.X&&h.X.xj&&hd(this,h.ac,h.X.xj);h.yy&&h.yy.xj&&hd(this,h.lE,h.yy.xj);h.sa&&h.sa.xj&&(hd(this,h.km,h.sa.xj),D(this,h.sa.hH));this.tc=this.options.Nc?this.options.Nc.tc:new h.om(this,this.options.nI||h.Vh.Wi);this.xb=h.m.S(this.options.zl||
"geras");this.ut=null;this.tc.rr.push(this);this.xb.u.Jv(this.ki());this.xe=!1};h.g.object.U(h.mb,h.Bb);b=h.mb.prototype;b.ir=null;b.ma=!0;b.ri=!0;b.Mf=!1;b.tn=!1;b.Ov=!0;b.scrollX=0;b.scrollY=0;b.Fz=null;b.scale=1;b.fd=null;b.ic=null;b.ba=null;b.ra=null;b.Hc=null;b.pe=null;b.kk=null;b.Cr=!1;b.nq=!1;b.Mu=null;b.LA=null;b.ku={};b.ow={};b.Ni=null;b.CA=null;b.Nu=!0;b.Fh=function(a){this.df.Fh(a)};b.Gh=function(a){this.df.Gh(a)};b.We=function(a){return this.df?this.df.We(a):null};
b.Xb=function(){return this.df?this.df.Xb():null};b.ki=function(){return this.tc.ki()};b.Jv=function(){this.xb.u.Jv(this.ki());id(B(this).filter(function(c){return void 0!==c.dk}));jd(this);this.ra&&Hb(this.ra);var a=new h.i.lc(null,"theme",null,null);a.Sb=this.id;h.i.Ea(a)};function id(a){for(var c=0,d;d=a[c];c++){var e=d.dk;if(e&&(d.Rb(e),d.bd)){var f=d.bd.s;if(f&&B(f)){var g=B(f);for(d=0;d<g.length;d++)e=g[d],e.Rb(e.dk);f=B(f.Ic().s);for(d=0;d<f.length;d++)e=f[d],e.Rb(e.dk)}}}}
function pa(a){if(a.Nu){var c=u(a).getScreenCTM();c&&(a.CA=c.inverse(),a.Nu=!1)}return a.CA}b.oo=function(){this.Nu=!0};b.isVisible=function(){return this.ri};function Mb(a,c){var d=0,e=0,f=1;if(h.g.o.containsNode(a.jb,c)||h.g.o.containsNode(a.Tf,c))f=a.scale;do{var g=h.g.Xe(c);if(c==a.jb||c==a.Tf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=u(a));return new h.g.T(d,e)}
function aa(a){if(!a.Mu)for(var c=a.L;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Mu=c;break}c=c.parentNode}return a.Mu}
b.Ha=function(a){this.L=h.g.o.G("g",{"class":"blocklyWorkspace"},null);a&&(this.ed=h.g.o.G("rect",{height:"100%",width:"100%","class":a},this.L),"blocklyMainBackground"==a&&this.Ze?this.ed.style.fill="url(#"+this.Ze.$k.id+")":this.tc.subscribe(this.ed,"workspaceBackgroundColour","fill"));this.jb=h.g.o.G("g",{"class":"blocklyBlockCanvas"},this.L);this.Tf=h.g.o.G("g",{"class":"blocklyBubbleCanvas"},this.L);this.Mf||(h.na(this.L,"mousedown",this,this.Ai,!1,!0),h.na(this.L,"wheel",this,this.DH));if(this.options.oA){if(!h.hj)throw Error("Missing require for Blockly.Toolbox");
this.ra=new h.hj(this)}this.Ze&&this.Ze.update(this.scale);kd(this);this.df.Tv(new h.rk);a=this.df;var c=h.navigation.vs,d=new h.dm;a.Qj[c]&&ed(a,c);var e=a.s.xb.bv(a.s,d);d.Zd=e;a.Gh(d.Zd.Ha());a.Qj[c]=d;a=this.xb.u;c=this.xb.name;d=a.Uz(c);c="blockly-renderer-style-"+c;document.getElementById(c)||(e=d.join("\n"),d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild));a.Ha(this.L);return this.L};
b.H=function(){this.ma=!1;this.Hc&&this.Hc.cancel();this.L&&(h.g.o.removeNode(this.L),this.L=null);this.Tf=this.jb=null;this.ra&&(this.ra.H(),this.ra=null);this.ba&&(this.ba.H(),this.ba=null);this.fd&&(this.fd.H(),this.fd=null);this.ic&&(this.ic.H(),this.ic=null);this.mk&&(this.mk.H(),this.mk=null);this.Xh&&(this.Xh.H(),this.Xh=null);this.Ze&&(this.Ze.H(),this.Ze=null);this.xb.u.H();if(this.tc){var a=this.tc,c=a.rr.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.rr.splice(c,1);this.tc.unsubscribe(this.ed);this.options.Nc||(this.tc.H(),this.tc=null)}this.df&&(this.df.H(),this.df=null);h.mb.v.H.call(this);this.ku=this.ow=this.Ep=null;this.options.Nc||(a=u(this).parentNode)&&h.g.o.removeNode(a);this.ir&&(h.Ra(this.ir),this.ir=null)};b.xi=function(a,c){return new h.Ya(this,a,c)};function ld(a){if(!h.Zs)throw Error("Missing require for Blockly.Trashcan");a.fd=new h.Zs(a);var c=a.fd.Ha();a.L.insertBefore(c,a.jb)}
function md(a){if(!h.ct)throw Error("Missing require for Blockly.ZoomControls");a.mk=new h.ct(a);var c=a.mk.Ha();a.L.appendChild(c)}function nd(a,c){var d=new h.Vc({parentWorkspace:a,rtl:a.J,oneBasedIndex:a.options.Ah,horizontalLayout:a.Kf,renderer:a.options.zl});d.Ja=a.options.Ja;if(a.Kf){if(!h.Zl)throw Error("Missing require for Blockly.HorizontalFlyout");a.ba=new h.Zl(d)}else{if(!h.bh)throw Error("Missing require for Blockly.VerticalFlyout");a.ba=new h.bh(d)}a.ba.Nk=!1;return a.ba.Ha(c)}
b.Ic=function(a){return this.ba||a?this.ba:this.ra?this.ra.Ic():null};function za(a){a.Ov&&a.ma&&(a.ic&&a.ic.resize(),a.oo())}b.resize=function(){this.ra&&this.ra.position();this.ba&&this.ba.position();this.fd&&this.fd.position();this.mk&&this.mk.position();this.ic&&this.ic.resize();this.oo();kd(this)};function cc(a){var c=h.g.fG();h.g.T.Se(a.LA,c)||(a.LA=c,a.oo(),kd(a))}function u(a){if(!a.ut)for(var c=a.L;c;){if("svg"==c.tagName){a.ut=c;break}c=c.parentNode}return a.ut}
b.translate=function(a,c){if(this.Cr&&this.nq)this.kk.fk(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.jb.setAttribute("transform",d);this.Tf.setAttribute("transform",d)}if(this.pe){d=this.pe;var e=this.scale;d.Ji=e;d.Ff.setAttribute("transform","translate("+a.toFixed(0)+","+c.toFixed(0)+") scale("+e+")")}this.Ze&&this.Ze.moveTo(a,c)};
function ra(a){if(a.Cr){a.nq=!1;var c=a.kk.xu();a.kk.Ap(a.L);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.jb.setAttribute("transform",c);a.Tf.setAttribute("transform",c)}}
function qa(a){if(a.Cr&&!a.nq){a.nq=!0;var c=a.jb.previousSibling,d=parseInt(u(a).getAttribute("width"),10),e=parseInt(u(a).getAttribute("height"),10),f=h.g.Xe(a.jb),g=a.kk,k=a.jb,l=a.Tf,m=a.scale;if(g.yb.childNodes.length)throw Error("Already dragging a block.");g.xl=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.yb.setAttribute("width",d);g.yb.setAttribute("height",e);g.yb.appendChild(k);g.yb.appendChild(l);g.yb.style.display=
"block";a.kk.fk(f.x,f.y)}}b.ph=function(){var a=this.Jc();return a?a.qb/this.scale:0};b.Zb=function(a){this.ic&&this.ic.ak(a);this.Ic()&&this.Ic().ak(a);u(this).style.display=a?"block":"none";this.ra&&(this.ra.Dc.style.display=a?"block":"none");if(a){for(var c=B(this),d=c.length-1;0<=d;d--)c[d].yn();this.Ba();this.ra&&this.ra.position()}else h.zc(!0);this.ri=a};b.Ba=function(){for(var a=B(this),c=a.length-1;0<=c;c--)a[c].Ba(!1);if(this.Hc)for(a=this.Hc.Zk(),c=0;c<a.length;c++)a[c].Ba(!1)};
function od(a){var c=h.Cm;if(a.ma&&!(c.getElementsByTagName("block").length>=Da(a)))if(a.Hc&&a.Hc.cancel(),"comment"==c.tagName.toLowerCase()){h.i.disable();try{var d=h.Mk.Vm(c),e=parseInt(c.getAttribute("x"),10),f=parseInt(c.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.J&&(e=-e),d.moveBy(e+50,f+50))}finally{h.i.enable()}d.select()}else a:{h.i.disable();try{var g=h.R.tj(c,a),k=a.We(h.navigation.vs).Za;if(a.xe&&k&&k.fl){h.navigation.BA(g,k.oa);break a}var l=parseInt(c.getAttribute("x"),10),m=parseInt(c.getAttribute("y"),
10);if(!isNaN(l)&&!isNaN(m)){a.J&&(l=-l);do{c=!1;var n=B(a);d=0;for(var q;q=n[d];d++){var r=q.Va();if(1>=Math.abs(l-r.x)&&1>=Math.abs(m-r.y)){c=!0;break}}if(!c){var x=g.Hf(!1);d=0;for(var z;z=x[d];d++)if(z.closest(h.Cd,new h.g.T(l,m)).connection){c=!0;break}}c&&(l=a.J?l-h.Cd:l+h.Cd,m+=2*h.Cd)}while(c);g.moveBy(l,m)}}finally{h.i.enable()}h.i.isEnabled()&&!g.Ma&&h.i.Ea(new h.i.Eo(g));g.select()}}
function jd(a){if((a=a.Mf?a.Ni:a)&&!a.Hc&&a.ra&&a.ra.Ic()){a=a.ra;var c=a.gd.Ld;c&&c.ng&&a.ba.show(c.ng)}}b.Hi=function(a,c){h.mb.v.Hi.call(this,a,c);jd(this)};b.ih=function(a){h.mb.v.ih.call(this,a);jd(this)};b.Qe=function(a,c,d){a=h.mb.v.Qe.call(this,a,c,d);jd(this);return a};function kd(a){a.rz=a.fd&&a.L.parentNode?a.fd.Ym():null;a.qz=a.ba?a.ba.Ym():a.ra?a.ra.Ym():null}function Sb(a,c){return a.rz&&a.rz.contains(c.clientX,c.clientY)?h.Tr:a.qz&&a.qz.contains(c.clientX,c.clientY)?h.Zw:h.Yw}
b.Ai=function(a){var c=this.mh(a);c&&fc(c,a,this)};b.gw=function(a,c){a=h.g.Fn(a,u(this),pa(this));a.x/=this.scale;a.y/=this.scale;this.Fz=h.g.T.Nm(c,a)};b.nc=function(){return null!=this.Hc&&this.Hc.nc()};function pd(a){return a.options.Mc&&a.options.Mc.scrollbars||a.options.Mc&&a.options.Mc.Ti||a.options.Mc&&a.options.Mc.gi||a.options.fb&&a.options.fb.controls||a.options.fb&&a.options.fb.Ti||a.options.fb&&a.options.fb.Ev}
b.Lc=function(){return this.options.Mc&&this.options.Mc.scrollbars||this.options.Mc&&this.options.Mc.Ti||this.options.Mc&&this.options.Mc.gi||this.options.fb&&this.options.fb.Ti||this.options.fb&&this.options.fb.Ev};
b.DH=function(a){if(h.wk.Iu())a.preventDefault(),a.stopPropagation();else{var c=this.options.fb&&this.options.fb.Ti,d=this.options.Mc&&this.options.Mc.Ti;if(c||d){var e=h.g.cA(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.Fn(a,u(this),pa(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function wa(a){var c=a.mc(!1);a=va(a,!1);c=c.concat(a);if(!c.length)return new h.g.Rect(0,0,0,0);a=$c(c[0]);for(var d=1;d<c.length;d++){var e=$c(c[d]);e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}b.TE=function(){this.Rc(!1);h.i.ca(!0);for(var a=this.mc(!0),c=0,d=0,e;e=a[d];d++)if(e.Lc()){var f=e.Va();e.moveBy(-f.x,c-f.y);Zc(e);c=e.Va().y+G(e).height+this.xb.u.ap}h.i.ca(!1);this.Rc(!0)};
b.Vn=function(a){function c(z){if(z.we())x=x.concat(p(z,!1));else{z=z.lh(!1);for(var H=0;H<z.length;H++)c(z[H])}}function d(){h.i.ca(g);var z=x.shift();z&&(z.w?(z.H(!1,!0),setTimeout(d,10)):d());h.i.ca(!1)}if(!this.options.readOnly&&!this.Mf){var e=[],f=this.mc(!0),g=h.g.kh(),k=this,l={};l.text=h.h.UNDO;l.enabled=0<this.gk.length;l.zb=this.qw.bind(this,!1);e.push(l);l={};l.text=h.h.REDO;l.enabled=0<this.On.length;l.zb=this.qw.bind(this,!0);e.push(l);this.Lc()&&(l={},l.text=h.h.CLEAN_UP,l.enabled=
1<f.length,l.zb=this.TE.bind(this),e.push(l));if(this.options.collapse){for(var m=l=!1,n=0;n<f.length;n++)for(var q=f[n];q;)q.isCollapsed()?l=!0:m=!0,q=t(q);var r=function(z){for(var H=0,W=0;W<f.length;W++)for(var ia=f[W];ia;)setTimeout(ia.Eh.bind(ia,z),H),ia=t(ia),H+=10};m={enabled:m};m.text=h.h.COLLAPSE_ALL;m.zb=function(){r(!0)};e.push(m);l={enabled:l};l.text=h.h.EXPAND_ALL;l.zb=function(){r(!1)};e.push(l)}var x=[];for(n=0;n<f.length;n++)c(f[n]);l={text:1==x.length?h.h.DELETE_BLOCK:h.h.DELETE_X_BLOCKS.replace("%1",
String(x.length)),enabled:0<x.length,zb:function(){k.Hc&&k.Hc.cancel();2>x.length?d():h.confirm(h.h.DELETE_ALL_BLOCKS.replace("%1",x.length),function(z){z&&d()})}};e.push(l);this.ZE&&this.ZE(e);h.za.show(a,e,this.J)}};function oa(a){if(a.options.Nc)oa(a.options.Nc);else{h.wn=a;document.activeElement&&document.activeElement.blur();try{u(a).focus({preventScroll:!0})}catch(c){try{u(a).parentNode.setActive()}catch(d){u(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.fb.TH,d);var e=this.scale*d;if(this.scale!=e){e>this.options.fb.Bn?d=this.options.fb.Bn/this.scale:e<this.options.fb.Dn&&(d=this.options.fb.Dn/this.scale);var f=this.jb.getCTM(),g=u(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
function qd(a,c){var d=a.Jc();if(a.ba){var e=d.kI/2;d=d.jI/2}else e=d.qb/2+d.wc,d=d.Ab/2+d.Ec;a.zoom(e,d,c)}b.JF=function(){h.g.o.Eb(this.jb,"blocklyCanvasTransitioning");h.g.o.Eb(this.Tf,"blocklyCanvasTransitioning")};
b.setScale=function(a){this.options.fb.Bn&&a>this.options.fb.Bn?a=this.options.fb.Bn:this.options.fb.Dn&&a<this.options.fb.Dn&&(a=this.options.fb.Dn);this.scale=a;h.zc(!1);this.ba&&(this.ba.Iv(),kd(this));this.Ze&&this.Ze.update(this.scale);a=this.Jc();this.scrollX-=a.wc;this.scrollY-=a.Ec;a.jc+=a.wc;a.vc+=a.Ec;this.scroll(this.scrollX,this.scrollY);this.ic&&(this.ba?(ha(this.ic.$e,a),ja(this.ic.jf,a)):(la(this.ic.$e,a),na(this.ic.jf,a)))};
b.scroll=function(a,c){h.zc(!0);var d=this.Jc(),e=d.Df+d.Gc-d.qb,f=d.Yd+d.xc-d.Ab;a=Math.min(a,-d.Gc);c=Math.min(c,-d.xc);a=Math.max(a,-e);c=Math.max(c,-f);this.scrollX=a;this.scrollY=c;this.ic&&(ca(this.ic.$e,-(a+d.Gc)*this.ic.$e.Oc),ca(this.ic.jf,-(c+d.xc)*this.ic.jf.Oc));a+=d.wc;c+=d.Ec;this.translate(a,c)};h.mb.Xz=function(a){var c=0,d=0;a&&(c=a.ph(),d=a.Yz());return{width:c,height:d}};h.mb.cG=function(a,c){return pd(a)?h.mb.bG(a,c):h.mb.Vz(a)};
h.mb.Vz=function(a){var c=wa(a),d=a.scale;a=c.top*d;var e=c.bottom*d,f=c.left*d;c=c.right*d;return{top:a,bottom:e,left:f,right:c,width:c-f,height:e-a}};h.mb.bG=function(a,c){a=h.mb.Vz(a);var d=c.width;c=c.height;var e=d/2,f=c/2,g=Math.min(a.left-e,a.right-d),k=Math.min(a.top-f,a.bottom-c);return{left:g,top:k,height:Math.max(a.bottom+f,a.top+c)-k,width:Math.max(a.right+e,a.left+d)-g}};
h.mb.nG=function(){var a=h.mb.Xz(this.ra),c=h.mb.Xz(this.ba),d=h.VB(u(this)),e={height:d.height,width:d.width};if(this.ra)if(this.Ja==h.$g||this.Ja==h.gj)e.height-=a.height;else{if(this.Ja==h.Ud||this.Ja==h.Zg)e.width-=a.width}else if(this.ba)if(this.Ja==h.$g||this.Ja==h.gj)e.height-=c.height;else if(this.Ja==h.Ud||this.Ja==h.Zg)e.width-=c.width;var f=h.mb.cG(this,e),g=0;this.ra&&this.Ja==h.Ud?g=a.width:this.ba&&this.Ja==h.Ud&&(g=c.width);var k=0;this.ra&&this.Ja==h.$g?k=a.height:this.ba&&this.Ja==
h.$g&&(k=c.height);return{Yd:f.height,Df:f.width,xc:f.top,Gc:f.left,Ab:e.height,qb:e.width,vc:-this.scrollY,jc:-this.scrollX,Ec:k,wc:g,jI:d.height,kI:d.width,XB:a.width,RL:a.height,rL:c.width,qL:c.height,Ja:this.Ja}};h.mb.$H=function(a){var c=this.Jc();"number"==typeof a.x&&(this.scrollX=-c.Df*a.x-c.Gc);"number"==typeof a.y&&(this.scrollY=-c.Yd*a.y-c.xc);this.translate(this.scrollX+c.wc,this.scrollY+c.Ec)};b=h.mb.prototype;b.Fd=function(a){return h.mb.v.Fd.call(this,a)};
b.mc=function(a){return h.mb.v.mc.call(this,a)};b.Rc=function(a){var c=!this.Ov&&a;this.Ov=a;c&&za(this)};b.clear=function(){this.Rc(!1);h.mb.v.clear.call(this);this.Rc(!0)};function rd(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.ku.CREATE_VARIABLE=c}function Wa(a,c){return(a=a.ku[c])?a:null}function hd(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.ow[c]=d}
b.mh=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Hc;return d?c&&d.Bj?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.Hc=new h.Vd(a,this):null};h.Yl=function(a){a.Jc=this.an.bind(this);a.Cl=this.JB.bind(this);this.s=new h.mb(a);this.s.Mf=!0;this.J=!!a.J;this.Ml=a.Ja;this.fu=[];this.Dq=[];this.ym=[];this.Jd=[];this.Dv=[];this.Ll=this.s.xb.u.oy};b=h.Yl.prototype;b.Nk=!0;b.ri=!1;b.mj=!0;b.sb=8;b.sf=h.Yl.prototype.sb;b.cD=3*h.Yl.prototype.sf;b.dD=3*h.Yl.prototype.sf;b.Ls=2;b.rb=0;b.Zc=0;b.EF=70;
b.Ha=function(a){this.L=h.g.o.G(a,{"class":"blocklyFlyout",style:"display: none"},null);this.ed=h.g.o.G("path",{"class":"blocklyFlyoutBackground"},this.L);this.L.appendChild(this.s.Ha());this.s.tc.subscribe(this.ed,"flyoutBackgroundColour","fill");this.s.tc.subscribe(this.ed,"flyoutOpacity","fill-opacity");this.s.df.Tv(new h.Ro);return this.L};
b.S=function(a){this.Lb=a;this.s.Ni=a;this.Bc=new h.Qa(this.s,this.Lf,!1,"blocklyFlyoutScrollbar");this.Aa();Array.prototype.push.apply(this.fu,h.na(this.L,"wheel",this,this.AI));this.Nk||(this.Pp=this.gu.bind(this),D(this.Lb,this.Pp));Array.prototype.push.apply(this.fu,h.na(this.ed,"mousedown",this,this.Ai));this.s.mh=this.Lb.mh.bind(this.Lb);this.s.Zv(this.Lb.Pa);a=this.s;a.Ei=new h.at(a)};
b.H=function(){this.Aa();h.Ra(this.fu);this.Pp&&(Ha(this.Lb,this.Pp),this.Pp=null);this.Bc&&(this.Bc.H(),this.Bc=null);this.s&&(this.s.tc.unsubscribe(this.ed),this.s.Ni=null,this.s.H(),this.s=null);this.L&&(h.g.o.removeNode(this.L),this.L=null);this.Lb=this.ed=null};b.ph=function(){return this.rb};b.Yz=function(){return this.Zc};b.isVisible=function(){return this.ri};b.Zb=function(a){var c=a!=this.isVisible();this.ri=a;c&&this.no()};b.ak=function(a){var c=a!=this.mj;this.mj=a;c&&this.no()};
b.no=function(){var a=this.mj?this.isVisible():!1;this.L.style.display=a?"block":"none";this.Bc.ak(a)};b.Aa=function(){if(this.isVisible()){this.Zb(!1);for(var a=0,c;c=this.Jd[a];a++)h.Ra(c);this.Jd.length=0;this.Fi&&(Ha(this.s,this.Fi),this.Fi=null)}};
b.show=function(a){this.s.Rc(!1);this.Aa();sd(this);if("string"==typeof a){a=this.s.Ni.ow[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.s.Ni);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Zb(!0);var c=[],d=[];this.Dv.length=0;for(var e=this.Lf?this.cD:this.dD,f=0,g;g=a[f];f++)if(g.tagName)switch(g.tagName.toUpperCase()){case "BLOCK":var k=h.R.tj(g,this.s);k.isEnabled()||
this.Dv.push(k);c.push({type:"block",block:k});g=parseInt(g.getAttribute("gap"),10);d.push(isNaN(g)?e:g);break;case "SEP":g=parseInt(g.getAttribute("gap"),10);!isNaN(g)&&0<d.length?d[d.length-1]=g:d.push(e);break;case "LABEL":case "BUTTON":k="LABEL"==g.tagName.toUpperCase();if(!h.vk)throw Error("Missing require for Blockly.FlyoutButton");g=new h.vk(this.s,this.Lb,g,k);c.push({type:"button",button:g});d.push(e)}td(this,c,d);this.Jd.push(h.na(this.ed,"mouseover",this,function(){for(var l=this.s.mc(!1),
m=0,n;n=l[m];m++)n.Qn()}));this.Lf?this.Zc=0:this.rb=0;this.s.Rc(!0);this.Iv();this.gu();this.position();this.Fi=this.Iv.bind(this);D(this.s,this.Fi)};function sd(a){for(var c=a.s.mc(!1),d=0,e;e=c[d];d++)e.w==a.s&&e.H(!1,!1);for(d=0;d<a.Dq.length;d++)(c=a.Dq[d])&&h.g.o.removeNode(c);for(d=a.Dq.length=0;c=a.ym[d];d++)c.H();a.ym.length=0;a.s.Ei.clear()}function ud(a,c){return function(d){var e=a.Lb.mh(d);e&&(hc(e,c),gc(e,d,a))}}b.Ai=function(a){var c=this.Lb.mh(a);c&&gc(c,a,this)};
function ab(a,c){var d=null;h.i.disable();var e=a.Lb.yj();a.Lb.Rc(!1);try{var f=a.Lb;if(!c.Oa())throw Error("oldBlock is not rendered.");var g=h.R.Yh(c,!0);f.Rc(!1);var k=h.R.tj(g,f);if(!k.Oa())throw Error("block is not rendered.");var l=h.g.$m(f.jb),m=h.g.$m(a.s.jb),n=c.Va();n.scale(a.s.scale);var q=h.g.T.sum(m,n),r=h.g.T.Nm(q,l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;h.zc()}finally{h.i.enable()}c=h.X.Tz(a.Lb,e);if(h.i.isEnabled())for(h.i.ca(!0),h.i.Ea(new h.i.lf(d)),e=0;e<c.length;e++)h.i.Ea(new h.i.Je(c[e]));
a.Nk?a.Aa():a.gu();return d}b.gu=function(){for(var a=this.s.mc(!1),c=0,d;d=a[c];c++)if(-1==this.Dv.indexOf(d))for(var e=Ea(this.Lb,h.g.nu(d));d;)d.wd(e),d=t(d)};
b.Iv=function(){this.Fi&&Ha(this.s,this.Fi);this.s.scale=this.Lb.scale;for(var a=0,c=this.s.mc(!1),d=0,e;e=c[d];d++){var f=G(e).width;e.F&&(f-=this.Ll);a=Math.max(a,f)}for(d=0;e=this.ym[d];d++)a=Math.max(a,e.width);a+=1.5*this.sf+this.Ll;a*=this.s.scale;a+=h.Qa.Ac;if(this.rb!=a){for(d=0;e=c[d];d++){if(this.J){f=e.Va().x;var g=a/this.s.scale-this.sf;e.F||(g-=this.Ll);e.moveBy(g-f,0)}e.Mz&&(f=e.Mz,g=e,e=G(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Va(),f.setAttribute("y",
g.y),f.setAttribute("x",this.J?g.x-e.width:g.x))}if(this.J)for(d=0;e=this.ym[d];d++)e.moveTo(a/this.s.scale-e.width-this.sf-this.Ll,e.ud.y);this.rb=a;this.position()}this.Fi&&D(this.s,this.Fi)};function bc(a){return a.Bc?a.Bc.isVisible():!1}b.Kd=function(a){return this.s.Xb().Kd(a)};h.$={};h.$.ce=null;h.$.Lp=null;h.$.Pf=null;h.$.Uf=null;h.$.Ha=function(){h.$.ab||(h.$.ab=document.createElement("div"),h.$.ab.className="blocklyWidgetDiv",document.body.appendChild(h.$.ab))};h.$.show=function(a,c,d){h.$.Aa();h.$.ce=a;h.$.Lp=d;a=h.$.ab;a.style.direction=c?"rtl":"ltr";a.style.display="block";h.$.Pf=h.La().xb.name+"-renderer";h.$.Uf=h.La().ki().name+"-theme";h.g.o.Xa(a,h.$.Pf);h.g.o.Xa(a,h.$.Uf)};
h.$.Aa=function(){var a=h.$.ab;h.$.ce&&(h.$.ce=null,a.style.display="none",a.style.left="",a.style.top="",h.$.Lp&&h.$.Lp(),h.$.Lp=null,a.innerHTML="");h.$.Pf&&(h.g.o.Eb(a,h.$.Pf),h.$.Pf=null);h.$.Uf&&(h.g.o.Eb(a,h.$.Uf),h.$.Uf=null);oa(h.La())};h.$.isVisible=function(){return!!h.$.ce};h.$.kn=function(a){h.$.ce==a&&h.$.Aa()};h.$.Kn=function(a,c,d){h.$.ab.style.left=a+"px";h.$.ab.style.top=c+"px";h.$.ab.style.height=d+"px"};
h.$.MH=function(a,c,d,e){var f=h.$.ME(a,c,d);a=h.$.LE(a,c,d,e);0>f?h.$.Kn(a,0,d.height+f):h.$.Kn(a,f,d.height)};h.$.LE=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.$.ME=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.bh=function(a){a.Jc=this.an.bind(this);a.Cl=this.JB.bind(this);h.bh.v.constructor.call(this,a);this.Lf=!1};h.g.object.U(h.bh,h.Yl);b=h.bh.prototype;b.an=function(){if(!this.isVisible())return null;try{var a=this.s.jb.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var c=this.Ls,d=this.Zc-2*this.Ls,e=this.rb;this.J||(e-=this.Ls);return{Ab:d,qb:e,Yd:a.height*this.s.scale+2*this.sf,Df:a.width*this.s.scale+2*this.sf,vc:-this.s.scrollY+a.y,jc:-this.s.scrollX,xc:a.y,Gc:a.x,Ec:c,wc:0}};
b.JB=function(a){var c=this.an();c&&("number"==typeof a.y&&(this.s.scrollY=-c.Yd*a.y),this.s.translate(this.s.scrollX+c.wc,this.s.scrollY+c.Ec))};
b.position=function(){if(this.isVisible()){var a=this.Lb.Jc();if(a){this.Zc=a.Ab;var c=this.rb-this.sb,d=a.Ab-2*this.sb,e=this.Ml==h.Zg,f=c+this.sb;f=["M "+(e?f:0)+",0"];f.push("h",e?-c:c);f.push("a",this.sb,this.sb,0,0,e?0:1,e?-this.sb:this.sb,this.sb);f.push("v",Math.max(0,d));f.push("a",this.sb,this.sb,0,0,e?0:1,e?this.sb:-this.sb,this.sb);f.push("h",e?c:-c);f.push("z");this.ed.setAttribute("d",f.join(" "));c=this.Zc;a=this.Lb.Ja==this.Ml?a.XB?this.Ml==h.Ud?a.XB:a.qb-this.rb:this.Ml==h.Ud?0:a.qb:
this.Ml==h.Ud?0:a.qb+a.wc-this.rb;this.L.setAttribute("width",this.rb);this.L.setAttribute("height",c);"svg"==this.L.tagName?h.g.o.Un(this.L,"translate("+a+"px,0px)"):this.L.setAttribute("transform","translate("+a+",0)");this.Bc&&(this.Bc.yv=new h.g.T(a,0),this.Bc.resize(),fa(this.Bc,this.Bc.ud.x,this.Bc.ud.y))}}};b.AI=function(a){var c=h.g.cA(a);if(c.y){var d=this.an();c=d.vc-d.xc+c.y;c=Math.min(c,d.Yd-d.Ab);c=Math.max(c,0);this.Bc.set(c);h.$.Aa()}a.preventDefault();a.stopPropagation()};
function td(a,c,d){a.s.scale=a.Lb.scale;for(var e=a.sf,f=a.J?e:e+a.Ll,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=p(k,!1),m=0,n;n=l[m];m++)n.Yb=!0;k.Ba();n=k.Oa();l=G(k);m=k.F?f-a.Ll:f;k.moveBy(m,e);var q=a,r=k,x=g;m=h.g.o.G("rect",{"fill-opacity":0,x:a.J?m-l.width:m,y:e,height:l.height,width:l.width},null);m.Vf=r;h.K.Ok(m);q.s.jb.insertBefore(m,r.Oa());r.Mz=m;q.Dq[x]=m;q=a;q.Jd.push(h.na(n,"mousedown",null,ud(q,k)));q.Jd.push(h.na(m,"mousedown",null,ud(q,k)));q.Jd.push(h.pd(n,"mouseenter",
k,k.rp));q.Jd.push(h.pd(n,"mouseleave",k,k.Qn));q.Jd.push(h.pd(m,"mouseenter",k,k.rp));q.Jd.push(h.pd(m,"mouseleave",k,k.Qn));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,q=e,r=m.Ha(),m.moveTo(n,q),m.show(),l.Jd.push(h.na(r,"mousedown",l,l.Ai)),l.ym.push(m),e+=k.button.height+d[g])}b.Ym=function(){if(!this.L)return null;var a=this.L.getBoundingClientRect(),c=a.left;return this.Ml==h.Ud?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};/*

 Copyright 2015 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.ct=function(a){this.s=a};b=h.ct.prototype;b.jj=32;b.tx=110;b.ts=20;b.bm=20;b.L=null;b.un=0;b.Ol=0;b.Ha=function(){this.L=h.g.o.G("g",{},null);var a=String(Math.random()).substring(2);vd(this,a);wd(this,a);this.s.Lc()&&xd(this,a);return this.L};b.S=function(a){this.Mh=this.ts+a;return this.Mh+this.tx};b.H=function(){this.L&&h.g.o.removeNode(this.L)};
b.position=function(){if(this.Mh){var a=this.s.Jc();a&&(this.un=a.Ja==h.Ud||this.s.Kf&&!this.s.J?a.qb+a.wc-this.jj-this.bm-h.Qa.Ac:this.bm+h.Qa.Ac,a.Ja==h.gj?(this.Ol=this.Mh,this.Er.setAttribute("transform","translate(0, 34)"),this.Fr&&this.Fr.setAttribute("transform","translate(0, 77)")):(this.Ol=a.Ab+a.Ec-this.tx-this.Mh,this.Er.setAttribute("transform","translate(0, 43)"),this.zw.setAttribute("transform","translate(0, 77)")),this.L.setAttribute("transform","translate("+this.un+","+this.Ol+")"))}};
function vd(a,c){var d=a.s;a.zw=h.g.o.G("g",{"class":"blocklyZoom"},a.L);var e=h.g.o.G("clipPath",{id:"blocklyZoomoutClipPath"+c},a.zw);h.g.o.G("rect",{width:32,height:32},e);a=h.g.o.G("image",{width:h.Dd.width,height:h.Dd.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+c+")"},a.zw);a.setAttributeNS(h.g.o.wf,"xlink:href",d.options.Dg+h.Dd.url);h.na(a,"mousedown",null,function(f){oa(d);qd(d,-1);h.Touch.$h();f.stopPropagation();f.preventDefault()})}
function wd(a,c){var d=a.s;a.Er=h.g.o.G("g",{"class":"blocklyZoom"},a.L);var e=h.g.o.G("clipPath",{id:"blocklyZoominClipPath"+c},a.Er);h.g.o.G("rect",{width:32,height:32},e);a=h.g.o.G("image",{width:h.Dd.width,height:h.Dd.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+c+")"},a.Er);a.setAttributeNS(h.g.o.wf,"xlink:href",d.options.Dg+h.Dd.url);h.na(a,"mousedown",null,function(f){oa(d);qd(d,1);h.Touch.$h();f.stopPropagation();f.preventDefault()})}
function xd(a,c){var d=a.s;a.Fr=h.g.o.G("g",{"class":"blocklyZoom"},a.L);var e=h.g.o.G("clipPath",{id:"blocklyZoomresetClipPath"+c},a.Fr);h.g.o.G("rect",{width:32,height:32},e);a=h.g.o.G("image",{width:h.Dd.width,height:h.Dd.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+c+")"},a.Fr);a.setAttributeNS(h.g.o.wf,"xlink:href",d.options.Dg+h.Dd.url);h.na(a,"mousedown",null,function(f){oa(d);d.setScale(d.options.fb.RB);h.g.o.Xa(d.jb,"blocklyCanvasTransitioning");h.g.o.Xa(d.Tf,"blocklyCanvasTransitioning");
if(d.Lc()){var g=d.Jc(),k=(g.Df-g.qb)/2,l=(g.Yd-g.Ab)/2;k=-k-g.Gc;l=-l-g.xc;d.scroll(k,l)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");setTimeout(d.JF.bind(d),500);h.Touch.$h();f.stopPropagation();f.preventDefault()})}
h.kd.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]);h.Ow=function(a){this.Hm=a;this.Ha()};b=h.Ow.prototype;b.yb=null;b.Ff=null;b.Hm=null;b.Ji=1;b.co=null;b.Ha=function(){this.yb||(this.yb=h.g.o.G("svg",{xmlns:h.g.o.lp,"xmlns:html":h.g.o.yk,"xmlns:xlink":h.g.o.wf,version:"1.1","class":"blocklyBlockDragSurface"},this.Hm),this.Ff=h.g.o.G("g",{},this.yb))};function ac(a,c){if(a.Ff.childNodes.length)throw Error("Already dragging a block.");a.Ff.appendChild(c);a.yb.style.display="block";a.co=new h.g.T(0,0)}
b.fk=function(a,c){this.co=new h.g.T(a*this.Ji,c*this.Ji);a=this.co.x;c=this.co.y;a=a.toFixed(0);c=c.toFixed(0);this.yb.style.display="block";h.g.o.Un(this.yb,"translate3d("+a+"px, "+c+"px, 0px)")};b.xu=function(){var a=h.g.Xe(this.yb);return new h.g.T(a.x/this.Ji,a.y/this.Ji)};b.fc=function(){return this.Ff};
b.Ap=function(a){a?a.appendChild(this.Ff.firstChild):this.Ff.removeChild(this.Ff.firstChild);this.yb.style.display="none";if(this.Ff.childNodes.length)throw Error("Drag group was not cleared.");this.co=null};/*

 Copyright 2016 Massachusetts Institute of Technology
 All rights reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.D=function(){};h.D.rt=null;h.D.ce=null;h.D.uB=null;h.D.xo=16;h.D.Lw=1;h.D.Iw=12;h.D.Sx=16;h.D.Kr=.25;h.D.ft=null;h.D.Vj=null;h.D.Pf=null;h.D.Uf=null;
h.D.Ha=function(){if(!h.D.$f){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);h.D.$f=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.D.rg=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.D.Ke=c;h.D.$f.style.opacity=0;h.D.$f.style.transition="transform "+h.D.Kr+"s, opacity "+h.D.Kr+"s";a.addEventListener("focusin",function(){h.g.o.Xa(a,"focused")});a.addEventListener("focusout",
function(){h.g.o.Eb(a,"focused")})}};h.D.WH=function(a){h.D.rt=a};h.D.dG=function(){return h.D.rg};h.D.UE=function(){h.D.rg.innerHTML="";h.D.rg.style.width=""};h.D.dd=function(a,c){h.D.$f.style.backgroundColor=a;h.D.$f.style.borderColor=c};h.D.ML=function(a,c,d,e){return h.D.MB(h.D.aA(c),a,d,e)};h.D.bI=function(a,c){h.D.uB=!0;h.D.MB(h.D.bA(a),a,c,void 0)};h.D.aA=function(a){var c=a.Oa(),d=c.getBBox(),e=a.w.scale;a=d.height*e;d=d.width*e;c=h.g.style.zj(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.D.bA=function(a){a=oc(a);return new h.g.Rect(a.top,a.bottom,a.left,a.right)};h.D.MB=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.P();h.D.WH(u(e.w).parentNode);return h.D.show(c,e.J,f,g,f,a,d)};h.D.show=function(a,c,d,e,f,g,k){h.D.ce=a;h.D.Vj=k||null;a=h.D.$f;a.style.direction=c?"rtl":"ltr";h.D.Pf=h.La().xb.name+"-renderer";h.D.Uf=h.La().ki().name+"-theme";h.g.o.Xa(a,h.D.Pf);h.g.o.Xa(a,h.D.Uf);return h.D.Kn(d,e,f,g)};
h.D.XF=function(){var a=h.g.style.zj(h.D.rt),c=h.g.style.nh(h.D.rt);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.D.kG=function(a,c,d,e){var f=h.D.XF(),g=h.g.style.nh(h.D.$f);return c+g.height<f.bottom?h.D.$z(a,c,f,g):e-g.height>f.top?h.D.Zz(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.D.$z(a,c,f,g):e-g.height>document.documentElement.clientTop?h.D.Zz(d,e,f,g):h.D.lG(a,f,g)};
h.D.$z=function(a,c,d,e){a=h.D.wu(a,d.left,d.right,e.width);return{Ju:a.Vk,Ku:c,iu:a.Vk,ju:c+h.D.Sx,wm:a.wm,Ly:-(h.D.xo/2+h.D.Lw),ht:!0,jt:!0}};h.D.Zz=function(a,c,d,e){a=h.D.wu(a,d.left,d.right,e.width);return{Ju:a.Vk,Ku:c-e.height,iu:a.Vk,ju:c-e.height-h.D.Sx,wm:a.wm,Ly:e.height-2*h.D.Lw-h.D.xo/2,ht:!1,jt:!0}};h.D.lG=function(a,c,d){a=h.D.wu(a,c.left,c.right,d.width);return{Ju:a.Vk,Ku:0,iu:a.Vk,ju:0,jt:!1}};
h.D.wu=function(a,c,d,e){var f=a;a=h.g.oc.Me(c,a-e/2,d-e);f-=h.D.xo/2;c=h.g.oc.Me(h.D.Iw,f-a,e-h.D.Iw-h.D.xo);return{wm:c,Vk:a}};h.D.isVisible=function(){return!!h.D.ce};h.D.kn=function(a,c){h.D.ce===a&&(c?h.D.bl():h.D.Aa())};h.D.Aa=function(){var a=h.D.$f;a.style.transform="translate(0, 0)";a.style.opacity=0;h.D.ft=setTimeout(function(){h.D.bl()},1E3*h.D.Kr);h.D.Vj&&(h.D.Vj(),h.D.Vj=null)};
h.D.bl=function(){if(h.D.isVisible()){h.D.ft&&clearTimeout(h.D.ft);var a=h.D.$f;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.D.Vj&&(h.D.Vj(),h.D.Vj=null);h.D.UE();h.D.ce=null;h.D.Pf&&(h.g.o.Eb(a,h.D.Pf),h.D.Pf=null);h.D.Uf&&(h.g.o.Eb(a,h.D.Uf),h.D.Uf=null);oa(h.La())}};
h.D.Kn=function(a,c,d,e){a=h.D.kG(a,c,d,e);a.jt?(h.D.Ke.style.display="",h.D.Ke.style.transform="translate("+a.wm+"px,"+a.Ly+"px) rotate(45deg)",h.D.Ke.setAttribute("class",a.ht?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.D.Ke.style.display="none";c=Math.floor(a.Ju);d=Math.floor(a.Ku);e=Math.floor(a.iu);var f=Math.floor(a.ju),g=h.D.$f;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return a.ht};h.D.HL=function(){if(h.D.ce){var a=h.D.ce,c=h.D.ce.P();a=h.D.uB?h.D.bA(a):h.D.aA(c);c=a.left+(a.right-a.left)/2;h.D.Kn(c,a.bottom,c,a.top)}else h.D.Aa()};h.Gj=function(a,c){h.NE();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.o.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.Vc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.Y.Fb(d,h.g.Y.State.sD,h.h.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.Jm(d,c);var e=new h.Ow(d),f=new h.Fy(d),g=h.fF(a,c,e,f);h.Na.Ia.ZH(c.Ia);h.KG(g);h.wn=g;h.Kl(g);d.addEventListener("focusin",function(){h.wn=
g});return g};h.Jm=function(a,c){a.setAttribute("dir","LTR");h.Cc.oz=c.J;h.kd.Gj(c.EG,c.Dg);a=h.g.o.G("svg",{xmlns:h.g.o.lp,"xmlns:html":h.g.o.yk,"xmlns:xlink":h.g.o.wf,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.o.G("defs",{},a);c.Cu=h.$i.Ha(String(Math.random()).substring(2),c.lA,d);return a};
h.fF=function(a,c,d,e){c.Nc=null;var f=new h.mb(c,d,e);c=f.options;f.scale=c.fb.RB;a.appendChild(f.Ha("blocklyMainBackground"));h.g.o.Xa(aa(f),(c.zl||"geras")+"-renderer");h.g.o.Xa(aa(f),f.ki().name+"-theme");!c.oA&&c.yg&&(d=nd(f,"svg"),h.g.o.Hj(d,a));c.rA&&ld(f);c.fb&&c.fb.controls&&md(f);f.tc.subscribe(a,"workspaceBackgroundColour","background-color");f.translate(0,0);c.readOnly||f.Lc()||D(f,function(g){if(!f.nc()&&!f.Lc()&&-1!=h.i.AC.indexOf(g.type)){var k=Object.create(null),l=f.Jc(),m=f.scale;
k.J=f.J;k.jc=l.jc/m;k.vc=l.vc/m;k.eC=(l.jc+l.qb)/m;k.dC=(l.vc+l.Ab)/m;pd(f)?(l=wa(f),k.Gc=l.left,k.xc=l.top,k.ez=l.right,k.cz=l.bottom):(k.Gc=l.Gc/m,k.xc=l.xc/m,k.ez=(l.Gc+l.Df)/m,k.cz=(l.xc+l.Yd)/m);if(k.xc<k.vc||k.cz>k.dC||k.Gc<k.jc||k.ez>k.eC){l=null;g&&(l=h.i.fc(),h.i.ca(g.group));switch(g.type){case h.i.zo:case h.i.Kw:var n=f.Fd(g.Fc);n&&(n=n.Gd());break;case h.i.Ho:case h.i.Io:n=f.Dp[g.pg]||null}if(n){m=$c(n);m.height=m.bottom-m.top;m.width=m.right-m.left;var q=k.vc,r=k.dC-m.height;r=Math.max(q,
r);q=h.g.oc.Me(q,m.top,r)-m.top;r=k.jc;var x=k.eC-m.width;k.J?r=Math.min(x,r):x=Math.max(r,x);n.moveBy(h.g.oc.Me(r,m.left,x)-m.left,q)}g&&(!g.group&&n&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==l&&h.i.ca(l))}}});h.Kl(f);h.$.Ha();h.D.Ha();h.K.Ha();return f};
h.KG=function(a){var c=a.options,d=u(a);h.na(d.parentNode,"contextmenu",null,function(f){h.g.yq(f)||f.preventDefault()});d=h.na(window,"resize",null,function(){h.zc(!0);h.Kl(a)});a.ir=d;h.Gj.BE();if(c.yg){d=a.ra;var e=a.Ic(!0);d?d.S():e&&(e.S(a),e.show(c.yg.childNodes),e.Bc.set(0))}d=h.Qa.Ac;c.rA&&(d=a.fd.S(d));c.fb&&c.fb.controls&&a.mk.S(d);c.Mc&&c.Mc.scrollbars?(a.ic=new h.Jk(a),a.ic.resize()):a.Cl({x:.5,y:.5});c.FG&&h.Gj.UG(c.Dg,a)};
h.Gj.BE=function(){h.BF||(h.na(document,"scroll",null,function(){for(var a=h.Bb.getAll(),c=0,d;d=a[c];c++)d.oo&&d.oo()}),h.na(document,"keydown",null,h.Hn),h.pd(document,"touchend",null,h.ui),h.pd(document,"touchcancel",null,h.ui),h.g.userAgent.zk&&h.na(window,"orientationchange",document,function(){h.Kl(h.La())}));h.BF=!0};
h.Gj.UG=function(a,c){function d(){for(;f.length;)h.Ra(f.pop());e.preload()}var e=c.Xh;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.na(document,"mousemove",null,d,!0));f.push(h.na(document,"touchstart",null,d,!0))};h.Sd=function(a,c){this.cC=c||"";this.AB=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.AB[a[c]]=!0;this.reset()};h.Sd.Ur="DEVELOPER_VARIABLE";h.Sd.prototype.reset=function(){this.ug=Object.create(null);this.nz=Object.create(null);this.Pa=null};h.Sd.prototype.Zv=function(a){this.Pa=a};
function M(a,c){var d=h.j.Nd;if(c==h.ac){var e=a;d.Pa?e=(e=d.Pa.Jf(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),e=null);e&&(a=e)}e=a.toLowerCase()+"_"+c;var f=c==h.ac||c==h.Sd.Ur?d.cC:"";if(e in d.ug)return f+d.ug[e];a=yd(d,a,c);d.ug[e]=a.substr(f.length);return a}
function yd(a,c,d){c?(c=encodeURI(c.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(c[0])&&(c="my_"+c)):c=h.h.UNNAMED_KEY||"unnamed";for(var e="";a.nz[c+e]||c+e in a.AB;)e=e?e+1:2;c+=e;a.nz[c]=!0;return(d==h.ac||d==h.Sd.Ur?a.cC:"")+c}h.Sd.Se=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.sa={};h.sa.cp=h.km;h.sa.Xw="x";h.sa.yE=function(a){a=B(a);for(var c=[],d=[],e=0;e<a.length;e++)if(a[e].ji){var f=a[e].ji();f&&(f[2]?c.push(f):d.push(f))}d.sort(h.sa.wB);c.sort(h.sa.wB);return[d,c]};h.sa.wB=function(a,c){return a[0].toLowerCase().localeCompare(c[0].toLowerCase())};h.sa.OF=function(a,c){if(c.Yb)return a;for(a=a||h.h.UNNAMED_KEY||"unnamed";!h.sa.OG(a,c.w,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};h.sa.OG=function(a,c,d){return!h.sa.QG(a,c,d)};
h.sa.QG=function(a,c,d){c=B(c);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].ji){var f=c[e].ji();if(h.Sd.Se(f[0],a))return!0}return!1};h.sa.dr=function(a){a=a.trim();var c=h.sa.OF(a,this.P()),d=this.getValue();if(d!=a&&d!=c){a=B(this.P().w);for(var e=0;e<a.length;e++)a[e].Rn&&a[e].Rn(d,c)}return c};
h.sa.xj=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],q=h.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=h.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<n.length;m++){var x=h.g.xml.createElement("arg");x.setAttribute("name",n[m]);r.appendChild(x)}d.push(q)}}var d=[];if(h.M.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.h.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.M.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.h.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.M.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.sa.yE(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.sa.$B=function(a){var c=[];var d=a.Wf.procedures_mutatorarg?a.Wf.procedures_mutatorarg.slice(0):[];for(var e=0,f;f=d[e];e++)c.push(C(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.X.Sz(h.sa.Xw,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.Vc.rB(d)){if(!a.options.yg)throw Error("Existing toolbox is null.  Can't create new toolbox.");
if(c.getElementsByTagName("category").length){if(!a.ra)throw Error("Existing toolbox has no categories.  Can't change mode.");a.options.yg=c;Bb(a.ra,c)}else{if(!a.ba)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.yg=c;a.ba.show(c.childNodes)}}else if(a.options.yg)throw Error("Can't nullify an existing toolbox.");};
h.sa.hH=function(a){if(a.type==h.i.pm&&"mutatorOpen"==a.element&&a.newValue){a=h.Bb.Xm(a.Sb).Fd(a.Fc);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.bd.s,h.sa.$B(a),D(a,h.sa.gH)}};h.sa.gH=function(a){a.type!=h.i.zo&&a.type!=h.i.Lr&&a.type!=h.i.xC||h.sa.$B(h.Bb.Xm(a.Sb))};h.sa.YF=function(a,c){var d=[];c=B(c);for(var e=0;e<c.length;e++)if(c[e].ve){var f=c[e].ve();f&&h.Sd.Se(f,a)&&d.push(c[e])}return d};
h.sa.Gn=function(a){var c=h.i.Pc,d=a.ji()[0],e=a.cb(!0);a=h.sa.YF(d,a.w);d=0;for(var f;f=a[d];d++){var g=f.cb();g=g&&h.R.te(g);f.Cb(e);var k=f.cb();k=k&&h.R.te(k);g!=k&&(h.i.Pc=!1,h.i.Ea(new h.i.Qg(f,"mutation",null,g,k)),h.i.Pc=c)}};h.sa.Zm=function(a,c){c=c.mc(!1);for(var d=0;d<c.length;d++)if(c[d].ji){var e=c[d].ji();if(e&&h.Sd.Se(e[0],a))return c[d]}return null};h.qm=function(a,c,d,e){this.w=a;this.name=c;this.type=d||"";this.cl=e||h.g.kh();h.i.Ea(new h.i.Je(this))};h.qm.prototype.wa=function(){return this.cl};h.qm.Zy=function(a,c){a=a.name.toLowerCase();c=c.name.toLowerCase();return a<c?-1:a==c?0:1};h.X={};h.X.cp=h.ac;h.X.Ky=function(a){var c=B(a);a=Object.create(null);for(var d=0;d<c.length;d++){var e=c[d].oh();if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.wa();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.X.gL=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};h.X.Fw={};
h.X.wE=function(a){a=B(a);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.sL;!f&&e.eG&&(f=e.eG,h.X.Fw[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.X.Fw[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.X.xj=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");rd(a,function(e){h.X.hz(e.Lb)});c.push(d);a=h.X.RF(a);return c=c.concat(a)};
h.X.RF=function(a){a=a.cn("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.M.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.M.math_change?8:24);e.appendChild(h.X.Wm(d));c.push(e)}h.M.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.M.variables_get?20:8),e.appendChild(h.X.Wm(d)),d=h.R.Pi('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.M.variables_get){a.sort(h.qm.Zy);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.X.Wm(f)),c.push(e)}}return c};h.X.wy="ijkmnopqrstuvwxyzabcdefgh";h.X.TF=function(a){return h.X.Sz(h.X.wy.charAt(0),a.mu())};
h.X.Sz=function(a,c){if(!c.length)return a;for(var d=h.X.wy,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.X.hz=function(a,c,d){function e(g){h.X.xB(h.h.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.X.jH(k,a);if(l){if(l.type==f)var m=h.h.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.Qe(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.X.Qe=h.X.hz;
h.X.gr=function(a,c){function d(e){var f=h.h.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.X.xB(f,e,function(g){if(g){var k=h.X.kH(g,c.type,a);k?(k=h.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.Hi(c.wa(),g)}})}d("")};h.X.xB=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.h.RENAME_VARIABLE||e==h.h.NEW_VARIABLE)&&(e=null);d(e)})};
h.X.kH=function(a,c,d){d=d.Pa.yj();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.X.jH=function(a,c){c=c.Pa.yj();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.X.Wm=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.wa());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.X.Zp=function(a,c,d,e){var f=h.X.Yc(a,c,d,e);f||(f=h.X.gF(a,c,d,e));return f};h.X.Yc=function(a,c,d,e){var f=a.Ei,g=null;if(c&&(g=a.Jf(c),!g&&f&&(g=f.Jf(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Yc(d,e);!g&&f&&(g=f.Yc(d,e))}return g};h.X.gF=function(a,c,d,e){var f=a.Ei;d||(d=h.X.TF(a.Mf?a.Ni:a));return f?f.Qe(d,e,c):a.Qe(d,e,c)};
h.X.Tz=function(a,c){a=a.yj();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.wn=null;h.selected=null;h.Pm=[];h.Cm=null;h.Cp=null;h.Ct=null;h.jL=null;h.VB=function(a){return{width:a.Py,height:a.Oy}};h.IL=function(a){za(a)};h.Kl=function(a){for(;a.options.Nc;)a=a.options.Nc;var c=u(a),d=c.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;c.Py!=e&&(c.setAttribute("width",e+"px"),c.Py=e);c.Oy!=d&&(c.setAttribute("height",d+"px"),c.Oy=d);a.resize()}};
h.Hn=function(a){var c=h.wn;if(c&&!(h.g.yq(a)||c.ma&&!c.isVisible()))if(c.options.readOnly)h.navigation.jB(a);else{var d=!1;if(a.keyCode==h.g.Ca.Yr)h.zc(),h.navigation.Kd(h.navigation.Gr);else{if(h.navigation.jB(a))return;if(a.keyCode==h.g.Ca.wC||a.keyCode==h.g.Ca.Ul){a.preventDefault();if(h.wk.Iu())return;h.selected&&h.selected.we()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(h.wk.Iu())return;h.selected&&h.selected.we()&&h.selected.Lc()&&(a.keyCode==h.g.Ca.CC?(h.zc(),h.Et(h.selected)):a.keyCode!=
h.g.Ca.Gy||h.selected.w.Mf||(h.Et(h.selected),d=!0));a.keyCode==h.g.Ca.iE?h.Cm&&(a=h.Cp,a.Mf&&(a=a.Ni),h.Ct&&Ea(a,h.Ct)&&(h.i.ca(!0),od(a),h.i.ca(!1))):a.keyCode==h.g.Ca.qE&&(h.zc(),c.qw(a.shiftKey))}}d&&!h.selected.w.Mf&&(h.i.ca(!0),h.zc(),h.selected.H(!0,!0),h.i.ca(!1))}};h.Et=function(a){if(a.DA)var c=a.mw();else{c=h.R.Yh(a,!0);h.R.sF(c);var d=a.Va();c.setAttribute("x",a.J?-d.x:d.x);c.setAttribute("y",d.y)}h.Cm=c;h.Cp=a.w;h.Ct=a.DA?null:h.g.nu(a,!0)};
h.duplicate=function(a){var c=h.Cm,d=h.Cp;h.Et(a);od(a.w);h.Cm=c;h.Cp=d};h.GL=function(a){h.g.yq(a)||a.preventDefault()};h.zc=function(a){h.K.Aa();h.$.Aa();h.D.bl();a||(a=h.La(),a.fd&&a.fd.wj&&a.fd.wj.Aa(),(a=a.ra)&&a.Ic()&&a.Ic().Nk&&$a(a.gd,null))};h.La=function(){return h.wn};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.SG=function(a){return function(){L(this,a)}};
h.Uk=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.M[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.M[e]={S:h.SG(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};
h.na=function(a,c,d,e,f,g){function k(x){var z=!f;x=h.Touch.fI(x);for(var H=0,W;W=x[H];H++)if(!z||h.Touch.bw(W))h.Touch.XH(W),d?e.call(d,W):e(W),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.hg)for(var n=0,q;q=h.Touch.hg[c][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.hg){var r=function(x){k(x);var z=!g;l&&z&&x.preventDefault()};for(n=0;q=h.Touch.hg[c][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
h.pd=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.hg)for(var k=0,l;l=h.Touch.hg[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.hg){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.hg[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.Ra=function(a){for(;a.length;){var c=a.pop();c[0].removeEventListener(c[1],c[2],!1)}};h.pi=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.HG=function(a){return h.g.pb.xA(a)};
h.NE=function(){h.qd("LOGIC_HUE",["Blocks","logic","HUE"],void 0);h.qd("LOGIC_HUE",["Constants","Logic","HUE"],210);h.qd("LOOPS_HUE",["Blocks","loops","HUE"],void 0);h.qd("LOOPS_HUE",["Constants","Loops","HUE"],120);h.qd("MATH_HUE",["Blocks","math","HUE"],void 0);h.qd("MATH_HUE",["Constants","Math","HUE"],230);h.qd("TEXTS_HUE",["Blocks","texts","HUE"],void 0);h.qd("TEXTS_HUE",["Constants","Text","HUE"],160);h.qd("LISTS_HUE",["Blocks","lists","HUE"],void 0);h.qd("LISTS_HUE",["Constants","Lists","HUE"],
260);h.qd("COLOUR_HUE",["Blocks","colour","HUE"],void 0);h.qd("COLOUR_HUE",["Constants","Colour","HUE"],20);h.qd("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);h.qd("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.qd("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);h.qd("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
h.qd=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};h.g.C={};h.g.C.va=function(a,c){return" "+a+","+c+" "};h.g.C.curve=function(a,c){return" "+a+c.join("")};h.g.C.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.C.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.C.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.C.line=function(a){return" l"+a.join("")};h.g.C.pa=function(a,c){return" "+a+" "+c+" "};h.g.C.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.m.kf=function(){this.Rh=0;this.eg=3;this.dg=5;this.am=10;this.np=15;this.fj=5;this.oy=8;this.ep=15;this.Dk=4;this.Ix=12;this.WC=16;this.Vr=this.No=this.np;this.sb=8;this.kp=this.Qh=15;this.ky=0;this.Ss=20;this.py=this.dg;this.qy=this.am;this.Nw=this.dg;this.Mw=this.am;this.Hr=!1;this.Qs=15;this.Rs=100;this.aE=15;this.ap=24;this.ex=14.5;this.bx=this.np+11;this.XC=2;this.Wr=this.ap;h.g.C.moveBy(0,0);this.Dx=12;this.Ex=6;this.Zi=11;this.Wl=16;this.Oh="normal";this.Vg="sans-serif";this.fs=4;this.ds=
16;this.nf=5;this.bs="#fff";this.hs=h.g.userAgent.qx?12:13.09;this.js=0;this.ox=!h.g.userAgent.rf&&!h.g.userAgent.Yi;this.gs=this.ds;this.lx=this.kx=this.Qo=!1;this.mx=this.nf;this.Vl=12;this.YC="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.nx=!1;this.ix=this.nf-3;this.jx=14;this.hx=15;this.Nn=String(Math.random()).substring(2);this.bu="";this.cu=null;this.yz="";this.Tt=null;this.Sw="#cc0a0a";this.GD="#4286f4";this.Tl=100;this.Cy=5;this.Lo=10;this.MC=2;this.Uw=4;this.ks=!1;this.oe={Ux:1,Ck:2}};b=h.m.kf.prototype;
b.S=function(){var a=this.Dx,c=this.Ex,d=h.g.C.line([h.g.C.va(c,a/4),h.g.C.va(2*-c,a/2),h.g.C.va(c,a/4)]);this.Zo={height:a,width:c,path:d};this.Ck=this.RA();this.Ps=this.UA();this.UD=zd(this);this.Bd=this.QA();a=this.sb;c=h.g.C.moveBy(0,a)+h.g.C.arc("a","0 0,1",a,h.g.C.va(a,-a));d=h.g.C.arc("a","0 0,1",a,h.g.C.va(a,a));var e=h.g.C.arc("a","0 0,1",a,h.g.C.va(-a,-a)),f=h.g.C.arc("a","0 0,1",a,h.g.C.va(-a,a));this.jm={rI:c,sI:d,HE:f,GE:e,jr:a}};
b.Jv=function(a){this.kj={};a=a.kj;for(var c in a)this.kj[c]=bd(this,a[c])};function Xc(a,c){return a.kj[c||""]||bd(a,{colourPrimary:"#000000"})}function bd(a,c){var d={};c&&h.g.object.zg(d,c);c=h.g.Wq(d.colourPrimary||"#000");d.lj=c.jn;d.Yy=d.colourSecondary?h.g.Wq(d.colourSecondary).jn:a.Qz(d.lj);d.Af=d.colourTertiary?h.g.Wq(d.colourTertiary).jn:a.Rz(d.lj);d.af=d.hat||"";return d}b.Qz=function(a){return h.g.pb.up("#fff",a,.6)||a};b.Rz=function(a){return h.g.pb.up("#fff",a,.3)||a};
b.H=function(){this.cu&&h.g.o.removeNode(this.cu);this.Tt&&h.g.o.removeNode(this.Tt)};b.UA=function(){var a=this.Qs,c=this.Rs,d=h.g.C.curve("c",[h.g.C.va(30,-a),h.g.C.va(70,-a),h.g.C.va(c,0)]);return{height:a,width:c,path:d}};
function zd(a){function c(k){k=k?-1:1;var l=-k,m=e/2,n=h.g.C.va(d,k*m);return h.g.C.curve("c",[h.g.C.va(0,k*(m+2.5)),h.g.C.va(-d,l*(m+.5)),h.g.C.va(-d,k*m)])+h.g.C.curve("s",[h.g.C.va(d,2.5*l),n])}var d=a.oy,e=a.np,f=c(!0),g=c(!1);return{type:a.oe.Ux,width:d,height:e,Cg:g,Di:f}}b.RA=function(){function a(k){return h.g.C.line([h.g.C.va(k*e,d),h.g.C.va(3*k,0),h.g.C.va(k*e,-d)])}var c=this.ep,d=this.Dk,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.oe.Ck,width:c,height:d,Jn:f,Xq:g}};
b.QA=function(){var a=this.sb,c=h.g.C.arc("a","0 0,0",a,h.g.C.va(-a,a)),d=h.g.C.arc("a","0 0,0",a,h.g.C.va(a,a));return{width:a,height:a,Cv:c,Bv:d}};b.Fl=function(a){switch(a.type){case h.Ta:case h.me:return this.UD;case h.Ge:case h.bb:return this.Ck;default:throw Error("Unknown connection type");}};
b.Ha=function(a){a=h.g.o.G("defs",{},a);var c=h.g.o.G("filter",{id:"blocklyEmbossFilter"+this.Nn},a);h.g.o.G("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);var d=h.g.o.G("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.o.G("fePointLight",{x:-5E3,y:-1E4,z:2E4},d);h.g.o.G("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.o.G("feComposite",{"in":"SourceGraphic",
in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.bu=c.id;this.cu=c;a=h.g.o.G("pattern",{id:"blocklyDisabledPattern"+this.Nn,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.o.G("rect",{width:10,height:10,fill:"#aaa"},a);h.g.o.G("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.yz=a.id;this.Tt=a};
b.Uz=function(a){a="."+a+"-renderer";return[a+" .blocklyText {","fill: #fff;","font-family: "+this.Vg+";","font-size: "+this.Zi+"pt;","font-weight: "+this.Oh+";","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.bs+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+
this.Vg+";","font-weight: "+this.Oh+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}"]};h.m.kc=function(a,c,d){this.s=a;this.ZG=d;this.ee=null;this.u=c;this.pj=null;a=Ad(this)?this.u.Sw:this.u.GD;this.Ne=d.pb||a};h.m.kc.NC="blocklyCursor";h.m.kc.FD="blocklyMarker";h.m.kc.gD=.75;b=h.m.kc.prototype;b.Oa=function(){return this.L};function Ad(a){return"cursor"==a.ZG.type}b.Ha=function(){this.L=h.g.o.G("g",{"class":Ad(this)?h.m.kc.NC:h.m.kc.FD},null);this.Ft();return this.L};function Bd(a,c){Ad(a)?(a.ee&&a.ee.Fh(null),c.Fh(a.Oa())):(a.ee&&a.ee.Gh(null),c.Gh(a.Oa()));a.ee=c}
function Cd(a,c){if(c){var d=c.width,e=c.height,f=e*h.m.kc.gD,g=a.u.MC;if(c.Z){var k=a.u.Fl(c.Z);e=k;d=h.g.C.moveBy(-g,f)+h.g.C.pa("V",-g)+h.g.C.pa("H",a.u.Qh)+e.Jn+h.g.C.pa("H",d+2*g)+h.g.C.pa("V",f);a.Oj.setAttribute("d",d)}else c.F?(f=k=a.u.Fl(c.F),d=h.g.C.moveBy(d,0)+h.g.C.pa("h",-(d-f.width))+h.g.C.pa("v",a.u.fj)+f.Cg+h.g.C.pa("V",e)+h.g.C.pa("H",d),a.Oj.setAttribute("d",d)):(d=h.g.C.moveBy(-g,f)+h.g.C.pa("V",-g)+h.g.C.pa("H",d+2*g)+h.g.C.pa("V",f),a.Oj.setAttribute("d",d));a.s.J&&a.Oj.setAttribute("transform",
"scale(-1 1)");a.pj=a.Oj;Bd(a,c);Dd(a)}}b.ew=function(a){var c=a.oa;a=c.P();var d=c.zi.x,e=c.zi.y;c=h.g.C.moveTo(0,0)+this.u.Fl(c).Cg;this.An.setAttribute("d",c);this.An.setAttribute("transform","translate("+d+","+e+")"+(this.s.J?" scale(-1 1)":""));this.pj=this.An;Bd(this,a);Dd(this)};function Dd(a){a.Aa();a.pj.style.display=""}function Ed(a,c,d,e){a.ql.setAttribute("x",c);a.ql.setAttribute("y",d);a.ql.setAttribute("width",e);a.pj=a.ql}
function Fd(a,c,d,e,f){a.rl.setAttribute("x",c);a.rl.setAttribute("y",d);a.rl.setAttribute("width",e);a.rl.setAttribute("height",f);a.pj=a.rl}b.Aa=function(){this.ql.style.display="none";this.rl.style.display="none";this.An.style.display="none";this.Oj.style.display="none"};b.draw=function(a,c){if(c){this.dw(c);var d=c.P();a=new h.i.lc(d,Ad(this)?"cursorMove":"markerMove",a,c);c.hb()==h.B.types.lg&&(a.Sb=c.oa.id);h.i.Ea(a);c=this.pj.childNodes[0];void 0!==c&&c.beginElement&&c.beginElement()}else this.Aa()};
b.dw=function(a){if(a.hb()==h.B.types.Pd)Cd(this,a.oa);else if(a.hb()==h.B.types.Th)a=a.oa.P(),Cd(this,a);else if(a.oa.type==h.Ta)this.ew(a);else if(a.oa.type==h.bb){var c=a.oa;a=c.P();var d=0;c=c.zi.y;var e=G(a).width;this.s.J&&(d=-e);Ed(this,d,c,e);Bd(this,a);Dd(this)}else if(a.hb()==h.B.types.ne)a=a.oa.P(),Cd(this,a);else if(a.hb()==h.B.types.Qd)a=a.oa,d=a.nh().width,c=a.nh().height,Fd(this,0,0,d,c),Bd(this,a),Dd(this);else if(a.hb()==h.B.types.lg)d=a.yw,a=d.x,d=d.y,this.s.J&&(a-=this.u.Tl),Ed(this,
a,d,this.u.Tl),Bd(this,this.s),Dd(this);else if(a.hb()==h.B.types.fg){a=a.oa;c=G(a);d=c.width+this.u.Lo;c=c.height+this.u.Lo;var f=e=-this.u.Lo/2,g=-this.u.Lo/2;this.s.J&&(f=-(d+e));Fd(this,f,g,d,c);Bd(this,a);Dd(this)}};function Gd(a){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:a.Ne+";transparent;transparent;",repeatCount:"indefinite"}}
b.Ft=function(){this.ef=h.g.o.G("g",{width:this.u.Tl,height:this.u.Cy},this.L);this.ql=h.g.o.G("rect",{fill:this.Ne,width:this.u.Tl,height:this.u.Cy,style:"display: none"},this.ef);this.rl=h.g.o.G("rect",{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none",stroke:this.Ne},this.ef);this.An=h.g.o.G("path",{transform:"",style:"display: none",fill:this.Ne},this.ef);this.Oj=h.g.o.G("path",{transform:"",style:"display: none",fill:"none",stroke:this.Ne,"stroke-width":this.u.Uw},this.ef);if(Ad(this)){var a=
Gd(this);h.g.o.G("animate",Gd(this),this.ql);h.g.o.G("animate",a,this.An);a.attributeName="stroke";h.g.o.G("animate",a,this.Oj)}};b.H=function(){this.L&&h.g.o.removeNode(this.L)};h.m.A={NONE:0,Qd:1,sx:2,ux:4,Ms:8,Jw:16,yx:32,gx:64,cg:128,vx:256,ly:512,JC:1024,Ds:2048,ws:4096,RD:8192,Rr:16384,rs:32768,qs:65536,Is:131072,Hs:262144,Cx:524288,Js:1048576,Xs:2097152,Mr:4194304,wx:8388608};h.m.A.JJ=h.m.A.rs|h.m.A.qs;h.m.A.OK=h.m.A.Is|h.m.A.Hs;h.m.A.nv=16777216;h.m.A.hb=function(a){h.m.A.hasOwnProperty(a)||(h.m.A[a]=h.m.A.nv,h.m.A.nv<<=1);return h.m.A[a]};h.m.A.hl=function(a){return a.type&h.m.A.Qd};h.m.A.pq=function(a){return a.type&h.m.A.sx};h.m.A.qq=function(a){return a.type&h.m.A.ux};
h.m.A.cf=function(a){return a.type&h.m.A.Ms};h.m.A.xL=function(a){return a.type&h.m.A.yx};h.m.A.tq=function(a){return a.type&h.m.A.cg};h.m.A.FA=function(a){return a.type&h.m.A.gx};h.m.A.rq=function(a){return a.type&h.m.A.vx};h.m.A.xq=function(a){return a.type&h.m.A.ly};h.m.A.wq=function(a){return a.type&h.m.A.Ds};h.m.A.il=function(a){return a.type&h.m.A.ws};h.m.A.zL=function(a){return a.type&(h.m.A.Ds|h.m.A.ws)};h.m.A.uq=function(a){return a.type&h.m.A.qs};h.m.A.IA=function(a){return a.type&h.m.A.Hs};
h.m.A.Pu=function(a){return a.type&h.m.A.rs};h.m.A.AL=function(a){return a.type&h.m.A.Is};h.m.A.wL=function(a){return a.type&h.m.A.Rr};h.m.A.yL=function(a){return a.type&h.m.A.Cx};h.m.A.BL=function(a){return a.type&h.m.A.Js};h.m.A.vL=function(a){return a.type&h.m.A.Jw};h.m.A.zq=function(a){return a.type&h.m.A.Xs};h.m.A.lq=function(a){return a.type&h.m.A.Mr};h.m.A.CL=function(a){return a.type&(h.m.A.Xs|h.m.A.Mr)};h.m.A.Lj=function(a){return a.type&h.m.A.wx};h.m.Wg=function(a){this.height=this.width=0;this.type=h.m.A.NONE;this.Qk=this.Nb=0;this.u=a;this.Nf=this.u.Qh};h.m.ta=function(a,c){h.m.ta.v.constructor.call(this,a);this.bi=c;this.shape=this.u.Fl(c);this.xg=!!this.shape.isDynamic;this.type|=h.m.A.JC};h.g.object.U(h.m.ta,h.m.Wg);h.m.Bs=function(a,c){h.m.Bs.v.constructor.call(this,a,c);this.type|=h.m.A.RD;this.height=this.xg?0:this.shape.height;this.Rf=this.width=this.xg?0:this.shape.width;this.re=this.u.fj;this.qg=0};h.g.object.U(h.m.Bs,h.m.ta);
h.m.Es=function(a,c){h.m.Es.v.constructor.call(this,a,c);this.type|=h.m.A.Ds;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.m.Es,h.m.ta);h.m.xs=function(a,c){h.m.xs.v.constructor.call(this,a,c);this.type|=h.m.A.ws;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.m.xs,h.m.ta);h.m.$l=function(a,c){h.m.$l.v.constructor.call(this,a,c.connection);this.type|=h.m.A.cg;this.input=c;this.align=c.align;(this.Xd=c.connection&&c.connection.ga()?c.connection.ga():null)?(a=G(this.Xd),this.Gm=a.width,this.Fm=a.height):this.Fm=this.Gm=0;this.re=this.qg=0};h.g.object.U(h.m.$l,h.m.ta);
h.m.Xo=function(a,c){h.m.Xo.v.constructor.call(this,a,c);this.type|=h.m.A.vx;this.Xd?(this.width=this.Gm,this.height=this.Fm):(this.height=this.u.bx,this.width=this.u.ex);this.Fp=this.xg?this.shape.height(this.height):this.shape.height;this.fh=this.xg?this.shape.width(this.height):this.shape.width;this.Xd||(this.width+=this.fh*(this.xg?2:1));this.re=this.xg?this.shape.re(this.Fp):this.u.fj;this.qg=this.xg?this.shape.qg(this.fh):0};h.g.object.U(h.m.Xo,h.m.$l);
h.m.Uh=function(a,c){h.m.Uh.v.constructor.call(this,a,c);this.type|=h.m.A.ly;this.height=this.Xd?this.Fm+this.u.ky:this.u.Wr;this.width=this.u.kp+this.shape.width};h.g.object.U(h.m.Uh,h.m.$l);h.m.Po=function(a,c){h.m.Po.v.constructor.call(this,a,c);this.type|=h.m.A.gx;this.height=this.Xd?this.Fm-this.u.fj-this.u.dg:this.shape.height;this.width=this.shape.width+this.u.XC;this.re=this.u.fj;this.Fp=this.shape.height;this.fh=this.shape.width};h.g.object.U(h.m.Po,h.m.$l);h.m.Rd=function(a,c){h.m.Rd.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.m.A.ux;a=new h.g.gg(h.Rd.prototype.jp,h.Rd.prototype.jp-2);this.height=a.height;this.width=a.width};h.g.object.U(h.m.Rd,h.m.Wg);h.m.os=function(a){h.m.os.v.constructor.call(this,a);this.type|=h.m.A.Cx;this.height=this.u.Zo.height;this.width=this.u.Zo.width};h.g.object.U(h.m.os,h.m.Wg);
h.m.ke=function(a,c,d){h.m.ke.v.constructor.call(this,a);this.vj=c;this.wh=c.Oo;this.QF=!1;this.type|=h.m.A.Qd;a=this.vj.nh();this.height=a.height;this.width=a.width;this.EH=d};h.g.object.U(h.m.ke,h.m.Wg);h.m.ls=function(a){h.m.ls.v.constructor.call(this,a);this.type|=h.m.A.sx;this.height=this.u.Ps.height;this.width=this.u.Ps.width;this.xm=this.height};h.g.object.U(h.m.ls,h.m.Wg);
h.m.Kk=function(a,c){h.m.Kk.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.m.A.Is:h.m.A.rs)|h.m.A.Rr;this.width=this.height=this.u.Rh};h.g.object.U(h.m.Kk,h.m.Wg);h.m.Gk=function(a,c){h.m.Gk.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.m.A.Hs:h.m.A.qs)|h.m.A.Rr;this.width=this.u.sb;this.height=this.u.sb/2};h.g.object.U(h.m.Gk,h.m.Wg);h.m.Ph=function(a,c){h.m.Ph.v.constructor.call(this,a);this.type=this.type|h.m.A.Ms|h.m.A.yx;this.width=c;this.height=this.u.aE};h.g.object.U(h.m.Ph,h.m.Wg);h.m.ej=function(a){this.type=h.m.A.Js;this.elements=[];this.Nb=this.Yf=this.Xf=this.minWidth=this.minHeight=this.width=this.height=0;this.qA=this.fq=this.pA=this.Kc=this.fn=!1;this.u=a;this.Nf=this.u.Qh;this.align=null};h.m.ej.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function Hd(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.m.A.tq(d))return d;return null}h.m.ej.prototype.iw=function(){return!0};h.m.ej.prototype.Wk=function(){return!0};
h.m.Ie=function(a){h.m.Ie.v.constructor.call(this,a);this.type|=h.m.A.Xs;this.xm=this.Am=0;this.hq=!1;this.connection=null};h.g.object.U(h.m.Ie,h.m.ej);b=h.m.Ie.prototype;b.gn=function(a){var c=(a.af?"cap"===a.af:this.u.Hr)&&!a.F&&!a.Z,d=a.Z&&a.Z.ga();return!!a.F||c||(d?t(d)==a:!1)};b.hn=function(){return!0};
b.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.m.A.cf(f)||(h.m.A.pq(f)?d=Math.max(d,f.xm):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Am=this.xm=d;this.Xf=this.width};b.iw=function(){return!1};b.Wk=function(){return!1};h.m.De=function(a){h.m.De.v.constructor.call(this,a);this.type|=h.m.A.Mr;this.gq=!1;this.connection=null;this.tp=this.Mt=0};h.g.object.U(h.m.De,h.m.ej);b=h.m.De.prototype;
b.gn=function(a){return!!a.F||!!t(a)};b.hn=function(){return!0};b.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.m.A.cf(f)||(h.m.A.il(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Mt=d;this.Xf=this.width};b.iw=function(){return!1};b.Wk=function(){return!1};
h.m.mp=function(a,c,d){h.m.mp.v.constructor.call(this,a);this.type=this.type|h.m.A.Ms|h.m.A.Jw;this.width=d;this.height=c;this.Tm=!1;this.Xf=0;this.elements=[new h.m.Ph(this.u,d)]};h.g.object.U(h.m.mp,h.m.ej);h.m.mp.prototype.measure=function(){};h.m.Ak=function(a){h.m.Ak.v.constructor.call(this,a);this.type|=h.m.A.wx;this.az=0};h.g.object.U(h.m.Ak,h.m.ej);
h.m.Ak.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.m.A.tq(d)&&(h.m.A.xq(d)?a+=d.Gm:h.m.A.FA(d)&&0!=d.Gm&&(a+=d.Gm-d.fh)),h.m.A.cf(d)||(this.height=Math.max(this.height,d.height));this.az=a;this.Xf=this.width+a};h.m.Ak.prototype.Wk=function(){return!this.fn&&!this.Kc};h.m.He=function(a,c){this.O=c;this.xb=a;this.u=this.xb.u;this.F=c.F?new h.m.Bs(this.u,c.F):null;this.rn=Lb(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.xh=c.xh();this.J=c.J;this.Il=this.width=this.Og=this.height=0;this.rows=[];this.AA=1;this.uA=[];this.$b=new h.m.Ie(this.u);this.ec=new h.m.De(this.u);this.hw=this.Rf=0};b=h.m.He.prototype;b.measure=function(){Id(this);Jd(this);Kd(this);Ld(this);Md(this);this.Qp()};
function Id(a){var c=!!a.O.Z,d=(a.O.af?"cap"===a.O.af:a.u.Hr)&&!a.F&&!c;a.$b.gn(a.O)?a.$b.elements.push(new h.m.Kk(a.u)):a.$b.elements.push(new h.m.Gk(a.u));d?(c=new h.m.ls(a.u),a.$b.elements.push(c),a.$b.Am=c.xm):c&&(a.$b.hq=!0,a.$b.connection=new h.m.Es(a.u,a.O.Z),a.$b.elements.push(a.$b.connection));a.O.N.length&&a.O.N[0].type==h.bb&&!a.O.isCollapsed()?a.$b.minHeight=a.u.qy:a.$b.minHeight=a.u.py;a.$b.hn(a.O)?a.$b.elements.push(new h.m.Kk(a.u,"right")):a.$b.elements.push(new h.m.Gk(a.u,"right"));
a.rows.push(a.$b);c=new h.m.Ak(a.u);var e=Qb(a.O);if(e.length){d=0;for(var f;f=e[d];d++){var g=new h.m.Rd(a.u,f);a.isCollapsed&&f.Xy?a.uA.push(g):c.elements.push(g)}}f=null;for(d=0;e=a.O.N[d];d++)if(e.isVisible()){a.LB(e,f)&&(a.rows.push(c),c=new h.m.Ak(a.u),a.AA++);for(f=0;g=e.Ua[f];f++)c.elements.push(new h.m.ke(a.u,g,e));a.Jy(e,c);f=e}a.isCollapsed&&(c.qA=!0,c.elements.push(new h.m.os(a.u)));(c.elements.length||c.fq)&&a.rows.push(c);a.ec.gq=!!a.O.V;a.ec.minHeight=a.O.N.length&&a.O.N[a.O.N.length-
1].type==h.bb?a.u.Mw:a.u.Nw;a.ec.gn(a.O)?a.ec.elements.push(new h.m.Kk(a.u)):a.ec.elements.push(new h.m.Gk(a.u));a.ec.gq&&(a.ec.connection=new h.m.xs(a.u,a.O.V),a.ec.elements.push(a.ec.connection));a.ec.hn(a.O)?a.ec.elements.push(new h.m.Kk(a.u,"right")):a.ec.elements.push(new h.m.Gk(a.u,"right"));a.rows.push(a.ec)}
b.Jy=function(a,c){this.rn&&a.type==h.Ta?(c.elements.push(new h.m.Xo(this.u,a)),c.pA=!0):a.type==h.bb?(c.elements.push(new h.m.Uh(this.u,a)),c.Kc=!0):a.type==h.Ta?(c.elements.push(new h.m.Po(this.u,a)),c.fn=!0):a.type==h.mf&&(c.minHeight=Math.max(c.minHeight,a.P()&&a.P().Ma?this.u.Vr:this.u.No),c.fq=!0);null==c.align&&(c.align=a.align)};b.LB=function(a,c){return c?a.type==h.bb||c.type==h.bb?!0:a.type==h.Ta||a.type==h.mf?!this.rn:!1:!1};
function Jd(a){for(var c=0,d;d=a.rows[c];c++){var e=d.elements;d.elements=[];d.iw()&&d.elements.push(new h.m.Ph(a.u,a.Xp(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++)d.elements.push(e[f]),d.elements.push(new h.m.Ph(a.u,a.Xp(e[f],e[f+1])));d.elements.push(e[e.length-1]);d.Wk()&&d.elements.push(new h.m.Ph(a.u,a.Xp(e[e.length-1],null)))}}}
b.Xp=function(a,c){if(!a&&c&&h.m.A.xq(c))return this.u.Ss;if(a&&h.m.A.tq(a)&&!c){if(h.m.A.FA(a))return this.u.Rh;if(h.m.A.rq(a))return this.u.am;if(h.m.A.xq(a))return this.u.Rh}return a&&h.m.A.Pu(a)&&c&&(h.m.A.wq(c)||h.m.A.il(c))?c.Nf:a&&h.m.A.uq(a)&&c&&(h.m.A.wq(c)||h.m.A.il(c))?c.Nf-this.u.sb:this.u.dg};
function Ld(a){for(var c=0,d=0,e=0,f=0,g;g=a.rows[f];f++)g.measure(),d=Math.max(d,g.width),g.Kc&&(c=Math.max(c,g.width-Hd(g).width)),e=Math.max(e,g.Xf);a.Il=c;a.width=d;for(f=0;g=a.rows[f];f++)g.Kc&&(g.Il=a.Il);a.Og=Math.max(d,e);a.F&&(a.Rf=a.F.width,a.width+=a.F.width,a.Og+=a.F.width)}
function Md(a){for(var c=0,d;d=a.rows[c];c++)if(d.Kc){var e=a,f=Hd(d),g=d.width-f.width,k=e.Il;g=k-g;0<g&&e.qp(d,g);g=d.width;k=e.Wp(d);f.width+=k-g;f.height=Math.max(f.height,d.height);d.width+=k-g;d.Xf=Math.max(d.width,e.Il+d.az)}else e=a.Wp(d)-d.width,0<e&&a.qp(d,e)}b.Wp=function(){return this.width-this.Rf};
b.qp=function(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.m.A.cf(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.m.A.cf(f)){e=f;break a}e=null}if(a.fn||a.Kc)a.Xf+=c;a.align==h.wo?e.width+=c:a.align==h.Ir?(d.width+=c/2,e.width+=c/2):a.align==h.nk?d.width+=c:e.width+=c;a.width+=c};function Kd(a){var c=a.rows;a.rows=[];for(var d=0;d<c.length;d++)a.rows.push(c[d]),d!=c.length-1&&a.rows.push(Nd(a,c[d],c[d+1]))}
function Nd(a,c,d){a=new h.m.mp(a.u,a.eA(c,d),a.fA(c,d));c.Kc&&(a.Tm=!0);d.Kc&&(a.Ln=!0);return a}b.fA=function(){return this.width-this.Rf};b.eA=function(){return this.u.dg};b.qu=function(a,c){return h.m.A.cf(c)?a.Yf+c.height/2:h.m.A.lq(a)?(a=a.Yf+a.height-a.Mt,h.m.A.il(c)?a+c.height/2:a-c.height/2):h.m.A.zq(a)?h.m.A.pq(c)?a.Am-c.height/2:a.Am+c.height/2:a.Yf+a.height/2};
b.Qp=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Yf=c;e.Nb=this.Rf;c+=e.height;a=Math.max(a,e.Xf);for(var f=e,g=f.Nb,k=0;e=f.elements[k];k++)h.m.A.cf(e)&&(e.height=f.height),e.Nb=g,e.Qk=this.qu(f,e),g+=e.width}this.F&&this.O.V&&this.O.V.isConnected()&&(a=Math.max(a,G(this.O.V.ga()).width));this.Og=Math.max(this.Og,a+this.Rf);this.height=c;this.hw=this.$b.Am;this.ec.tp=c-this.ec.Mt};h.m.Ug=function(a,c){this.O=a;this.Fa=c;a.Va();this.kq=this.la="";this.u=c.xb.u};b=h.m.Ug.prototype;b.draw=function(){Od(this);this.Np();Pd(this);this.O.wb.nr(this.la+"\n"+this.kq);this.Fa.J&&this.O.wb.Rp();h.m.qo&&this.O.Lv.FF(this.O,this.Fa);Qd(this)};function Qd(a){a.O.height=a.Fa.height;a.O.width=a.Fa.Og}function Od(a){for(var c=0,d;d=a.Fa.uA[c];c++)d.icon.ae.setAttribute("display","none")}
b.Np=function(){var a=this.Fa.$b,c=a.elements;Rd(this);this.la+=h.g.C.moveBy(a.Nb,this.Fa.hw);for(var d=0,e;e=c[d];d++)h.m.A.uq(e)?this.la+=this.u.jm.rI:h.m.A.IA(e)?this.la+=this.u.jm.sI:h.m.A.wq(e)?this.la+=e.shape.Jn:h.m.A.pq(e)?this.la+=this.u.Ps.path:h.m.A.cf(e)&&(this.la+=h.g.C.pa("h",e.width));this.la+=h.g.C.pa("v",a.height);for(a=1;a<this.Fa.rows.length-1;a++)if(c=this.Fa.rows[a],c.qA)this.la+=this.u.Zo.path+h.g.C.pa("v",c.height-this.u.Zo.height);else if(c.Kc)this.Iz(c);else if(c.fn){d=Hd(c);
e=Hd(c);if(e.bi){var f=c.Nb+c.width;this.Fa.J&&(f*=-1);Qc(e.bi,f,c.Yf)}e="function"==typeof d.shape.Cg?d.shape.Cg(d.height):d.shape.Cg;this.la+=h.g.C.pa("H",d.Nb+d.width)+e+h.g.C.pa("v",c.height-d.Fp)}else this.Hz(c);a=this.Fa.ec;c=a.elements;Sd(this);d=0;e="";f=c.length-1;for(var g;g=c[f];f--)h.m.A.il(g)?e+=g.shape.Xq:h.m.A.Pu(g)?e+=h.g.C.pa("H",a.Nb):h.m.A.uq(g)?e+=this.u.jm.GE:h.m.A.IA(g)?(e+=this.u.jm.HE,d=this.u.jm.jr):h.m.A.cf(g)&&(e+=h.g.C.pa("h",-1*g.width));this.la+=h.g.C.pa("V",a.tp-d);
this.la+=e;c=this.Fa.F;Td(this);c&&(a=c.re+c.height,c="function"==typeof c.shape.Di?c.shape.Di(c.height):c.shape.Di,this.la+=h.g.C.pa("V",a)+c);this.la+="z"};b.Iz=function(a){var c=Hd(a);this.la+=h.g.C.pa("H",c.Nb+c.Nf+c.shape.width)+(c.shape.Xq+h.g.C.pa("h",-(c.Nf-this.u.Bd.width))+this.u.Bd.Cv)+h.g.C.pa("v",a.height-2*this.u.Bd.height)+this.u.Bd.Bv+h.g.C.pa("H",a.Nb+a.width);Ud(this,a)};b.Hz=function(a){this.la+=h.g.C.pa("V",a.Yf+a.height)};
function Pd(a){for(var c=0,d;d=a.Fa.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.m.A.rq(f))a.Gz(f);else if(h.m.A.qq(f)||h.m.A.hl(f)){var g=a;if(h.m.A.hl(f))var k=f.vj.Oa();else h.m.A.qq(f)&&(k=f.icon.ae);var l=f.Qk-f.height/2,m=f.Nb,n="";g.Fa.J&&(m=-(m+f.width),f.QF&&(m+=f.width,n="scale(-1 1)"));h.m.A.qq(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),Qa(f.icon)):k.setAttribute("transform","translate("+m+","+l+")"+n);g.Fa.xh&&k.setAttribute("display",
"none")}}b.Gz=function(a){var c=a.width,d=a.height,e=a.re,f=a.Fp+e;this.kq+=h.g.C.moveTo(a.Nb+a.fh,a.Qk-d/2)+h.g.C.pa("v",e)+a.shape.Cg+h.g.C.pa("v",d-f)+h.g.C.pa("h",c-a.fh)+h.g.C.pa("v",-d)+"z";Vd(this,a)};function Vd(a,c){var d=c.Qk-c.height/2;if(c.bi){var e=c.Nb+c.fh+c.qg;a.Fa.J&&(e*=-1);Qc(c.bi,e,d+c.re)}}function Ud(a,c){var d=Hd(c);if(d.bi){var e=c.Nb+c.Il+d.Nf;a.Fa.J&&(e*=-1);Qc(d.bi,e,c.Yf)}}
function Rd(a){var c=a.Fa.$b;if(c.connection){var d=c.Nb+c.Nf;Qc(c.connection.bi,a.Fa.J?-d:d,0)}}function Sd(a){var c=a.Fa.ec;if(c.connection){var d=c.connection,e=d.Nb;Qc(d.bi,a.Fa.J?-e:e,c.tp)}}function Td(a){if(a.Fa.F){var c=a.Fa.Rf+a.Fa.F.qg;Qc(a.O.F,a.Fa.J?-c:c,a.Fa.F.re)}};h.m.tf=function(a,c,d){this.u=d;this.Jh=a;this.Sc=h.g.o.G("path",{"class":"blocklyPath"},this.Jh);this.style=c;this.ef=this.se=null};b=h.m.tf.prototype;b.nr=function(a){this.Sc.setAttribute("d",a)};b.Rp=function(){this.Sc.setAttribute("transform","scale(-1 1)")};b.Fh=function(a){a?(this.Jh.appendChild(a),this.se=a):this.se=null};b.Gh=function(a){a?(this.se?this.Jh.insertBefore(a,this.se):this.Jh.appendChild(a),this.ef=a):this.ef=null};
b.bc=function(a){this.Sc.setAttribute("stroke",this.style.Af);this.Sc.setAttribute("fill",this.style.lj);a.Ma&&(this.Sc.setAttribute("stroke","none"),this.Sc.setAttribute("fill",this.style.Yy));a=!a.isEnabled()||xc(a);Yc(this,"blocklyDisabled",a);a&&this.Sc.setAttribute("fill","url(#"+this.u.yz+")")};b.Rb=function(a){this.style=a};function Yc(a,c,d){d?h.g.o.Xa(a.Jh,c):h.g.o.Eb(a.Jh,c)}b.sw=function(a){Yc(this,"blocklySelected",a)};b.rw=function(a){Yc(this,"blocklyReplaceable",a)};b.tw=function(){};h.m.dj=function(a){this.name=a;this.u=null};b=h.m.dj.prototype;b.S=function(){this.u=this.OA();this.u.S()};b.OA=function(){return new h.m.kf};b.TA=function(a){return new h.m.He(this,a)};b.PA=function(a,c){return new h.m.Ug(a,c)};b.bv=function(a,c){return new h.m.kc(a,this.u,c)};b.SA=function(a,c){return new h.m.tf(a,c,this.u)};b.cw=function(){return!0};b.KB=function(a,c){return!c.isConnected()||!!h.ta.KA(a,c.ea.P())};
b.Ba=function(a){if(h.m.qo&&!a.Lv){if(!h.m.VC)throw Error("Missing require for Blockly.blockRendering.Debug");var c=new h.m.VC;a.Lv=c}c=this.TA(a);c.measure();this.PA(a,c).draw()};h.W={};
h.W.kf=function(){h.W.kf.v.constructor.call(this);this.eg=this.Ka=4;this.dg=2*this.Ka;this.am=4*this.Ka;this.sb=1*this.Ka;this.ep=9*this.Ka;this.Dk=2*this.Ka;this.kp=this.Qh=3*this.Ka;this.Ix=2*this.Ka;this.ap=12*this.Ka;this.Wr=6*this.Ka;this.fj=0;this.py=this.Ka;this.qy=this.am;this.Nw=this.Ka;this.Mw=6*this.Ka;this.ky=-this.Dk;this.cE=40*this.Ka;this.Ss=4*this.Ka;this.ex=4*this.Ka;this.bx=8*this.Ka;this.No=8*this.Ka;this.Vr=6*this.Ka;this.Tl=20*this.Ka;this.Sw="#ffa200";this.Tw=5;this.Ex=this.Dx=
0;this.Qs=22;this.Rs=96;this.oe={xk:1,ip:2,jy:3,Ux:4,Ck:5};this.iy={1:{0:5*this.Ka,1:2*this.Ka,2:5*this.Ka,3:5*this.Ka},2:{0:3*this.Ka,1:3*this.Ka,2:1*this.Ka,3:2*this.Ka},3:{0:2*this.Ka,1:2*this.Ka,2:2*this.Ka,3:2*this.Ka}};this.ks=!0;this.Zi=3*this.Ka;this.Oh="bold";this.Vg='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif';this.hs=this.Wl=13.1;this.fs=this.sb;this.nf=2*this.Ka;this.ds=8*this.Ka;this.gs=8*this.Ka;this.lx=this.kx=this.Qo=!0;this.mx=this.nf;this.nx=!0;this.js=h.g.userAgent.FC?
-.45:0;this.ix=this.nf-3;this.jx=22;this.hx=6*this.Ka;this.vA="";this.Fu=null;this.Mv=""};h.g.object.U(h.W.kf,h.m.kf);b=h.W.kf.prototype;b.S=function(){h.W.kf.v.S.call(this);this.xk=Wd(this);this.by=Xd(this);this.bE=Yd(this);this.kp+=this.Bd.FB};b.H=function(){h.W.kf.v.H.call(this);this.Fu&&h.g.o.removeNode(this.Fu)};b.UA=function(){var a=this.Qs,c=this.Rs,d=h.g.C.curve("c",[h.g.C.va(25,-a),h.g.C.va(71,-a),h.g.C.va(c,0)]);return{height:a,width:c,path:d}};
function Wd(a){function c(d,e,f){var g=d/2;f=f?-1:1;d=(e?-1:1)*d/2;return h.g.C.lineTo(-f*g,d)+h.g.C.lineTo(f*g,d)}return{type:a.oe.xk,EA:!0,width:function(d){return d/2},height:function(d){return d},re:function(d){return d/2},qg:function(d){return-d},Cg:function(d){return c(d,!1,!1)},Di:function(d){return c(d,!0,!1)},Yq:function(d){return c(d,!1,!0)},sB:function(d){return c(d,!1,!0)}}}
function Xd(a){function c(d,e,f){d/=2;return h.g.C.arc("a","0 0 "+(e||f?1:0),d,h.g.C.va(0,(e?-1:1)*d*2))}return{type:a.oe.ip,EA:!0,width:function(d){return d/2},height:function(d){return d},re:function(d){return d/2},qg:function(d){return-d},Cg:function(d){return c(d,!1,!1)},Di:function(d){return c(d,!0,!1)},Yq:function(d){return c(d,!1,!0)},sB:function(d){return c(d,!1,!0)}}}
function Yd(a){function c(e,f,g){e-=2*d;return h.g.C.arc("a","0 0,1",d,h.g.C.va((f?-1:1)*d,(f?-1:1)*d))+h.g.C.pa("v",(g?1:-1)*e)+h.g.C.arc("a","0 0,1",d,h.g.C.va((f?1:-1)*d,(f?-1:1)*d))}var d=a.sb;return{type:a.oe.jy,EA:!0,width:function(){return d},height:function(e){return e},re:function(e){return e/2},qg:function(e){return-e},Cg:function(e){return c(e,!1,!1)},Di:function(e){return c(e,!0,!1)},Yq:function(e){return c(e,!1,!0)},sB:function(e){return c(e,!1,!0)}}}
b.Fl=function(a){var c=a.zf;!c&&a.ea&&(c=a.ea.zf);switch(a.type){case h.Ta:case h.me:a=a.P().pB;if(null!=a)switch(a){case this.oe.xk:return this.xk;case this.oe.ip:return this.by;case this.oe.jy:return this.bE}return c&&-1!=c.indexOf("Boolean")?this.xk:this.by;case h.Ge:case h.bb:return this.Ck;default:throw Error("Unknown type");}};
b.RA=function(){function a(n){return h.g.C.curve("c",[h.g.C.va(n*f/2,0),h.g.C.va(n*f*3/4,k/2),h.g.C.va(n*f,k)])+h.g.C.line([h.g.C.va(n*f,g)])+h.g.C.curve("c",[h.g.C.va(n*f/4,k/2),h.g.C.va(n*f/2,k),h.g.C.va(n*f,k)])+h.g.C.pa("h",n*e)+h.g.C.curve("c",[h.g.C.va(n*f/2,0),h.g.C.va(n*f*3/4,-(k/2)),h.g.C.va(n*f,-k)])+h.g.C.line([h.g.C.va(n*f,-g)])+h.g.C.curve("c",[h.g.C.va(n*f/4,-(k/2)),h.g.C.va(n*f/2,-k),h.g.C.va(n*f,-k)])}var c=this.ep,d=this.Dk,e=c/3,f=e/3,g=d/2,k=g/2,l=a(1),m=a(-1);return{type:this.oe.Ck,
width:c,height:d,Jn:l,Xq:m}};b.QA=function(){var a=this.sb,c=h.g.C.arc("a","0 0,0",a,h.g.C.va(-a,a)),d=h.g.C.arc("a","0 0,1",a,h.g.C.va(-a,a)),e=h.g.C.arc("a","0 0,0",a,h.g.C.va(a,a)),f=h.g.C.arc("a","0 0,1",a,h.g.C.va(a,a));return{width:a,height:a,Cv:c,Bv:e,FB:a,jr:a,KH:d,JH:f}};b.Qz=function(a){return h.g.pb.up("#000",a,.15)||a};b.Rz=function(a){return h.g.pb.up("#000",a,.25)||a};
b.Ha=function(a){h.W.kf.v.Ha.call(this,a);a=h.g.o.G("defs",{},a);var c=h.g.o.G("filter",{id:"blocklyHighlightGlowFilter"+this.Nn,height:"160%",width:"180%",y:"-30%",x:"-40%"},a);h.g.o.G("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:.5},c);var d=h.g.o.G("feComponentTransfer",{result:"outBlur"},c);h.g.o.G("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},d);h.g.o.G("feFlood",{"flood-color":"#fff200","flood-opacity":1,result:"outColor"},c);h.g.o.G("feComposite",{"in":"outColor",
in2:"outBlur",operator:"in",result:"outGlow"},c);this.vA=c.id;this.Fu=c;a=h.g.o.G("filter",{id:"blocklyReplacementGlowFilter"+this.Nn,height:"160%",width:"180%",y:"-30%",x:"-40%"},a);h.g.o.G("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:2},a);c=h.g.o.G("feComponentTransfer",{result:"outBlur"},a);h.g.o.G("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c);h.g.o.G("feFlood",{"flood-color":"#fff200","flood-opacity":1,result:"outColor"},a);h.g.o.G("feComposite",{"in":"outColor",
in2:"outBlur",operator:"in",result:"outGlow"},a);h.g.o.G("feComposite",{"in":"SourceGraphic",in2:"outGlow",operator:"over"},a);this.Mv=a.id};
b.Uz=function(a){a="."+a+"-renderer";return[a+" .blocklyText {","fill: #fff;","font-family: "+this.Vg+";","font-size: "+this.Zi+"pt;","font-weight: "+this.Oh+";","}",a+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",a+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.bs+";","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text,",a+" .blocklyNonEditableText>g>text,",a+" .blocklyEditableText>g>text {","fill: #575E75;","}",a+" .blocklyDraggable:not(.blocklyDisabled)",
" .blocklyEditableText:not(.editing):hover>rect ,",a+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Vg+";","font-weight: "+this.Oh+";","color: #575E75;","}",a+" .blocklyDropdownText {","fill: #fff !important;","}",a+".blocklyWidgetDiv .goog-menuitem,",a+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.Vg+";","}",a+".blocklyDropDownDiv .goog-menuitem-content {",
"color: #fff;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fff200;","}",a+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.Nn+")","}"]};h.W.Ie=function(a){h.W.Ie.v.constructor.call(this,a)};h.g.object.U(h.W.Ie,h.m.Ie);h.W.Ie.prototype.Wk=function(){return!1};h.W.Ie.prototype.gn=function(a){var c=(a.af?"cap"===a.af:this.u.Hr)&&!a.F&&!a.Z;return!!a.F||c};h.W.Ie.prototype.hn=function(a){return!!a.F};h.W.De=function(a){h.W.De.v.constructor.call(this,a)};h.g.object.U(h.W.De,h.m.De);h.W.De.prototype.Wk=function(){return!1};h.W.De.prototype.gn=function(a){return!!a.F};h.W.De.prototype.hn=function(a){return!!a.F};h.W.Ks=function(a){h.W.Ks.v.constructor.call(this,a);this.type|=h.m.A.hb("RIGHT_CONNECTION");this.width=this.height=0};h.g.object.U(h.W.Ks,h.m.Wg);/*

 Copyright 2020 Google LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
h.W.Uh=function(a,c){h.W.Uh.v.constructor.call(this,a,c);if(this.Xd){for(a=this.Xd;t(a);)a=t(a);a.V||(this.height=this.Fm,this.bF=!0)}};h.g.object.U(h.W.Uh,h.m.Uh);h.W.He=function(a,c){h.W.He.v.constructor.call(this,a,c);this.$b=new h.W.Ie(this.u);this.ec=new h.W.De(this.u);this.rn=!0;this.GA=!Lb(c)||c.isCollapsed();this.Bl=this.F?new h.W.Ks(this.u):null};h.g.object.U(h.W.He,h.m.He);b=h.W.He.prototype;
b.measure=function(){Id(this);Jd(this);Kd(this);for(var a=this.u.Qh+this.u.ep,c=a,d=2;d<this.rows.length-1;d+=2){var e=this.rows[d-1],f=this.rows[d],g=this.rows[d+1];e=2==d?!!this.$b.hq:!!e.Tm;g=d+2>=this.rows.length-1?!!this.ec.gq:!!g.Ln;if(h.m.A.Lj(f)&&f.Kc)f.measure(),c=f.width-Hd(f).width+a;else if(e&&(2==d||g)&&h.m.A.Lj(f)&&!f.Kc){g=f.Nb;e=null;for(var k=0,l;l=f.elements[k];k++)h.m.A.cf(l)&&(e=l),!(e&&(h.m.A.hl(l)||h.m.A.tq(l))&&g<c)||h.m.A.hl(l)&&(l.vj instanceof h.ld||l.vj instanceof h.bD)||
(e.width+=c-g),g+=l.width}}Ld(this);Md(this);this.Qp()};b.LB=function(a,c){return c?a.type==h.bb||c.type==h.bb?!0:a.type==h.Ta||a.type==h.mf?!this.rn||this.GA:!1:!1};b.Wp=function(a){return a.Kc?this.width-this.Rf-(this.u.Bd.FB||0):h.W.He.v.Wp.call(this,a)};b.Xp=function(a,c){return a&&c||!this.F||!this.F.xg?!a&&c&&h.m.A.xq(c)?this.u.Ss:a&&h.m.A.uq(a)&&c&&(h.m.A.wq(c)||h.m.A.il(c))?c.Nf-this.u.sb:a&&h.m.A.Pu(a)&&c&&h.m.A.pq(c)?this.u.Rh:this.u.dg:this.u.Rh};
b.eA=function(a,c){if(h.m.A.zq(a)&&h.m.A.lq(c))return this.u.WC;var d=h.m.A.Lj(a)&&a.Kc,e=h.m.A.Lj(c)&&c.Kc;return e||d?(a=Math.max(this.u.dg,Math.max(this.u.Dk,this.u.Bd.jr||0)),e&&d?Math.max(a,this.u.No):a):h.m.A.zq(a)?a.hq||this.F?this.u.Rh:this.u.eg:h.m.A.lq(c)?this.F?this.u.Rh:this.u.eg:this.u.dg};b.fA=function(a,c){var d=this.width-this.Rf;return h.m.A.Lj(a)&&a.Kc||h.m.A.Lj(c)&&c.Kc?Math.max(d,this.u.cE):d};
b.qu=function(a,c){return a.Kc&&!h.m.A.cf(c)?a.Yf+this.u.Wr/2:h.W.He.v.qu.call(this,a,c)};b.Jy=function(a,c){a.type==h.mf&&c.fq&&c.align==h.wo&&a.align==h.nk&&(c.DB=a);this.rn&&a.type==h.Ta?(c.elements.push(new h.m.Xo(this.u,a)),c.pA=!0):a.type==h.bb?(c.elements.push(new h.W.Uh(this.u,a)),c.Kc=!0):a.type==h.Ta?(c.elements.push(new h.m.Po(this.u,a)),c.fn=!0):a.type==h.mf&&(c.minHeight=Math.max(c.minHeight,a.P()&&a.P().Ma?this.u.Vr:this.u.No),c.fq=!0);null==c.align&&(c.align=a.align)};
b.qp=function(a,c){if(a.DB){for(var d,e=0,f;(f=a.elements[e])&&(h.m.A.cf(f)&&(d=f),!h.m.A.hl(f)||f.EH!=a.DB);e++);if(d){d.width+=c;a.width+=c;return}}h.W.He.v.qp.call(this,a,c)};
function Zd(a,c){if(!c)return 0;var d=a.F.width,e=a.F.shape.type,f=a.u;if(a.GA&&1<a.AA)switch(e){case f.oe.ip:return e=a.height/2,d-e*(1-Math.sin(Math.acos((e-a.u.eg)/e)));default:return 0}return h.m.A.rq(c)?(c=c.Xd?c.Xd.wb.oB:c.shape.type,e==f.oe.xk&&e!=c?0:d-a.u.iy[e][c]):h.m.A.hl(c)?e==f.oe.ip&&c.vj instanceof h.Ob?d-2.75*f.Ka:d-a.u.iy[e][0]:h.m.A.qq(c)?a.u.eg:0}
b.Qp=function(){if(this.F&&this.F.xg){for(var a=0,c=0,d;d=this.rows[c];c++)d.Yf=a,a+=d.height;this.height=a;c=this.F.shape.height(a);a=this.F.shape.width(a);this.F.height=c;this.F.width=a;this.F.Rf=a;this.F.re=this.F.shape.re(c);this.F.qg=this.F.shape.qg(a);this.Bl.height=c;this.Bl.width=a;this.Bl.Qk=c/2;this.Bl.Nb=this.width+a;this.Rf=a;this.width+=2*a;this.Og+=2*a}if(this.F){for(c=a=0;d=this.rows[c];c++)if(h.m.A.Lj(d)){var e=Zd(this,d.elements[1]),f=Zd(this,d.elements[d.elements.length-2]);a=e+
f;var g=this.u.Ix+2*this.F.width;this.width-a<g&&(a=this.width-g,e=a/2,f=a/2);d.elements.unshift(new h.m.Ph(this.u,-e));d.elements.push(new h.m.Ph(this.u,-f))}if(a)for(this.width-=a,this.Og-=a,this.Bl.Nb-=a,c=0;d=this.rows[c];c++){if(h.m.A.zq(d)||h.m.A.lq(d))d.elements[1].width-=a;d.width-=a;d.Xf-=a}}if(!this.F)for(a=2;a<this.rows.length-1;a+=2)if(c=this.rows[a-1],d=this.rows[a],e=this.rows[a+1],f=2==a,g=a+2>=this.rows.length-1?!!this.ec.gq:!!e.Ln,f?this.$b.hq:c.Tm){var k=3==d.elements.length&&(d.elements[1].vj instanceof
h.ld||d.elements[1].vj instanceof h.bD);if(!f&&k)c.height-=this.u.eg,e.height-=this.u.eg,d.height-=this.u.dg;else if(!f&&!g)c.height+=this.u.eg;else if(g){f=!1;for(g=0;k=d.elements[g];g++)if(h.m.A.rq(k)&&k.Xd&&!k.Xd.Ma&&40<=G(k.Xd).height){f=!0;break}f&&(c.height-=this.u.eg,e.height-=this.u.eg)}}h.W.He.v.Qp.call(this)};h.W.Ug=function(a,c){h.W.Ug.v.constructor.call(this,a,c)};h.g.object.U(h.W.Ug,h.m.Ug);b=h.W.Ug.prototype;b.draw=function(){var a=this.O.wb;a.Yj={};for(var c=0,d=Object.keys(a.Of),e;e=d[c];c++)a.Yj[e]=1;Od(this);this.Np();Pd(this);a.nr(this.la+"\n"+this.kq);this.Fa.J&&a.Rp();h.m.qo&&this.O.Lv.FF(this.O,this.Fa);Qd(this);this.Fa.F&&(a.oB=this.Fa.F.shape.type);if(a.Yj){c=0;d=Object.keys(a.Yj);for(var f;f=d[c];c++)e=a,e.Of[f].parentNode.removeChild(e.Of[f]),delete e.Of[f]}a.Yj=null};
b.Np=function(){if(this.Fa.F&&this.Fa.F.xg){var a=this.Fa.$b;Rd(this);this.la+=h.g.C.moveBy(a.Nb,this.Fa.hw);this.la+=h.g.C.pa("h",a.width);this.la+=this.Fa.F.shape.Yq(this.Fa.F.height);a=this.Fa.ec;Sd(this);this.la+=h.g.C.pa("V",a.tp);this.la+=h.g.C.pa("h",-a.width);Td(this);this.la+=this.Fa.F.shape.Di(this.Fa.F.height);this.la+="z"}else h.W.Ug.v.Np.call(this)};
b.Hz=function(a){if(!(0>=a.height))if(a.Ln||a.Tm){var c=this.u.Bd.jr;c=a.height-(a.Ln?c:0);this.la+=(a.Tm?this.u.Bd.JH:"")+(0<c?h.g.C.pa("V",a.Yf+c):"")+(a.Ln?this.u.Bd.KH:"")}else this.la+=h.g.C.pa("V",a.Yf+a.height)};b.Gz=function(a){Vd(this,a);var c=a.input.name;if(!a.Xd&&!this.Fa.xh){var d=a.width-2*a.fh;a=h.g.C.moveTo(a.Nb+a.fh,a.Qk-a.height/2)+h.g.C.pa("h",d)+a.shape.Yq(a.height)+h.g.C.pa("h",-d)+a.shape.Di(a.height)+"z";d=this.O.wb;c=$d(d,c);c.setAttribute("d",a);c.setAttribute("fill",d.style.Af)}};
b.Iz=function(a){var c=Hd(a);this.la+=h.g.C.pa("H",c.Nb+c.Nf+c.shape.width)+(c.shape.Xq+h.g.C.pa("h",-(c.Nf-this.u.Bd.width))+this.u.Bd.Cv)+h.g.C.pa("v",a.height-2*this.u.Bd.height)+(this.u.Bd.Bv+h.g.C.pa("h",c.Nf-this.u.Bd.width)+(c.bF?"":c.shape.Jn))+h.g.C.pa("H",a.Nb+a.width);Ud(this,a)};h.W.tf=function(a,c,d){h.W.tf.v.constructor.call(this,a,c,d);this.u=d;this.Lg=null;this.Of={};this.oB=this.Yj=null};h.g.object.U(h.W.tf,h.m.tf);b=h.W.tf.prototype;b.nr=function(a){h.W.tf.v.nr.call(this,a);this.Lg&&this.Lg.setAttribute("d",a)};b.bc=function(a){h.W.tf.v.bc.call(this,a);a.Ma&&a.getParent()&&this.Sc.setAttribute("stroke",a.getParent().style.Af);a=0;for(var c=Object.keys(this.Of),d;d=c[a];a++)this.Of[d].setAttribute("fill",this.style.Af)};
b.Rp=function(){h.W.tf.v.Rp.call(this);for(var a=0,c=Object.keys(this.Of),d;d=c[a];a++)this.Of[d].setAttribute("transform","scale(-1 1)")};b.sw=function(a){Yc(this,"blocklySelected",a);a?this.Lg||(this.Lg=this.Sc.cloneNode(!0),this.Lg.setAttribute("fill","none"),this.Lg.setAttribute("filter","url(#"+this.u.vA+")"),this.Jh.appendChild(this.Lg)):this.Lg&&(this.Jh.removeChild(this.Lg),this.Lg=null)};
b.rw=function(a){Yc(this,"blocklyReplaceable",a);a?this.Sc.setAttribute("filter","url(#"+this.u.Mv+")"):this.Sc.removeAttribute("filter")};b.tw=function(a,c){(a=$d(this,a.If().name))&&(c?a.setAttribute("filter","url(#"+this.u.Mv+")"):a.removeAttribute("filter"))};function $d(a,c){a.Of[c]||(a.Of[c]=h.g.o.G("path",{"class":"blocklyOutlinePath",d:""},a.Jh));a.Yj&&delete a.Yj[c];return a.Of[c]};h.W.kc=function(a,c,d){h.W.kc.v.constructor.call(this,a,c,d)};h.g.object.U(h.W.kc,h.m.kc);h.W.kc.prototype.ew=function(a){var c=a.P();a=a.oa.zi;var d=a.y+this.u.Tw;this.zn.setAttribute("cx",a.x);this.zn.setAttribute("cy",d);this.pj=this.zn;Bd(this,c);Dd(this)};h.W.kc.prototype.dw=function(a){var c=!1;if(a.hb()==h.B.types.Th)this.ew(a),c=!0;else if(a.hb()==h.B.types.Pd){c=a.oa;var d=G(c);Fd(this,0,0,d.width,d.height);Bd(this,c);Dd(this);c=!0}c||h.W.kc.v.dw.call(this,a)};
h.W.kc.prototype.Aa=function(){h.W.kc.v.Aa.call(this);this.zn.style.display="none"};h.W.kc.prototype.Ft=function(){h.W.kc.v.Ft.call(this);this.zn=h.g.o.G("circle",{r:this.u.Tw,style:"display: none",fill:this.Ne,stroke:this.Ne,"stroke-width":this.u.Uw},this.ef);Ad(this)&&h.g.o.G("animate",Gd(this),this.zn)};h.W.dj=function(a){h.W.dj.v.constructor.call(this,a)};h.g.object.U(h.W.dj,h.m.dj);b=h.W.dj.prototype;b.OA=function(){return new h.W.kf};b.TA=function(a){return new h.W.He(this,a)};b.PA=function(a,c){return new h.W.Ug(a,c)};b.bv=function(a,c){return new h.W.kc(a,this.u,c)};b.SA=function(a,c){return new h.W.tf(a,c,this.u)};b.cw=function(a){return a.type!=h.Ta&&a.type!==h.me};b.KB=function(){return!1};h.m.register("zelos",h.W.dj);
var ae={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fo:"F\u00f8royskt",
fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",
pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",
yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},be="ace ar fa he mzn ps ur".split(" "),ce=window.BlocklyGamesLang,de=window.BlocklyGamesLanguages,ee=/\.html$/.test(window.location.pathname),N,fe=Number,ge,he=window.location.search.match(/[?&]level=([^&]+)/);ge=he?decodeURIComponent(he[1].replace(/\+/g,"%20")):"NaN";var ie=fe(ge);N=isNaN(ie)?1:h.g.oc.Me(1,ie,10);
function je(){document.title=document.getElementById("title").textContent;document.dir=-1!=be.indexOf(ce)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",ce);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<de.length;d++){var e=de[d];c.push([ae[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==ce&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(d=1;10>=d;d++)a=document.getElementById("level"+d),c=!!ke(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(le,1)}function ke(a){try{var c=window.localStorage["genetics"+a]}catch(d){}return c}function O(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function me(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)}
function le(){if(!ee){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.h.ADD_COMMENT="Add Comment";h.h.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.h.CHANGE_VALUE_TITLE="Change value:";h.h.CLEAN_UP="Clean up Blocks";h.h.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";h.h.COLLAPSE_ALL="Collapse Blocks";h.h.COLLAPSE_BLOCK="Collapse Block";h.h.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";
h.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";h.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";h.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";h.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";h.h.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";h.h.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";
h.h.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";h.h.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";h.h.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";h.h.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";h.h.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";
h.h.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";h.h.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";h.h.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";h.h.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";h.h.CONTROLS_IF_MSG_ELSE="else";h.h.CONTROLS_IF_MSG_ELSEIF="else if";h.h.CONTROLS_IF_MSG_IF="if";h.h.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";
h.h.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";h.h.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";h.h.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";
h.h.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";h.h.CONTROLS_REPEAT_INPUT_DO="do";h.h.CONTROLS_REPEAT_TITLE="repeat %1 times";h.h.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";h.h.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";h.h.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";h.h.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";h.h.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";
h.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";h.h.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.h.DELETE_BLOCK="Delete Block";h.h.DELETE_VARIABLE="Delete the '%1' variable";h.h.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.h.DELETE_X_BLOCKS="Delete %1 Blocks";h.h.DISABLE_BLOCK="Disable Block";h.h.DUPLICATE_BLOCK="Duplicate";h.h.DUPLICATE_COMMENT="Duplicate Comment";h.h.ENABLE_BLOCK="Enable Block";h.h.EXPAND_ALL="Expand Blocks";
h.h.EXPAND_BLOCK="Expand Block";h.h.EXTERNAL_INPUTS="External Inputs";h.h.HELP="Help";h.h.INLINE_INPUTS="Inline Inputs";h.h.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";h.h.LISTS_CREATE_EMPTY_TITLE="create empty list";h.h.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";h.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";h.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";
h.h.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";h.h.LISTS_CREATE_WITH_INPUT_WITH="create list with";h.h.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";h.h.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";h.h.LISTS_GET_INDEX_FIRST="first";h.h.LISTS_GET_INDEX_FROM_END="# from end";h.h.LISTS_GET_INDEX_FROM_START="#";h.h.LISTS_GET_INDEX_GET="get";h.h.LISTS_GET_INDEX_GET_REMOVE="get and remove";h.h.LISTS_GET_INDEX_LAST="last";
h.h.LISTS_GET_INDEX_RANDOM="random";h.h.LISTS_GET_INDEX_REMOVE="remove";h.h.LISTS_GET_INDEX_TAIL="";h.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";
h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";
h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";h.h.LISTS_GET_SUBLIST_END_FROM_END="to # from end";h.h.LISTS_GET_SUBLIST_END_FROM_START="to #";h.h.LISTS_GET_SUBLIST_END_LAST="to last";h.h.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";h.h.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";h.h.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";
h.h.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";h.h.LISTS_GET_SUBLIST_TAIL="";h.h.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";h.h.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";h.h.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";h.h.LISTS_INDEX_OF_FIRST="find first occurrence of item";h.h.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";h.h.LISTS_INDEX_OF_LAST="find last occurrence of item";
h.h.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";h.h.LISTS_INLIST="in list";h.h.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";h.h.LISTS_ISEMPTY_TITLE="%1 is empty";h.h.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";h.h.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";h.h.LISTS_LENGTH_TITLE="length of %1";h.h.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";
h.h.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";h.h.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";h.h.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";h.h.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";h.h.LISTS_REVERSE_MESSAGE0="reverse %1";h.h.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";h.h.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";
h.h.LISTS_SET_INDEX_INPUT_TO="as";h.h.LISTS_SET_INDEX_INSERT="insert at";h.h.LISTS_SET_INDEX_SET="set";h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";h.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";
h.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";h.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";h.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";h.h.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";h.h.LISTS_SORT_ORDER_ASCENDING="ascending";h.h.LISTS_SORT_ORDER_DESCENDING="descending";h.h.LISTS_SORT_TITLE="sort %1 %2 %3";h.h.LISTS_SORT_TOOLTIP="Sort a copy of a list.";
h.h.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";h.h.LISTS_SORT_TYPE_NUMERIC="numeric";h.h.LISTS_SORT_TYPE_TEXT="alphabetic";h.h.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";h.h.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";h.h.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";h.h.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";h.h.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";
h.h.LISTS_SPLIT_WITH_DELIMITER="with delimiter";h.h.LOGIC_BOOLEAN_FALSE="false";h.h.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";h.h.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";h.h.LOGIC_BOOLEAN_TRUE="true";h.h.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";h.h.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";h.h.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";
h.h.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";h.h.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";h.h.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";h.h.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";h.h.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";
h.h.LOGIC_NEGATE_TITLE="not %1";h.h.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";h.h.LOGIC_NULL="null";h.h.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";h.h.LOGIC_NULL_TOOLTIP="Returns null.";h.h.LOGIC_OPERATION_AND="and";h.h.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";h.h.LOGIC_OPERATION_OR="or";h.h.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";
h.h.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";h.h.LOGIC_TERNARY_CONDITION="test";h.h.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";h.h.LOGIC_TERNARY_IF_FALSE="if false";h.h.LOGIC_TERNARY_IF_TRUE="if true";h.h.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";h.h.MATH_ADDITION_SYMBOL="+";h.h.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";
h.h.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";h.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";h.h.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";h.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";h.h.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";h.h.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";h.h.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";
h.h.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";h.h.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";h.h.MATH_CHANGE_TITLE="change %1 by %2";h.h.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";h.h.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";h.h.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";
h.h.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";h.h.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";h.h.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";h.h.MATH_DIVISION_SYMBOL="\u00f7";h.h.MATH_IS_DIVISIBLE_BY="is divisible by";h.h.MATH_IS_EVEN="is even";h.h.MATH_IS_NEGATIVE="is negative";h.h.MATH_IS_ODD="is odd";h.h.MATH_IS_POSITIVE="is positive";h.h.MATH_IS_PRIME="is prime";h.h.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";
h.h.MATH_IS_WHOLE="is whole";h.h.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";h.h.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";h.h.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";h.h.MATH_MULTIPLICATION_SYMBOL="\u00d7";h.h.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";h.h.MATH_NUMBER_TOOLTIP="A number.";h.h.MATH_ONLIST_HELPURL="";h.h.MATH_ONLIST_OPERATOR_AVERAGE="average of list";h.h.MATH_ONLIST_OPERATOR_MAX="max of list";
h.h.MATH_ONLIST_OPERATOR_MEDIAN="median of list";h.h.MATH_ONLIST_OPERATOR_MIN="min of list";h.h.MATH_ONLIST_OPERATOR_MODE="modes of list";h.h.MATH_ONLIST_OPERATOR_RANDOM="random item of list";h.h.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";h.h.MATH_ONLIST_OPERATOR_SUM="sum of list";h.h.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";h.h.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";
h.h.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";h.h.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";h.h.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";h.h.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";h.h.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";h.h.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";h.h.MATH_POWER_SYMBOL="^";
h.h.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";h.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";h.h.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";h.h.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";h.h.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";h.h.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";
h.h.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";h.h.MATH_ROUND_OPERATOR_ROUND="round";h.h.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";h.h.MATH_ROUND_OPERATOR_ROUNDUP="round up";h.h.MATH_ROUND_TOOLTIP="Round a number up or down.";h.h.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";h.h.MATH_SINGLE_OP_ABSOLUTE="absolute";h.h.MATH_SINGLE_OP_ROOT="square root";h.h.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";h.h.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";
h.h.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";h.h.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";h.h.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";h.h.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";h.h.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";h.h.MATH_SUBTRACTION_SYMBOL="-";h.h.MATH_TRIG_ACOS="acos";h.h.MATH_TRIG_ASIN="asin";h.h.MATH_TRIG_ATAN="atan";h.h.MATH_TRIG_COS="cos";h.h.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
h.h.MATH_TRIG_SIN="sin";h.h.MATH_TRIG_TAN="tan";h.h.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";h.h.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";h.h.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";h.h.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";h.h.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";h.h.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";h.h.NEW_VARIABLE="Create variable...";
h.h.NEW_VARIABLE_TITLE="New variable name:";h.h.ORDINAL_NUMBER_SUFFIX="";h.h.PROCEDURES_ALLOW_STATEMENTS="allow statements";h.h.PROCEDURES_BEFORE_PARAMS="with:";h.h.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";h.h.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";h.h.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";h.h.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";
h.h.PROCEDURES_CALL_BEFORE_PARAMS="with:";h.h.PROCEDURES_CREATE_DO="Create '%1'";h.h.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";h.h.PROCEDURES_DEFNORETURN_DO="";h.h.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";h.h.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.h.PROCEDURES_DEFNORETURN_TITLE="to";h.h.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";h.h.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";
h.h.PROCEDURES_DEFRETURN_RETURN="return";h.h.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";h.h.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";h.h.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";h.h.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";h.h.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";h.h.PROCEDURES_MUTATORARG_TITLE="input name:";
h.h.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";h.h.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";h.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";h.h.REDO="Redo";h.h.REMOVE_COMMENT="Remove Comment";h.h.RENAME_VARIABLE="Rename variable...";h.h.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.h.UNDO="Undo";h.h.UNNAMED_KEY="unnamed";h.h.VARIABLES_DEFAULT_NAME="item";h.h.VARIABLES_GET_CREATE_SET="Create 'set %1'";
h.h.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";h.h.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";h.h.VARIABLES_SET="set %1 to %2";h.h.VARIABLES_SET_CREATE_GET="Create 'get %1'";h.h.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";h.h.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";h.h.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";
h.h.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.h.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.h.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=h.h.CONTROLS_IF_MSG_ELSEIF;h.h.CONTROLS_IF_ELSE_TITLE_ELSE=h.h.CONTROLS_IF_MSG_ELSE;h.h.CONTROLS_IF_IF_TITLE_IF=h.h.CONTROLS_IF_MSG_IF;h.h.CONTROLS_IF_MSG_THEN=h.h.CONTROLS_REPEAT_INPUT_DO;h.h.LISTS_CREATE_WITH_ITEM_TITLE=h.h.VARIABLES_DEFAULT_NAME;h.h.LISTS_GET_INDEX_HELPURL=h.h.LISTS_INDEX_OF_HELPURL;h.h.LISTS_GET_INDEX_INPUT_IN_LIST=h.h.LISTS_INLIST;
h.h.LISTS_GET_SUBLIST_INPUT_IN_LIST=h.h.LISTS_INLIST;h.h.LISTS_INDEX_OF_INPUT_IN_LIST=h.h.LISTS_INLIST;h.h.LISTS_SET_INDEX_INPUT_IN_LIST=h.h.LISTS_INLIST;h.h.MATH_CHANGE_TITLE_ITEM=h.h.VARIABLES_DEFAULT_NAME;h.h.PROCEDURES_DEFRETURN_COMMENT=h.h.PROCEDURES_DEFNORETURN_COMMENT;h.h.PROCEDURES_DEFRETURN_PROCEDURE=h.h.PROCEDURES_DEFNORETURN_PROCEDURE;h.h.PROCEDURES_DEFRETURN_TITLE=h.h.PROCEDURES_DEFNORETURN_TITLE;h.h.MATH_HUE="230";h.h.LOOPS_HUE="120";h.h.LISTS_HUE="260";h.h.LOGIC_HUE="210";
h.h.VARIABLES_HUE="330";h.h.PROCEDURES_HUE="290";
var BlocklyStorage={},ne=null,oe=null,pe=null;function qe(){var a=ne();re("xml="+encodeURIComponent(a),se)}var te={};
function re(a,c){te["/storage"]&&te["/storage"].abort();te["/storage"]=new XMLHttpRequest;te["/storage"].onload=function(){200===this.status?c&&c.call(this):ue(O("Games_httpRequestError")+"\nXHR status: "+this.status);te["/storage"]=null};te["/storage"].open("POST","/storage");te["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");te["/storage"].send(a)}
function se(){window.location.hash=this.responseText.trim();ue(O("Games_linkAlert").replace("%1",window.location.href));pe=ne()}function ve(){var a=this.responseText.trim();a.length?oe(a):ue(O("Games_hashError").replace("%1",window.location.hash));pe=ne()}function ue(a){if("object"===typeof P){var c=document.getElementById("linkButton");P.iI(c,a)}else alert(a)};var A=null,we=null,xe=!1;function ye(){je();var a=document.getElementById("linkButton");a&&(ee?a.style.display="none":(ne=ze,oe=Ae,me(a,qe)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Be,!0)}function Ce(a){if(!ee&&1<window.location.hash.length)re("key="+encodeURIComponent(window.location.hash.substring(1)),ve);else{var c=null;try{c=window.sessionStorage.NA}catch(e){}c&&delete window.sessionStorage.NA;var d=ke(N);(a=c||d||a)&&Ae(a)}}
function Ae(a){we?we.setValue(a,-1):(a=h.R.Pi(a),A.clear(),h.R.ei(a,A),Ga())}function ze(){if(we)var a=we.getValue();else{a=h.R.EI();if(1==A.mc(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}a=h.R.te(a)}return a}function De(){return xe?we.getValue():Ee()}function Fe(){"object"==typeof BlocklyStorage&&null!==pe&&pe!=ze()&&(window.location.hash="",pe=null)}
function Ge(){var a={rtl:!1,trashcan:!0,zoom:{controls:!0,wheel:!0}},c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;a.renderer="zelos";A=h.Gj("blockly",a);D(A,Fe)}function He(){window.location=(ee?"index.html":"./")+"?lang="+ce}
function Be(){window.sessionStorage&&(window.sessionStorage.NA=ze());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Ie(){10>N?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+ce+"&level="+(N+1):He()}function Je(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Ke(a){if("click"==a.type&&"touchend"==Le&&Me+2E3>Date.now()||Le==a.type&&Me+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Le=a.type;Me=Date.now();return!1}var Le=null,Me=0;
function Ne(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)};function Oe(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/babel.min.js";document.head.appendChild(a)},1)}
function Pe(){var a=window.ace;a.require("ace/ext/language_tools");we=a=a.edit("editor");a.setTheme("ace/theme/chrome");a.setShowPrintMargin(!1);a.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0});a=a.getSession();a.setMode("ace/mode/javascript");a.setTabSize(2);a.setUseSoftTabs(!0);a.on("change",Fe);Qe();return a}
function Qe(){var a=we.getSession().getMode().$highlightRules.$keywordList;a?a.splice(0,Infinity,"arguments","this","NaN","Math","JSON","parseInt","parseFloat","isNaN","isFinite","eval","String","RegExp","Object","Number","Function","Date","Boolean","Array","while","var","let","typeof","try","throw","switch","return","new","instanceof","of","in","if","function","for","finally","else","do","delete","continue","catch","case","break","const","undefined","Infinity","null","false","true"):setTimeout(Qe,
Qe.pz*=2)}Qe.pz=1;var P={Jj:!1,uz:null,Ip:null,pr:function(a,c,d,e,f,g){function k(){P.Jj&&(l.style.visibility="visible",l.style.zIndex=10,m.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);P.Jj&&P.qh(!1);h.La()&&h.zc(!0);P.Jj=!0;P.uz=c;P.Ip=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),P.Ot=h.pd(e,"mousedown",null,P.tF));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&c?(P.Cq(c,!1,.2),P.Cq(l,!0,.8),setTimeout(k,175)):k()},vz:0,wz:0,tF:function(a){P.Rt();if(!h.g.Mj(a)){var c=document.getElementById("dialog");P.vz=c.offsetLeft-a.clientX;P.wz=c.offsetTop-a.clientY;P.Qt=h.pd(document,"mouseup",null,P.Rt);P.Pt=h.pd(document,"mousemove",null,P.uF);a.stopPropagation()}},uF:function(a){var c=document.getElementById("dialog"),
d=P.vz+a.clientX;a=P.wz+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Rt:function(){P.Qt&&(h.Ra(P.Qt),P.Qt=null);P.Pt&&(h.Ra(P.Pt),P.Pt=null)},qh:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(P.Jj){P.Rt();P.Ot&&(h.Ra(P.Ot),P.Ot=null);P.Jj=!1;P.Ip&&P.Ip();P.Ip=null;var d=!1===a?
null:P.uz;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(P.Cq(a,!1,.8),P.Cq(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Cq:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=
g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=P.VF(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},VF:function(a){var c=h.g.style.zj(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},iI:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");P.pr(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},P.TB);P.OB()},tE:function(){if(!ke(N))if(P.Jj||A.nc())setTimeout(P.tE,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",P.qh,!0);c.addEventListener("touchend",P.qh,!0);c=document.getElementById("abortOk");c.addEventListener("click",He,!0);c.addEventListener("touchend",He,
!0);P.pr(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",P.Hy,!0)});document.body.addEventListener("keydown",P.Hy,!0)}},$E:function(){var a=document.getElementById("dialogDone");if(A){var c=document.getElementById("dialogLinesText");c.textContent="";var d=De();d=Je(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");
f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?O("Games_linesOfCode1"):O("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>N?O("Games_nextLevel").replace("%1",String(N+1)):O("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",P.qh,!0);c.addEventListener("touchend",P.qh,!0);c=document.getElementById("doneOk");c.addEventListener("click",Ie,!0);c.addEventListener("touchend",
Ie,!0);P.pr(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",P.$y,!0)});document.body.addEventListener("keydown",P.$y,!0);document.getElementById("dialogDoneText").textContent=d},sz:function(a){!P.Jj||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(P.qh(!0),a.stopPropagation(),a.preventDefault())},OB:function(){document.body.addEventListener("keydown",P.sz,!0)},TB:function(){document.body.removeEventListener("keydown",P.sz,!0)},$y:function(a){if(13==
a.keyCode||27==a.keyCode||32==a.keyCode)P.qh(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&Ie()},Hy:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)P.qh(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&He()}};window.BlocklyDialogs=P;P.hideDialog=P.qh;h.Generator=function(a){this.lH=a;this.$C=new RegExp(this.Ee,"g")};h.Generator.cp="generated_function";b=h.Generator.prototype;b.Vo=null;b.Td=null;b.Wc=null;b.Ad="  ";b.HC=60;b.gp=[];
function Ee(){var a=h.j,c=A;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.La());var d=[];a.S(c);c=c.mc(!0);for(var e=0,f;f=c[e];e++){var g=Re(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.F&&(g=a.HB(g),a.Td&&!f.Mi&&(g=Q(a.Td,f)+g),a.Wc&&!f.Mi&&(g+=Q(a.Wc,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}function Se(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function Re(a,c){if(!c)return"";if(!c.isEnabled())return Re(a,t(c));var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.lH+'" does not know how to generate  code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.F)throw TypeError("Expecting string from statement block: "+c.type);return[a.Sn(c,d[0],void 0),d[1]]}if("string"==typeof d)return a.Td&&!c.Mi&&(d=Q(a.Td,c)+d),a.Wc&&!c.Mi&&(d+=Q(a.Wc,c)),a.Sn(c,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function R(a,c,d){var e=h.j;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=Ac(a,c);if(!f)return"";c=Re(e,f);if(""===c)return"";if(!Array.isArray(c))throw TypeError("Expecting tuple from value block: "+f.type);a=c[0];c=c[1];if(isNaN(c))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var g=Math.floor(d),k=Math.floor(c);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<e.gp.length;g++)if(e.gp[g][0]==d&&e.gp[g][1]==c){f=!1;break}f&&(a="("+
a+")");return a}function Te(a,c){var d=h.j;a=Ac(a,c);c=Re(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=Se(c,d.Ad));return c}function Ue(a,c){var d=h.j;d.Vo&&(a=Se(Q(d.Vo,c),d.Ad)+a);d.Wc&&!c.Mi&&(a=Se(Q(d.Wc,c),d.Ad)+a);d.Td&&!c.Mi&&(a+=Se(Q(d.Td,c),d.Ad));return a}function Q(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.Fs="";function Ve(a,c){a.Fs+=c+","}b.Ee="{leCUI8hutHZI4480Dc}";
function We(a,c){var d=h.j;if(!d.ci[a]){var e=yd(d.Nd,a,h.km);d.lu[a]=e;c=c.join("\n").replace(d.$C,e);for(var f;f!=c;)f=c,c=c.replace(/^(( {2})*) {2}/gm,"$1\x00");c=c.replace(/\0/g,d.Ad);d.ci[a]=c}return d.lu[a]}b.S=function(){};b.Sn=function(a,c){return c};b.finish=function(a){return a};b.HB=function(a){return a};h.j=new h.Generator("JavaScript");Ve(h.j,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.j.cj=0;h.j.yK=1.1;h.j.Hb=1.2;h.j.tb=2;h.j.wK=3;h.j.sK=3;h.j.oK=4.1;h.j.AK=4.2;h.j.im=4.3;h.j.gm=4.4;
h.j.zK=4.5;h.j.BK=4.6;h.j.tK=4.7;h.j.mK=4.8;h.j.uK=5;h.j.As=5.1;h.j.fm=5.2;h.j.hm=5.3;h.j.Fk=6.1;h.j.Sh=6.2;h.j.qK=7;h.j.PD=8;h.j.vK=8;h.j.xK=8;h.j.Rx=9;h.j.nK=10;h.j.rK=11;h.j.pK=12;h.j.ys=13;h.j.zs=14;h.j.fp=15;h.j.Xg=16;h.j.CK=17;h.j.Uc=18;h.j.nd=99;h.j.gp=[[h.j.tb,h.j.Hb],[h.j.tb,h.j.tb],[h.j.Hb,h.j.Hb],[h.j.Hb,h.j.tb],[h.j.gm,h.j.gm],[h.j.As,h.j.As],[h.j.Sh,h.j.Sh],[h.j.ys,h.j.ys],[h.j.zs,h.j.zs]];
h.j.S=function(a){h.j.ci=Object.create(null);h.j.lu=Object.create(null);h.j.Nd?h.j.Nd.reset():h.j.Nd=new h.Sd(h.j.Fs);h.j.Nd.Zv(a.Pa);for(var c=[],d=h.X.wE(a),e=0;e<d.length;e++)c.push(M(d[e],h.Sd.Ur));a=h.X.Ky(a);for(e=0;e<a.length;e++)c.push(M(a[e].wa(),h.ac));c.length&&(h.j.ci.variables="var "+c.join(", ")+";")};h.j.finish=function(a){var c=[],d;for(d in h.j.ci)c.push(h.j.ci[d]);delete h.j.ci;delete h.j.lu;h.j.Nd.reset();return c.join("\n\n")+"\n\n\n"+a};h.j.HB=function(a){return a+";\n"};
h.j.OH=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.j.EL=function(a){return a.split(/\n/g).map(h.j.OH).join(" + '\\n' +\n")};
h.j.Sn=function(a,c,d){var e="";if(!a.F||!a.F.ea){var f=a.Oe.text;f&&(f=h.g.eb.fC(f,h.j.HC-3),e+=Se(f+"\n","// "));for(var g=0;g<a.N.length;g++)if(a.N[g].type==h.Ta){var k=a.N[g].connection.ga();if(k){f=[];k=p(k,!0);for(var l=0;l<k.length;l++){var m=k[l].Oe.text;m&&f.push(m)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Se(f,"// "))}}}a=a.V&&a.V.ga();d=d?"":Re(h.j,a);return e+c+d};
h.j.wg=function(a,c,d,e,f){d=d||0;f=f||h.j.nd;a.w.options.Ah&&d--;var g=a.w.options.Ah?"1":"0";a=0<d?R(a,c,h.j.Sh)||g:0>d?R(a,c,h.j.Fk)||g:e?R(a,c,h.j.im)||g:R(a,c,f)||g;if(h.pi(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=h.j.Sh}else 0>d&&(a=a+" - "+-d,k=h.j.Fk);e&&(a=d?"-("+a+")":"-"+a,k=h.j.im);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.Sa=function(a,c,d){"function"!=typeof a&&h.Sa.bC(a);this.Rj=a;this.jw=this.Gv=this.Up=null;a=this.Rj;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.fe(g):(null!=g.alt&&(a[f][0].alt=h.g.fe(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.eb.$v(e);g=h.g.eb.WE(e,f);var k=h.g.eb.XE(e,f);!g&&!k||f<=g+k||(g&&(this.Gv=e[0].substring(0,g-1)),k&&(this.jw=e[0].substr(1-k)),this.Rj=h.Sa.zE(a,g,k))}}this.$j=this.getOptions(!1)[0];
h.Sa.v.constructor.call(this,this.$j[1],c,d);this.Jl=this.Ke=this.sh=this.ye=this.Zj=null};h.g.object.U(h.Sa,h.ke);h.Sa.ya=function(a){return new h.Sa(a.options,void 0,a)};h.Sa.prototype.Hk=!0;h.Sa.NI=25;h.Sa.QJ=.45;h.Sa.lD=5;h.Sa.mD=2*h.Sa.lD;h.Sa.Hw=h.g.userAgent.Rl?"\u25bc":"\u25be";b=h.Sa.prototype;b.Sr="default";
b.dl=function(){this.aw()?kc(this):this.Bt=this.I.Oa();lc(this);this.sh=h.g.o.G("image",{},this.ue);this.u.lx?(this.Jl=h.g.o.G("image",{height:this.u.Vl+"px",width:this.u.Vl+"px"},this.ue),this.Jl.setAttributeNS(h.g.o.wf,"xlink:href",this.u.YC)):(this.Ke=h.g.o.G("tspan",{},this.Mb),this.Ke.appendChild(document.createTextNode(this.I.J?h.Sa.Hw+" ":" "+h.Sa.Hw)),this.I.J?this.Mb.insertBefore(this.Ke,this.Oi):this.Mb.appendChild(this.Ke));this.dc&&h.g.o.Xa(this.dc,"blocklyDropdownRect")};
b.aw=function(){return!this.u.Qo||this.u.Qo&&!this.I.Ma};
b.Ih=function(a){var c=new h.aj;hb(c,this.I.J);c.Hg(h.g.Y.Yg.vD);var d=this.getOptions(!1);this.Zj=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.bp(f);f.Hg(h.g.Y.Yg.OD);hb(f,this.I.J);f.setValue(g);f.Bm=!0;c.um(f,c.kb.length,!0);Kc(f,g==this.uc);g==this.uc&&(this.Zj=f);Lc(f,this.xG,this)}h.g.Y.Fb(c.ua(),h.g.Y.State.Ew,this.Zj?this.Zj.wa():"");this.ye=c;this.ye.xv=a&&"number"===typeof a.clientX?
new h.g.T(a.clientX,a.clientY):null;this.ye.Ba(h.D.dG());h.g.o.Xa(this.ye.ua(),"blocklyDropdownMenu");this.u.kx&&(a=this.I.Ma?this.I.getParent().pu():this.I.pu(),c=this.I.Ma?this.I.getParent().style.Af:this.I.style.Af,h.D.dd(a,c));h.D.bI(this,this.HF.bind(this));this.ye.focus();this.Zj&&h.g.style.Sv(this.Zj.ua(),this.ye.ua());this.bc()};b.HF=function(){this.ye&&this.ye.H();this.Zj=this.ye=null;this.bc()};b.xG=function(a){h.D.kn(this,!0);this.iB(a)};b.iB=function(a){this.setValue(a.getValue())};
h.Sa.zE=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};b=h.Sa.prototype;b.getOptions=function(a){return"function"==typeof this.Rj?(this.Up&&a||(this.Up=this.Rj.call(this),h.Sa.bC(this.Up)),this.Up):this.Rj};
b.sj=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.I&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.I.type+", Field name: "+this.name+", Value: "+a),null)};b.di=function(a){h.Sa.v.di.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.uc&&(this.$j=d)};
b.bc=function(){this.dc&&(this.dc.setAttribute("stroke",this.I.style.Af),this.ye?this.dc.setAttribute("fill",this.I.style.Af):this.dc.setAttribute("fill","transparent"));this.I&&this.Ke&&(this.Ke.style.fill=this.I.Ma?this.I.style.Yy:this.I.style.lj)};
b.Ii=function(){this.Oi.nodeValue="";this.sh.style.display="none";var a=this.$j&&this.$j[0];if(a&&"object"==typeof a){this.sh.style.display="";this.sh.setAttributeNS(h.g.o.wf,"xlink:href",a.src);this.sh.setAttribute("height",a.height);this.sh.setAttribute("width",a.width);var c=Number(a.height),d=Number(a.width),e=!!this.dc;this.Gb.height=Math.max(e?this.u.gs:0,c+h.Sa.mD);a=this.Gb.height/2;e=e?this.u.nf:0;var f=this.Jl?Xe(this,d+e,a-this.u.Vl/2):h.g.o.su(this.Ke,this.u.Zi,this.u.Oh,this.u.Vg);this.Gb.width=
d+f+2*e;this.I.J?(d=e-1,this.sh.setAttribute("x",e+f),this.Mb.setAttribute("x",d)):(d=d+f+e+1,this.Mb.setAttribute("text-anchor","end"),this.Mb.setAttribute("x",d),this.sh.setAttribute("x",e));this.sh.setAttribute("y",a-c/2)}else this.Oi.nodeValue=nc(this),h.g.o.Xa(this.Mb,"blocklyDropdownText"),this.Mb.setAttribute("text-anchor","start"),d=!!this.dc,this.Gb.height=Math.max(d?this.u.gs:0,this.u.Wl),c=this.Gb.height/2,a=h.g.o.su(this.Mb,this.u.Zi,this.u.Oh,this.u.Vg),d=d?this.u.nf:0,e=0,this.Jl&&(e=
Xe(this,a+d,c-this.u.Vl/2)),this.Gb.width=a+e+2*d,this.Mb.setAttribute("x",this.I.J?this.Gb.width-a-d:d),this.Mb.setAttribute("y",c),this.u.ox||this.Mb.setAttribute("dy",this.u.hs-this.u.Wl/2+this.u.js);this.dc&&(this.dc.setAttribute("height",this.Gb.height),this.dc.setAttribute("width",this.Gb.width))};function Xe(a,c,d){if(!a.Jl)return 0;var e=a.dc?a.u.nf:0,f=a.u.mx,g=a.u.Vl;a.Jl.setAttribute("transform","translate("+(a.I.J?e:c+f)+","+d+")");return g+f}
b.yu=function(){if(!this.$j)return null;var a=this.$j[0];return"object"==typeof a?a.alt:a};
h.Sa.bC=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.Sa.prototype.Kd=function(a){if(this.ye){if(a===h.navigation.vo)return Gc(this.ye),!0;if(a===h.navigation.uo)return Ec(this.ye),!0}return h.Sa.v.Kd.call(this,a)};h.rd.register("field_dropdown",h.Sa);h.Tb=function(a){h.Tb.v.constructor.call(this,null);this.yB=a};h.g.object.U(h.Tb,h.Rd);b=h.Tb.prototype;b.Pl=0;b.to=0;
b.au=function(a){h.g.o.G("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);h.g.o.G("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
h.g.o.G("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};b.Hu=function(a){this.O.wh()&&h.Rd.prototype.Hu.call(this,a)};
b.Gt=function(){this.ho=h.g.o.G("svg",{x:h.qa.jd,y:h.qa.jd},null);if(this.yB.length)for(var a=h.g.xml.createElement("xml"),c=0,d;d=this.yB[c];c++){var e=h.g.xml.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;c=new h.Vc({disable:!1,parentWorkspace:this.O.w,media:this.O.w.options.Dg,rtl:this.O.J,horizontalLayout:!1,renderer:this.O.w.options.zl});c.Ja=this.O.J?h.Zg:h.Ud;c.yg=a;c.Jc=this.gG.bind(this);this.s=new h.mb(c);this.s.tn=!0;D(this.s,h.i.xz);a=nd(this.s,"g");c=this.s.Ha("blocklyMutatorBackground");
c.insertBefore(a,this.s.jb);this.ho.appendChild(c);return this.ho};b.Lh=function(){h.Tb.v.Lh.call(this);this.O.Yb||(this.O.wh()?this.ae&&h.g.o.Eb(this.ae,"blocklyIconGroupReadonly"):(this.Zb(!1),this.ae&&h.g.o.Xa(this.ae,"blocklyIconGroupReadonly")))};
function Ye(a){var c=2*h.qa.jd,d=a.s.jb.getBBox();var e=a.O.J?-d.x:d.width+d.x;d=d.height+3*c;var f=a.s.Ic();f&&(f=f.an(),d=Math.max(d,f.Yd+20));e+=3*c;if(Math.abs(a.Pl-e)>c||Math.abs(a.to-d)>c)a.Pl=e,a.to=d,a.Pb.Tn(e+c,d+c),a.ho.setAttribute("width",a.Pl),a.ho.setAttribute("height",a.to);a.O.J&&a.s.jb.setAttribute("transform","translate("+a.Pl+",0)");a.s.resize()}b.qH=function(){this.s&&kd(this.s)};
b.Zb=function(a){if(a!=this.isVisible())if(h.i.Ea(new h.i.lc(this.O,"mutatorOpen",!a,a)),a){this.Pb=new h.qa(this.O.w,this.Gt(),this.O.wb.Sc,this.Ej,null,null);Ka(this.Pb,this.O.id);Ma(this.Pb,this.qH.bind(this));var c=this.s.options.yg;a=this.s.Ic();c&&(a.S(this.s),a.show(c.childNodes));this.Dh=this.O.hh(this.s);c=p(this.Dh,!1);for(var d=0,e;e=c[d];d++)e.Ba();this.Dh.mr(!1);this.Dh.Kt=!1;a?(c=2*a.sb,a=a.ph()+c):a=c=16;this.O.J&&(a=-a);this.Dh.moveBy(a,c);if(this.O.kr){var f=this,g=this.O;g.kr(this.Dh);
this.qr=function(){g.kr(f.Dh)};D(this.O.w,this.qr)}Ye(this);D(this.s,this.CI.bind(this));this.bc()}else this.ho=null,this.s.H(),this.Dh=this.s=null,this.Pb.H(),this.Pb=null,this.to=this.Pl=0,this.qr&&(Ha(this.O.w,this.qr),this.qr=null)};
b.CI=function(a){if(a.type!=h.i.pm&&(a.type!=h.i.Vi||"disabled"!=a.element)){if(!this.s.nc()){a=this.s.mc(!1);for(var c=0,d;d=a[c];c++){var e=d.Va(),f=G(d);20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.Dh.w==this.s){h.i.ca(!0);d=this.O;a=(a=d.cb())&&h.R.te(a);d.eh(this.Dh);d.bf();d.Ba();h.La().xe&&h.navigation.fH(d);c=(c=d.cb())&&h.R.te(c);if(a!=c){h.i.Ea(new h.i.Qg(d,"mutation",null,a,c));var g=h.i.fc();setTimeout(function(){h.i.ca(g);d.Ib();h.i.ca(!1)},h.Bo)}this.s.nc()||Ye(this);h.i.ca(!1)}}};
b.gG=function(){return{Ab:this.to,qb:this.Pl-this.s.Ic().ph(),Ec:0,wc:this.s.J?0:this.s.Ic().ph()}};b.H=function(){this.O.bd=null;h.Rd.prototype.H.call(this)};h.Tb.yl=function(a,c,d){if(!a||!a.P().w)return!1;d=y(c,d).connection;var e=a.ga();return e&&e!=c||d.ea==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)};h.Tb.Kz=function(a){var c=null;if(a&&a.options){var d=a.options.Nc;a.Mf?d&&d.options&&(c=d.options.Nc):d&&(c=d)}return c};h.M.$u={};h.ka={};h.ka.DD={};h.ka.DD.To=260;
h.Uk([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",
args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",
name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
h.M.lists_create_with={S:function(){this.Db=h.h.LISTS_CREATE_WITH_HELPURL;this.Rb("list_blocks");this.Id=3;this.Tc();this.Md(!0,"Array");this.Li(new h.Tb(["lists_create_with_item"]));this.Wa(h.h.LISTS_CREATE_WITH_TOOLTIP)},cb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("items",this.Id);return a},Cb:function(a){this.Id=parseInt(a.getAttribute("items"),10);this.Tc()},hh:function(a){var c=a.xi("lists_create_with_container");c.bf();for(var d=y(c,"STACK").connection,e=0;e<this.Id;e++){var f=
a.xi("lists_create_with_item");f.bf();d.connect(f.Z);d=f.V}return c},eh:function(a){var c=Ac(a,"STACK");for(a=[];c;)a.push(c.vw),c=c.V&&c.V.ga();for(c=0;c<this.Id;c++){var d=y(this,"ADD"+c).connection.ea;d&&-1==a.indexOf(d)&&d.disconnect()}this.Id=a.length;this.Tc();for(c=0;c<this.Id;c++)h.Tb.yl(a[c],this,"ADD"+c)},kr:function(a){a=Ac(a,"STACK");for(var c=0;a;){var d=y(this,"ADD"+c);a.vw=d&&d.connection.ea;c++;a=a.V&&a.V.ga()}},Tc:function(){this.Id&&y(this,"EMPTY")?this.ib("EMPTY"):this.Id||y(this,
"EMPTY")||I(K(this,"EMPTY"),h.h.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.Id;a++)if(!y(this,"ADD"+a)){var c=J(this,"ADD"+a);0==a&&I(c,h.h.LISTS_CREATE_WITH_INPUT_WITH)}for(;y(this,"ADD"+a);)this.ib("ADD"+a),a++}};h.M.lists_create_with_container={S:function(){this.Rb("list_blocks");I(K(this),h.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);yc(this,"STACK");this.Wa(h.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
h.M.lists_create_with_item={S:function(){this.Rb("list_blocks");I(K(this),h.h.LISTS_CREATE_WITH_ITEM_TITLE);this.Ae(!0);this.ze(!0);this.Wa(h.h.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
h.M.lists_indexOf={S:function(){var a=[[h.h.LISTS_INDEX_OF_FIRST,"FIRST"],[h.h.LISTS_INDEX_OF_LAST,"LAST"]];this.Db=h.h.LISTS_INDEX_OF_HELPURL;this.Rb("list_blocks");this.Md(!0,"Number");I(J(this,"VALUE").lb("Array"),h.h.LISTS_INDEX_OF_INPUT_IN_LIST);I(J(this,"FIND"),new h.Sa(a),"END");this.Qc(!0);var c=this;this.Wa(function(){return h.h.LISTS_INDEX_OF_TOOLTIP.replace("%1",c.w.options.Ah?"0":"-1")})}};
h.M.lists_getIndex={S:function(){var a=[[h.h.LISTS_GET_INDEX_GET,"GET"],[h.h.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[h.h.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.bt=[[h.h.LISTS_GET_INDEX_FROM_START,"FROM_START"],[h.h.LISTS_GET_INDEX_FROM_END,"FROM_END"],[h.h.LISTS_GET_INDEX_FIRST,"FIRST"],[h.h.LISTS_GET_INDEX_LAST,"LAST"],[h.h.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Db=h.h.LISTS_GET_INDEX_HELPURL;this.Rb("list_blocks");a=new h.Sa(a,function(d){d="REMOVE"==d;this.P().aC(d)});I(J(this,"VALUE").lb("Array"),
h.h.LISTS_GET_INDEX_INPUT_IN_LIST);I(I(K(this),a,"MODE"),"","SPACE");K(this,"AT");h.h.LISTS_GET_INDEX_TAIL&&I(K(this,"TAIL"),h.h.LISTS_GET_INDEX_TAIL);this.Qc(!0);this.Md(!0);this.Ce(!0);var c=this;this.Wa(function(){var d=C(c,"MODE"),e=C(c,"WHERE"),f="";switch(d+" "+e){case "GET FROM_START":case "GET FROM_END":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":f=
h.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":f=h.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":f=h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":f=
h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":f=h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":f=h.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+("FROM_START"==e?h.h.LISTS_INDEX_FROM_START_TOOLTIP:h.h.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",c.w.options.Ah?"#1":"#0");return f})},cb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("statement",!this.F);a.setAttribute("at",y(this,"AT").type==h.Ta);return a},
Cb:function(a){var c="true"==a.getAttribute("statement");this.aC(c);a="false"!=a.getAttribute("at");this.Ce(a)},aC:function(a){a!=!this.F&&(w(this,!0),a?(this.Md(!1),this.Ae(!0),this.ze(!0)):(this.Ae(!1),this.ze(!1),this.Md(!0)))},Ce:function(a){this.ib("AT");this.ib("ORDINAL",!0);a?(J(this,"AT").lb("Number"),h.h.ORDINAL_NUMBER_SUFFIX&&I(K(this,"ORDINAL"),h.h.ORDINAL_NUMBER_SUFFIX)):K(this,"AT");var c=new h.Sa(this.bt,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.P();f.Ce(e);
wc(f,d,"WHERE");return null}});I(y(this,"AT"),c,"WHERE");h.h.LISTS_GET_INDEX_TAIL&&zc(this,"TAIL",null)}};
h.M.lists_setIndex={S:function(){var a=[[h.h.LISTS_SET_INDEX_SET,"SET"],[h.h.LISTS_SET_INDEX_INSERT,"INSERT"]];this.bt=[[h.h.LISTS_GET_INDEX_FROM_START,"FROM_START"],[h.h.LISTS_GET_INDEX_FROM_END,"FROM_END"],[h.h.LISTS_GET_INDEX_FIRST,"FIRST"],[h.h.LISTS_GET_INDEX_LAST,"LAST"],[h.h.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.Db=h.h.LISTS_SET_INDEX_HELPURL;this.Rb("list_blocks");I(J(this,"LIST").lb("Array"),h.h.LISTS_SET_INDEX_INPUT_IN_LIST);I(I(K(this),new h.Sa(a),"MODE"),"","SPACE");K(this,"AT");I(J(this,
"TO"),h.h.LISTS_SET_INDEX_INPUT_TO);this.Qc(!0);this.Ae(!0);this.ze(!0);this.Wa(h.h.LISTS_SET_INDEX_TOOLTIP);this.Ce(!0);var c=this;this.Wa(function(){var d=C(c,"MODE"),e=C(c,"WHERE"),f="";switch(d+" "+e){case "SET FROM_START":case "SET FROM_END":f=h.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":f=h.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":f=h.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":f=h.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":f=
h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":f=h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":f=h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case "INSERT RANDOM":f=h.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==e||"FROM_END"==e)f+="  "+h.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",c.w.options.Ah?"#1":"#0");return f})},cb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("at",y(this,"AT").type==h.Ta);return a},Cb:function(a){a=
"false"!=a.getAttribute("at");this.Ce(a)},Ce:function(a){this.ib("AT");this.ib("ORDINAL",!0);a?(J(this,"AT").lb("Number"),h.h.ORDINAL_NUMBER_SUFFIX&&I(K(this,"ORDINAL"),h.h.ORDINAL_NUMBER_SUFFIX)):K(this,"AT");var c=new h.Sa(this.bt,function(d){var e="FROM_START"==d||"FROM_END"==d;if(e!=a){var f=this.P();f.Ce(e);wc(f,d,"WHERE");return null}});zc(this,"AT","TO");y(this,"ORDINAL")&&zc(this,"ORDINAL","TO");I(y(this,"AT"),c,"WHERE")}};
h.M.lists_getSublist={S:function(){this.WHERE_OPTIONS_1=[[h.h.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[h.h.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[h.h.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[h.h.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[h.h.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[h.h.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.Db=h.h.LISTS_GET_SUBLIST_HELPURL;this.Rb("list_blocks");I(J(this,"LIST").lb("Array"),h.h.LISTS_GET_SUBLIST_INPUT_IN_LIST);K(this,
"AT1");K(this,"AT2");h.h.LISTS_GET_SUBLIST_TAIL&&I(K(this,"TAIL"),h.h.LISTS_GET_SUBLIST_TAIL);this.Qc(!0);this.Md(!0,"Array");this.Ce(1,!0);this.Ce(2,!0);this.Wa(h.h.LISTS_GET_SUBLIST_TOOLTIP)},cb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("at1",y(this,"AT1").type==h.Ta);a.setAttribute("at2",y(this,"AT2").type==h.Ta);return a},Cb:function(a){var c="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.Ce(1,c);this.Ce(2,a)},Ce:function(a,c){this.ib("AT"+a);this.ib("ORDINAL"+
a,!0);c?(J(this,"AT"+a).lb("Number"),h.h.ORDINAL_NUMBER_SUFFIX&&I(K(this,"ORDINAL"+a),h.h.ORDINAL_NUMBER_SUFFIX)):K(this,"AT"+a);var d=new h.Sa(this["WHERE_OPTIONS_"+a],function(e){var f="FROM_START"==e||"FROM_END"==e;if(f!=c){var g=this.P();g.Ce(a,f);wc(g,e,"WHERE"+a);return null}});I(y(this,"AT"+a),d,"WHERE"+a);1==a&&(zc(this,"AT1","AT2"),y(this,"ORDINAL1")&&zc(this,"ORDINAL1","AT2"));h.h.LISTS_GET_SUBLIST_TAIL&&zc(this,"TAIL",null)}};
h.M.lists_sort={S:function(){L(this,{message0:h.h.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[h.h.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[h.h.LISTS_SORT_TYPE_TEXT,"TEXT"],[h.h.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[h.h.LISTS_SORT_ORDER_ASCENDING,"1"],[h.h.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:h.h.LISTS_SORT_TOOLTIP,helpUrl:h.h.LISTS_SORT_HELPURL})}};
h.M.lists_split={S:function(){var a=this,c=new h.Sa([[h.h.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[h.h.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(d){a.Qi(d)});this.Db=h.h.LISTS_SPLIT_HELPURL;this.Rb("list_blocks");I(J(this,"INPUT").lb("String"),c,"MODE");I(J(this,"DELIM").lb("String"),h.h.LISTS_SPLIT_WITH_DELIMITER);this.Qc(!0);this.Md(!0,"Array");this.Wa(function(){var d=C(a,"MODE");if("SPLIT"==d)return h.h.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==d)return h.h.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+
d);})},Qi:function(a){if(C(this,"MODE")!=a){var c=y(this,"INPUT").connection;c.Qf=null;var d=c.ga();d&&(c.disconnect(),d.Ma?d.H():this.Ib())}"SPLIT"==a?(this.F.lb("Array"),y(this,"INPUT").lb("String")):(this.F.lb("String"),y(this,"INPUT").lb("Array"))},cb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("mode",C(this,"MODE"));return a},Cb:function(a){this.Qi(a.getAttribute("mode"))}};h.M.VG={};h.ka.md={};h.ka.md.To=210;
h.Uk([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",
name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
h.Uk([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);h.ka.md.Ws={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};h.aa.register("logic_op_tooltip",h.aa.wp("OP",h.ka.md.Ws));
h.ka.md.Qr={$d:0,Re:0,Mi:!0,cb:function(){if(!this.$d&&!this.Re)return null;var a=h.g.xml.createElement("mutation");this.$d&&a.setAttribute("elseif",this.$d);this.Re&&a.setAttribute("else",1);return a},Cb:function(a){this.$d=parseInt(a.getAttribute("elseif"),10)||0;this.Re=parseInt(a.getAttribute("else"),10)||0;this.PH()},hh:function(a){var c=a.xi("controls_if_if");c.bf();for(var d=c.V,e=1;e<=this.$d;e++){var f=a.xi("controls_if_elseif");f.bf();d.connect(f.Z);d=f.V}this.Re&&(a=a.xi("controls_if_else"),
a.bf(),d.connect(a.Z));return c},eh:function(a){a=a.V.ga();this.Re=this.$d=0;for(var c=[null],d=[null],e=null;a;){switch(a.type){case "controls_if_elseif":this.$d++;c.push(a.vw);d.push(a.Sf);break;case "controls_if_else":this.Re++;e=a.Sf;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.V&&a.V.ga()}this.Tc();this.zB(c,d,e)},kr:function(a){a=a.V.ga();for(var c=1;a;){switch(a.type){case "controls_if_elseif":var d=y(this,"IF"+c),e=y(this,"DO"+c);a.vw=d&&d.connection.ea;a.Sf=e&&e.connection.ea;
c++;break;case "controls_if_else":e=y(this,"ELSE");a.Sf=e&&e.connection.ea;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.V&&a.V.ga()}},PH:function(){var a=[null],c=[null],d=null;y(this,"ELSE")&&(d=y(this,"ELSE").connection.ea);for(var e=1;y(this,"IF"+e);){var f=y(this,"DO"+e);a.push(y(this,"IF"+e).connection.ea);c.push(f.connection.ea);e++}this.Tc();this.zB(a,c,d)},Tc:function(){y(this,"ELSE")&&this.ib("ELSE");for(var a=1;y(this,"IF"+a);)this.ib("IF"+a),this.ib("DO"+a),a++;for(a=
1;a<=this.$d;a++)I(J(this,"IF"+a).lb("Boolean"),h.h.CONTROLS_IF_MSG_ELSEIF),I(yc(this,"DO"+a),h.h.CONTROLS_IF_MSG_THEN);this.Re&&I(yc(this,"ELSE"),h.h.CONTROLS_IF_MSG_ELSE)},zB:function(a,c,d){for(var e=1;e<=this.$d;e++)h.Tb.yl(a[e],this,"IF"+e),h.Tb.yl(c[e],this,"DO"+e);h.Tb.yl(d,this,"ELSE")}};h.aa.Kv("controls_if_mutator",h.ka.md.Qr,null,["controls_if_elseif","controls_if_else"]);
h.ka.md.Rw=function(){this.Wa(function(){if(this.$d||this.Re){if(!this.$d&&this.Re)return h.h.CONTROLS_IF_TOOLTIP_2;if(this.$d&&!this.Re)return h.h.CONTROLS_IF_TOOLTIP_3;if(this.$d&&this.Re)return h.h.CONTROLS_IF_TOOLTIP_4}else return h.h.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};h.aa.register("controls_if_tooltip",h.ka.md.Rw);
h.ka.md.zD={onchange:function(a){this.wl||(this.wl=[null,null]);var c=Ac(this,"A"),d=Ac(this,"B");c&&d&&!Kb(c.F,d.F)&&(h.i.ca(a.group),a=this.wl[0],a!==c&&(w(c),!a||a.vg||a.Ma||y(this,"A").connection.connect(a.F)),c=this.wl[1],c!==d&&(w(d),!c||c.vg||c.Ma||y(this,"B").connection.connect(c.F)),this.Ib(),h.i.ca(!1));this.wl[0]=Ac(this,"A");this.wl[1]=Ac(this,"B")}};h.ka.md.yD=function(){this.zg(h.ka.md.zD)};h.aa.register("logic_compare",h.ka.md.yD);
h.ka.md.AD={vB:null,onchange:function(a){var c=Ac(this,"THEN"),d=Ac(this,"ELSE"),e=this.F.ea;if((c||d)&&e)for(var f=0;2>f;f++){var g=1==f?c:d;g&&!Kb(g.F,e)&&(h.i.ca(a.group),e===this.vB?(w(this),e.P().Ib()):(w(g),g.Ib()),h.i.ca(!1))}this.vB=e}};h.aa.cr("logic_ternary",h.ka.md.AD);h.Ob=function(a,c,d){this.Yn=!0;null==a&&(a="");h.Ob.v.constructor.call(this,a,c,d);this.Rq=this.zh=this.Hd=null;this.Tp=!1};h.g.object.U(h.Ob,h.ke);h.Ob.ya=function(a){var c=h.g.fe(a.text);return new h.Ob(c,void 0,a)};h.Ob.prototype.Hk=!0;h.Ob.yC=4;b=h.Ob.prototype;b.Sr="text";b.Pe=function(a){h.Ob.v.Pe.call(this,a);"boolean"==typeof a.spellcheck&&(this.Yn=a.spellcheck)};
b.dl=function(){if(this.u.ks){for(var a=0,c=0,d=0,e;e=this.I.N[d];d++){for(var f=0;e.Ua[f];f++)a++;e.connection&&c++}this.Tp=1>=a&&this.I.F&&!c}else this.Tp=!1;this.Tp?this.Bt=this.I.Oa():kc(this);lc(this)};b.sj=function(a){return null===a||void 0===a?null:String(a)};b.Ez=function(){if(this.nn){this.Ru=!1;var a=this.uc;this.uc=this.Hd.wI;this.I&&h.i.isEnabled()&&h.i.Ea(new h.i.Qg(this.I,"field",this.name||null,a,this.uc))}};b.di=function(a){this.Ru=!0;this.uc=a;this.nn||(this.vh=!0)};
b.bc=function(){this.I&&this.u.ks&&(this.dc?this.dc.setAttribute("stroke",this.I.style.Af):this.I.wb.Sc.setAttribute("fill",this.u.bs))};b.Ii=function(){h.Ob.v.Ii.call(this);if(this.nn){Ze(this);var a=this.Hd;this.Ru?(h.g.o.Eb(a,"blocklyInvalidInput"),h.g.Y.Fb(a,h.g.Y.State.xx,!1)):(h.g.o.Xa(a,"blocklyInvalidInput"),h.g.Y.Fb(a,h.g.Y.State.xx,!0))}};function $e(a){0!=a.Yn&&(a.Yn=!1,a.Hd&&a.Hd.setAttribute("spellcheck",a.Yn))}
b.Ih=function(a,c){this.s=this.I.w;a=c||!1;!a&&(h.g.userAgent.MD||h.g.userAgent.Rl||h.g.userAgent.zk)?af(this):(h.$.show(this,this.I.J,this.BI.bind(this)),this.Hd=this.ww(),this.nn=!0,a||(this.Hd.focus({preventScroll:!0}),this.Hd.select()))};function af(a){h.prompt(h.h.CHANGE_VALUE_TITLE,a.hc(),function(c){a.setValue(c)})}
b.ww=function(){var a=h.$.ab;h.g.o.Xa(jc(this),"editing");var c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.Yn);var d=this.s.scale,e=this.u.Zi*d+"pt";a.style.fontSize=e;c.style.fontSize=e;e=h.Ob.yC*d+"px";if(this.Tp){e=oc(this);e=(e.bottom-e.top)/2+"px";var f=this.I.getParent()?this.I.getParent().style.Af:this.I.style.Af;c.style.border=1*d+"px solid "+f;a.style.borderRadius=e;a.style.transition="box-shadow 0.25s ease 0s";this.u.nx&&(a.style.boxShadow=
"rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*d+"px")}c.style.borderRadius=e;a.appendChild(c);c.value=c.defaultValue=String(this.uc);c.wI=this.uc;c.dB=null;Ze(this);this.zh=h.na(c,"keydown",this,this.uH);this.Rq=h.na(c,"input",this,this.tH);return c};
b.BI=function(){this.nn=!1;this.Ru=!0;pc(this);this.tv&&this.tv(this.uc);this.zh&&(h.Ra(this.zh),this.zh=null);this.Rq&&(h.Ra(this.Rq),this.Rq=null);var a=h.$.ab.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Hd=null;h.g.o.Eb(jc(this),"editing")};
b.uH=function(a){if(a.keyCode==h.g.Ca.Xr)h.$.Aa(),h.D.bl();else if(a.keyCode==h.g.Ca.Yr)this.Hd.value=this.Hd.defaultValue,h.$.Aa(),h.D.bl();else if(a.keyCode==h.g.Ca.eE){h.$.Aa();h.D.bl();var c=!a.shiftKey,d=new h.op;E(d,h.B.Sk(this));var e=d.Za;d.Kd(c?h.navigation.uo:h.navigation.vo);(c=d.Za)&&c!==e&&(e=c.oa,Za(e)&&e.Ih(void 0));a.preventDefault()}};b.tH=function(){var a=this.Hd.value;a!==this.Hd.dB&&(this.Hd.dB=a,h.i.ca(!0),this.setValue(a),pc(this),Ze(this),h.i.ca(!1))};
function Ze(a){var c=h.$.ab,d=oc(a);c.style.width=d.right-d.left+"px";c.style.height=d.bottom-d.top+"px";a=new h.g.T(a.I.J?d.right-c.offsetWidth:d.left,d.top);c.style.left=a.x+"px";c.style.top=a.y+"px"}h.Ob.oH=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};
h.Ob.FL=function(a){(a=h.Ob.oH(a))&&(a=String(Math.max(0,Math.floor(a))));return a};h.Ob.prototype.JA=function(){return!0};h.Ob.prototype.yu=function(){return this.nn&&this.Hd?this.Hd.value:null};h.rd.register("field_input",h.Ob);h.qf=function(a,c,d,e,f,g){this.En=-Infinity;this.Cn=Infinity;this.vl=0;this.It=null;h.qf.v.constructor.call(this,a||0,f,g);g||(bf(this,c),cf(this,d),df(this,e),this.setValue(this.getValue()))};h.g.object.U(h.qf,h.Ob);h.qf.ya=function(a){return new h.qf(a.value,void 0,void 0,void 0,void 0,a)};h.qf.prototype.Hk=!0;h.qf.prototype.Pe=function(a){h.qf.v.Pe.call(this,a);bf(this,a.min);cf(this,a.max);df(this,a.precision)};function bf(a,c){null==c?a.En=-Infinity:(c=Number(c),isNaN(c)||(a.En=c))}
function cf(a,c){null==c?a.Cn=Infinity:(c=Number(c),isNaN(c)||(a.Cn=c))}function df(a,c){null==c?a.vl=0:(c=Number(c),isNaN(c)||(a.vl=c));var d=a.vl.toString(),e=d.indexOf(".");a.It=-1==e?c?0:null:d.length-e-1}
h.qf.prototype.sj=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.En),this.Cn);this.vl&&isFinite(a)&&(a=Math.round(a/this.vl)*this.vl);null!=this.It&&(a=Number(a.toFixed(this.It)));return a};h.qf.prototype.ww=function(){var a=h.qf.v.ww.call(this);-Infinity<this.En&&h.g.Y.Fb(a,h.g.Y.State.kE,this.En);Infinity>this.Cn&&h.g.Y.Fb(a,h.g.Y.State.jE,this.Cn);return a};
h.rd.register("field_number",h.qf);h.zd=function(a,c,d,e,f){this.Rj=h.zd.GF;this.qF=a||"";this.Gb=new h.g.gg(0,0);f&&this.Pe(f);c&&(this.hk=c);f||ef(this,d,e)};h.g.object.U(h.zd,h.Sa);h.zd.ya=function(a){var c=h.g.fe(a.variable);return new h.zd(c,void 0,void 0,void 0,a)};b=h.zd.prototype;b.s=null;b.Hk=!0;b.Pe=function(a){h.zd.v.Pe.call(this,a);ef(this,a.variableTypes,a.defaultType)};b.Fj=function(){if(!this.ie){var a=h.X.Zp(this.I.w,null,this.qF,this.pF);this.di(a.wa())}};
b.aw=function(){return h.zd.v.aw.call(this)&&(!this.u.Qo||"variables_get"!=this.I.type)};b.Vm=function(a){var c=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";c=h.X.Zp(this.I.w,c,d,e);if(null!=e&&e!==c.type)throw Error("Serialized variable type with id '"+c.wa()+"' had type "+c.type+", and does not match variable field that references it: "+h.R.te(a)+".");this.setValue(c.wa())};
b.WB=function(a){this.Fj();a.id=this.ie.wa();a.textContent=this.ie.name;this.ie.type&&a.setAttribute("variabletype",this.ie.type);return a};b.Yv=function(a){if(a.Ma)throw Error("Variable fields are not allowed to exist on shadow blocks.");h.zd.v.Yv.call(this,a)};b.getValue=function(){return this.ie?this.ie.wa():null};b.hc=function(){return this.ie?this.ie.name:""};b.Yc=function(){return this.ie};b.jA=function(){return this.ie?this.hk:null};
b.sj=function(a){if(null===a)return null;var c=h.X.Yc(this.I.w,a);if(!c)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;c=c.type;var d;a:if(d=ff(this)){for(var e=0;e<d.length;e++)if(c==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+c),null)};b.di=function(a){this.ie=h.X.Yc(this.I.w,a);h.zd.v.di.call(this,a)};
function ff(a){var c=a.xI;if(null===c&&a.I&&a.I.w)return a.I.w.Au();c=c||[""];if(0==c.length)throw a=a.hc(),Error("'variableTypes' of field variable "+a+" was an empty list");return c}
function ef(a,c,d){d=d||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){for(var e=!1,f=0;f<c.length;f++)c[f]==d&&(e=!0);if(!e)throw Error("Invalid default type '"+d+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.pF=d;a.xI=c}
h.zd.GF=function(){if(!this.ie)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.hc(),c=[];if(this.I&&this.I.w)for(var d=ff(this),e=0;e<d.length;e++)c=c.concat(this.I.w.cn(d[e]));c.sort(h.qm.Zy);d=[];for(e=0;e<c.length;e++)d[e]=[c[e].name,c[e].wa()];d.push([h.h.RENAME_VARIABLE,h.ay]);h.h.DELETE_VARIABLE&&d.push([h.h.DELETE_VARIABLE.replace("%1",a),h.$w]);return d};
h.zd.prototype.iB=function(a){a=a.getValue();if(this.I&&this.I.w){if(a==h.ay){h.X.gr(this.I.w,this.ie);return}if(a==h.$w){this.I.w.ih(this.ie.wa());return}}this.setValue(a)};h.zd.prototype.Pn=function(){return!0};h.rd.register("field_variable",h.zd);h.M.XG={};h.ka.Fe={};h.ka.Fe.To=120;
h.Uk([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",
name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,
nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip",
"controls_flow_in_loop_check"]}]);h.ka.Fe.mE={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};h.aa.register("controls_whileUntil_tooltip",h.aa.wp("MODE",h.ka.Fe.mE));h.ka.Fe.zC={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};h.aa.register("controls_flow_tooltip",h.aa.wp("FLOW",h.ka.Fe.zC));
h.ka.Fe.OC={tg:function(a){if(!this.Yb){var c=v(this,"VAR").Yc(),d=c.name;if(!this.isCollapsed()&&null!=d){var e={enabled:!0};e.text=h.h.VARIABLES_SET_CREATE_GET.replace("%1",d);c=h.X.Wm(c);d=h.g.xml.createElement("block");d.setAttribute("type","variables_get");d.appendChild(c);e.zb=h.za.zm(this,d);a.push(e)}}}};h.aa.cr("contextMenu_newGetVariableBlock",h.ka.Fe.OC);h.aa.register("controls_for_tooltip",h.aa.st("%{BKY_CONTROLS_FOR_TOOLTIP}"));h.aa.register("controls_forEach_tooltip",h.aa.st("%{BKY_CONTROLS_FOREACH_TOOLTIP}"));
h.ka.Fe.Jo={CD:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],Mi:!0,iA:function(a){do{if(-1!=h.ka.Fe.Jo.CD.indexOf(a.type))return a;a=vc(a)}while(a);return null},onchange:function(){this.w.nc&&!this.w.nc()&&(h.ka.Fe.Jo.iA(this)?(this.Hh(null),this.Yb||this.wd(!0)):(this.Hh(h.h.CONTROLS_FLOW_STATEMENTS_WARNING),this.Yb||xc(this)||this.wd(!1)))}};h.aa.cr("controls_flow_in_loop_check",h.ka.Fe.Jo);h.M.oc={};h.ka.Math={};h.ka.Math.To=230;
h.Uk([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
h.ka.Math.Ws={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
h.aa.register("math_op_tooltip",h.aa.wp("OP",h.ka.Math.Ws));h.ka.Math.oD={cb:function(){var a=h.g.xml.createElement("mutation"),c="DIVISIBLE_BY"==C(this,"PROPERTY");a.setAttribute("divisor_input",c);return a},Cb:function(a){a="true"==a.getAttribute("divisor_input");this.Tc(a)},Tc:function(a){var c=y(this,"DIVISOR");a?c||J(this,"DIVISOR").lb("Number"):c&&this.ib("DIVISOR")}};h.ka.Math.pD=function(){mc(v(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.P().Tc(a)})};
h.aa.Kv("math_is_divisibleby_mutator",h.ka.Math.oD,h.ka.Math.pD);h.aa.register("math_change_tooltip",h.aa.st("%{BKY_MATH_CHANGE_TOOLTIP}"));h.ka.Math.xD={Qi:function(a){"MODE"==a?this.F.lb("Array"):this.F.lb("Number")},cb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("op",C(this,"OP"));return a},Cb:function(a){this.Qi(a.getAttribute("op"))}};h.ka.Math.wD=function(){mc(v(this,"OP"),function(a){this.Qi(a)}.bind(this))};h.aa.Kv("math_modes_of_list_mutator",h.ka.Math.xD,h.ka.Math.wD);h.pf=function(a,c,d){this.Sy=null;null==a&&(a="FALSE");h.pf.v.constructor.call(this,a,c,d)};h.g.object.U(h.pf,h.ke);h.pf.ya=function(a){return new h.pf(a.checked,void 0,a)};h.pf.DC="\u2713";b=h.pf.prototype;b.Hk=!0;b.Sr="default";b.vh=!1;b.Pe=function(a){h.pf.v.Pe.call(this,a);a.checkCharacter&&(this.Sy=a.checkCharacter)};
b.dl=function(){this.Gb.width=this.u.hx;h.pf.v.dl.call(this);this.Mb.setAttribute("x",this.u.ix);this.Mb.setAttribute("y",this.u.jx);this.Mb.removeAttribute("dominant-baseline");h.g.o.Xa(this.Mb,"blocklyCheckbox");this.Oi.nodeValue=this.Sy||h.pf.DC;this.Mb.style.display=this.uc?"block":"none"};b.Ih=function(){this.setValue(!this.uc)};b.sj=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};b.di=function(a){this.uc=gf(a);this.Mb&&(this.Mb.style.display=this.uc?"block":"none")};
b.getValue=function(){return this.uc?"TRUE":"FALSE"};b.hc=function(){return String(gf(this.uc))};function gf(a){return"string"==typeof a?"TRUE"==a:!!a}h.rd.register("field_checkbox",h.pf);h.M.NH={};
h.M.procedures_defnoreturn={S:function(){var a=new h.Ob("",h.sa.dr);$e(a);I(I(I(K(this),h.h.PROCEDURES_DEFNORETURN_TITLE),a,"NAME"),"","PARAMS");this.Li(new h.Tb(["procedures_mutatorarg"]));(this.w.options.Em||this.w.options.Nc&&this.w.options.Nc.options.Em)&&h.h.PROCEDURES_DEFNORETURN_COMMENT&&this.Gg(h.h.PROCEDURES_DEFNORETURN_COMMENT);this.Rb("procedure_blocks");this.Wa(h.h.PROCEDURES_DEFNORETURN_TOOLTIP);this.Db=h.h.PROCEDURES_DEFNORETURN_HELPURL;this.xa=[];this.cc=[];this.Ig(!0);this.Sf=null},
Ig:function(a){this.iq!==a&&(a?(I(yc(this,"STACK"),h.h.PROCEDURES_DEFNORETURN_DO),y(this,"RETURN")&&zc(this,"STACK","RETURN")):this.ib("STACK",!0),this.iq=a)},po:function(){var a="";this.xa.length&&(a=h.h.PROCEDURES_BEFORE_PARAMS+" "+this.xa.join(", "));h.i.disable();try{wc(this,a,"PARAMS")}finally{h.i.enable()}},cb:function(a){var c=h.g.xml.createElement("mutation");a&&c.setAttribute("name",C(this,"NAME"));for(var d=0;d<this.cc.length;d++){var e=h.g.xml.createElement("arg"),f=this.cc[d];e.setAttribute("name",
f.name);e.setAttribute("varid",f.wa());a&&this.zv&&e.setAttribute("paramId",this.zv[d]);c.appendChild(e)}this.iq||c.setAttribute("statements","false");return c},Cb:function(a){this.xa=[];this.cc=[];for(var c=0,d;d=a.childNodes[c];c++)if("arg"==d.nodeName.toLowerCase()){var e=d.getAttribute("name");d=d.getAttribute("varid")||d.getAttribute("varId");this.xa.push(e);d=h.X.Zp(this.w,d,e,"");null!=d?this.cc.push(d):console.log("Failed to create a variable with name "+e+", ignoring.")}this.po();h.sa.Gn(this);
this.Ig("false"!==a.getAttribute("statements"))},hh:function(a){var c=h.g.xml.createElement("block");c.setAttribute("type","procedures_mutatorcontainer");var d=h.g.xml.createElement("statement");d.setAttribute("name","STACK");c.appendChild(d);for(var e=0;e<this.xa.length;e++){var f=h.g.xml.createElement("block");f.setAttribute("type","procedures_mutatorarg");var g=h.g.xml.createElement("field");g.setAttribute("name","NAME");var k=h.g.xml.createTextNode(this.xa[e]);g.appendChild(k);f.appendChild(g);
g=h.g.xml.createElement("next");f.appendChild(g);d.appendChild(f);d=g}a=h.R.tj(c,a);"procedures_defreturn"==this.type?wc(a,this.iq,"STATEMENTS"):a.ib("STATEMENT_INPUT");h.sa.Gn(this);return a},eh:function(a){this.xa=[];this.zv=[];this.cc=[];for(var c=Ac(a,"STACK");c;){var d=C(c,"NAME");this.xa.push(d);d=this.w.Yc(d,"");this.cc.push(d);this.zv.push(c.id);c=c.V&&c.V.ga()}this.po();h.sa.Gn(this);a=C(a,"STATEMENTS");if(null!==a&&(a="TRUE"==a,this.iq!=a))if(a)this.Ig(!0),h.Tb.yl(this.Sf,this,"STACK"),
this.Sf=null;else{a=y(this,"STACK").connection;if(this.Sf=a.ea)a=a.ga(),w(a),a.Ib();this.Ig(!1)}},ji:function(){return[C(this,"NAME"),this.xa,!1]},bq:function(){return this.xa},oh:function(){return this.cc},er:function(a,c){var d=this.w.Jf(a);if(""==d.type){d=d.name;c=this.w.Jf(c);for(var e=!1,f=0;f<this.cc.length;f++)this.cc[f].wa()==a&&(this.xa[f]=c.name,this.cc[f]=c,e=!0);e&&(this.Kp(d,c.name),h.sa.Gn(this))}},Br:function(a){for(var c=a.name,d=!1,e=0;e<this.cc.length;e++)if(this.cc[e].wa()==a.wa()){var f=
this.xa[e];this.xa[e]=c;d=!0}d&&(this.Kp(f,c),h.sa.Gn(this))},Kp:function(a,c){this.po();if(this.bd&&this.bd.isVisible())for(var d=B(this.bd.s),e=0,f;f=d[e];e++)"procedures_mutatorarg"==f.type&&h.Sd.Se(a,C(f,"NAME"))&&wc(f,c,"NAME")},tg:function(a){if(!this.Yb){var c={enabled:!0},d=C(this,"NAME");c.text=h.h.PROCEDURES_CREATE_DO.replace("%1",d);var e=h.g.xml.createElement("mutation");e.setAttribute("name",d);for(d=0;d<this.xa.length;d++){var f=h.g.xml.createElement("arg");f.setAttribute("name",this.xa[d]);
e.appendChild(f)}d=h.g.xml.createElement("block");d.setAttribute("type",this.Qy);d.appendChild(e);c.zb=h.za.zm(this,d);a.push(c);if(!this.isCollapsed())for(d=0;d<this.cc.length;d++)c={enabled:!0},e=this.cc[d],c.text=h.h.VARIABLES_SET_CREATE_GET.replace("%1",e.name),e=h.X.Wm(e),f=h.g.xml.createElement("block"),f.setAttribute("type","variables_get"),f.appendChild(e),c.zb=h.za.zm(this,f),a.push(c)}},Qy:"procedures_callnoreturn"};
h.M.procedures_defreturn={S:function(){var a=new h.Ob("",h.sa.dr);$e(a);I(I(I(K(this),h.h.PROCEDURES_DEFRETURN_TITLE),a,"NAME"),"","PARAMS");I(uc(J(this,"RETURN"),h.nk),h.h.PROCEDURES_DEFRETURN_RETURN);this.Li(new h.Tb(["procedures_mutatorarg"]));(this.w.options.Em||this.w.options.Nc&&this.w.options.Nc.options.Em)&&h.h.PROCEDURES_DEFRETURN_COMMENT&&this.Gg(h.h.PROCEDURES_DEFRETURN_COMMENT);this.Rb("procedure_blocks");this.Wa(h.h.PROCEDURES_DEFRETURN_TOOLTIP);this.Db=h.h.PROCEDURES_DEFRETURN_HELPURL;
this.xa=[];this.cc=[];this.Ig(!0);this.Sf=null},Ig:h.M.procedures_defnoreturn.Ig,po:h.M.procedures_defnoreturn.po,cb:h.M.procedures_defnoreturn.cb,Cb:h.M.procedures_defnoreturn.Cb,hh:h.M.procedures_defnoreturn.hh,eh:h.M.procedures_defnoreturn.eh,ji:function(){return[C(this,"NAME"),this.xa,!0]},bq:h.M.procedures_defnoreturn.bq,oh:h.M.procedures_defnoreturn.oh,er:h.M.procedures_defnoreturn.er,Br:h.M.procedures_defnoreturn.Br,Kp:h.M.procedures_defnoreturn.Kp,tg:h.M.procedures_defnoreturn.tg,Qy:"procedures_callreturn"};
h.M.procedures_mutatorcontainer={S:function(){I(K(this),h.h.PROCEDURES_MUTATORCONTAINER_TITLE);yc(this,"STACK");I(I(K(this,"STATEMENT_INPUT"),h.h.PROCEDURES_ALLOW_STATEMENTS),new h.pf("TRUE"),"STATEMENTS");this.Rb("procedure_blocks");this.Wa(h.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
h.M.procedures_mutatorarg={S:function(){var a=new h.Ob(h.sa.Xw,this.hk);a.pH=a.Ih;a.Ih=function(){this.Mm=[];this.pH()};I(I(K(this),h.h.PROCEDURES_MUTATORARG_TITLE),a,"NAME");this.Ae(!0);this.ze(!0);this.Rb("procedure_blocks");this.Wa(h.h.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=!1;a.tv=this.rF;a.Mm=[];a.tv("x")},hk:function(a){var c=this.P(),d=h.Tb.Kz(c.w);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var e=B(c.w.Ni||c.w),f=0;f<e.length;f++)if(e[f].id!=this.P().id&&
C(e[f],"NAME")==a)return null;if(c.Yb)return a;(c=d.Yc(a,""))&&c.name!=a&&d.Hi(c.wa(),a);c||(c=d.Qe(a,""))&&this.Mm&&this.Mm.push(c);return a},rF:function(a){var c=h.Tb.Kz(this.P().w);if(c)for(var d=0;d<this.Mm.length;d++){var e=this.Mm[d];e.name!=a&&c.ih(e.wa())}}};
h.M.procedures_callnoreturn={S:function(){I(K(this,"TOPROW"),this.id,"NAME");this.Ae(!0);this.ze(!0);this.Rb("procedure_blocks");this.Db=h.h.PROCEDURES_CALLNORETURN_HELPURL;this.xa=[];this.cc=[];this.Bh={};this.Eg=null;this.Hv=!0},ve:function(){return C(this,"NAME")},Rn:function(a,c){h.Sd.Se(a,this.ve())&&(wc(this,c,"NAME"),this.Wa((this.F?h.h.PROCEDURES_CALLRETURN_TOOLTIP:h.h.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",c)))},Wv:function(a,c){var d=h.sa.Zm(this.ve(),this.w),e=d&&d.bd&&d.bd.isVisible();
e||(this.Bh={},this.Eg=null);if(c)if(a.join("\n")==this.xa.join("\n"))this.Eg=c;else{if(c.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");this.Eh(!1);this.Eg||(this.Bh={},this.Eg=[]);d=this.ma;this.ma=!1;for(var f=0;f<this.xa.length;f++){var g=y(this,"ARG"+f);g&&(g=g.connection.ea,this.Bh[this.Eg[f]]=g,e&&g&&-1==c.indexOf(this.Eg[f])&&(g.disconnect(),g.P().Ib()))}this.xa=[].concat(a);this.cc=[];for(f=0;f<this.xa.length;f++)a=h.X.Zp(this.w,null,this.xa[f],""),
this.cc.push(a);this.Tc();if(this.Eg=c)for(f=0;f<this.xa.length;f++)c=this.Eg[f],c in this.Bh&&(g=this.Bh[c],h.Tb.yl(g,this,"ARG"+f)||delete this.Bh[c]);(this.ma=d)&&this.Ba()}},Tc:function(){for(var a=0;a<this.xa.length;a++){var c=v(this,"ARGNAME"+a);if(c){h.i.disable();try{c.setValue(this.xa[a])}finally{h.i.enable()}}else c=new h.ld(this.xa[a]),I(uc(J(this,"ARG"+a),h.nk),c,"ARGNAME"+a).S()}for(;y(this,"ARG"+a);)this.ib("ARG"+a),a++;if(a=y(this,"TOPROW"))if(this.xa.length)v(this,"WITH")||(I(a,h.h.PROCEDURES_CALL_BEFORE_PARAMS,
"WITH"),a.S());else if(v(this,"WITH"))a:{c=0;for(var d;d=a.Ua[c];c++)if("WITH"===d.name){d.H();a.Ua.splice(c,1);a.I.ma&&(a.I.Ba(),a.I.Ib());break a}throw Error('Field "%s" not found.',"WITH");}},cb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("name",this.ve());for(var c=0;c<this.xa.length;c++){var d=h.g.xml.createElement("arg");d.setAttribute("name",this.xa[c]);a.appendChild(d)}return a},Cb:function(a){var c=a.getAttribute("name");this.Rn(this.ve(),c);c=[];for(var d=[],e=0,f;f=
a.childNodes[e];e++)"arg"==f.nodeName.toLowerCase()&&(c.push(f.getAttribute("name")),d.push(f.getAttribute("paramId")));this.Wv(c,d)},oh:function(){return this.cc},onchange:function(a){if(this.w&&!this.w.Mf&&a.Pc)if(a.type==h.i.zo&&-1!=a.ni.indexOf(this.id)){var c=this.ve();c=h.sa.Zm(c,this.w);!c||c.type==this.Jt&&JSON.stringify(c.xa)==JSON.stringify(this.xa)||(c=null);if(!c){h.i.ca(a.group);a=h.g.xml.createElement("xml");c=h.g.xml.createElement("block");c.setAttribute("type",this.Jt);var d=this.Va(),
e=d.y+2*h.Cd;c.setAttribute("x",d.x+h.Cd*(this.J?-1:1));c.setAttribute("y",e);d=this.cb();c.appendChild(d);d=h.g.xml.createElement("field");d.setAttribute("name","NAME");d.appendChild(h.g.xml.createTextNode(this.ve()));c.appendChild(d);a.appendChild(c);h.R.ei(a,this.w);h.i.ca(!1)}}else a.type==h.i.Lr?(c=this.ve(),c=h.sa.Zm(c,this.w),c||(h.i.ca(a.group),this.H(!0),h.i.ca(!1))):a.type==h.i.Vi&&"disabled"==a.element&&(c=this.ve(),(c=h.sa.Zm(c,this.w))&&c.id==a.Fc&&((c=h.i.fc())&&console.log("Saw an existing group while responding to a definition change"),
h.i.ca(a.group),a.newValue?(this.Hv=this.isEnabled(),this.wd(!1)):this.wd(this.Hv),h.i.ca(c)))},tg:function(a){if(this.w.Lc()){var c={enabled:!0};c.text=h.h.PROCEDURES_HIGHLIGHT_DEF;var d=this.ve(),e=this.w;c.zb=function(){var f=h.sa.Zm(d,e);if(f){var g=f.id;if(e.Lc()){if(g=g?e.Fd(g):null){var k=g.Va(),l=G(g),m=e.scale;g=(k.x+(e.J?-1:1)*l.width/2)*m;k=(k.y+l.height/2)*m;l=e.Jc();g=-(g-l.Gc-l.qb/2)-l.Gc;k=-(k-l.xc-l.Ab/2)-l.xc;h.zc();e.scroll(g,k)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");
f.select()}};a.push(c)}},Jt:"procedures_defnoreturn"};
h.M.procedures_callreturn={S:function(){I(K(this,"TOPROW"),"","NAME");this.Md(!0);this.Rb("procedure_blocks");this.Db=h.h.PROCEDURES_CALLRETURN_HELPURL;this.xa=[];this.Bh={};this.Eg=null;this.Hv=!0},ve:h.M.procedures_callnoreturn.ve,Rn:h.M.procedures_callnoreturn.Rn,Wv:h.M.procedures_callnoreturn.Wv,Tc:h.M.procedures_callnoreturn.Tc,cb:h.M.procedures_callnoreturn.cb,Cb:h.M.procedures_callnoreturn.Cb,oh:h.M.procedures_callnoreturn.oh,onchange:h.M.procedures_callnoreturn.onchange,tg:h.M.procedures_callnoreturn.tg,
Jt:"procedures_defreturn"};
h.M.procedures_ifreturn={S:function(){I(J(this,"CONDITION").lb("Boolean"),h.h.CONTROLS_IF_MSG_IF);I(J(this,"VALUE"),h.h.PROCEDURES_DEFRETURN_RETURN);this.Qc(!0);this.Ae(!0);this.ze(!0);this.Rb("procedure_blocks");this.Wa(h.h.PROCEDURES_IFRETURN_TOOLTIP);this.Db=h.h.PROCEDURES_IFRETURN_HELPURL;this.mi=!0},cb:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("value",Number(this.mi));return a},Cb:function(a){this.mi=1==a.getAttribute("value");this.mi||(this.ib("VALUE"),I(K(this,"VALUE"),
h.h.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.w.nc&&!this.w.nc()){var a=!1,c=this;do{if(-1!=this.aD.indexOf(c.type)){a=!0;break}c=vc(c)}while(c);a?("procedures_defnoreturn"==c.type&&this.mi?(this.ib("VALUE"),I(K(this,"VALUE"),h.h.PROCEDURES_DEFRETURN_RETURN),this.mi=!1):"procedures_defreturn"!=c.type||this.mi||(this.ib("VALUE"),I(J(this,"VALUE"),h.h.PROCEDURES_DEFRETURN_RETURN),this.mi=!0),this.Hh(null),this.Yb||this.wd(!0)):(this.Hh(h.h.PROCEDURES_IFRETURN_WARNING),this.Yb||xc(this)||
this.wd(!1))}},aD:["procedures_defnoreturn","procedures_defreturn"]};h.M.yI={};h.ka.X={};h.ka.X.To=330;
h.Uk([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,
style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
h.ka.X.PC={tg:function(a){if(!this.Yb){if("variables_get"==this.type)var c="variables_set",d=h.h.VARIABLES_GET_CREATE_SET;else c="variables_get",d=h.h.VARIABLES_SET_CREATE_GET;var e={enabled:0<Da(this.w)},f=v(this,"VAR").hc();e.text=d.replace("%1",f);d=h.g.xml.createElement("field");d.setAttribute("name","VAR");d.appendChild(h.g.xml.createTextNode(f));f=h.g.xml.createElement("block");f.setAttribute("type",c);f.appendChild(d);e.zb=h.za.zm(this,f);a.push(e)}else if("variables_get"==this.type||"variables_get_reporter"==
this.type)c={text:h.h.NK,enabled:!0,zb:h.ka.X.XD(this)},f=v(this,"VAR").hc(),e={text:h.h.WI.replace("%1",f),enabled:!0,zb:h.ka.X.SC(this)},a.unshift(c),a.unshift(e)}};h.ka.X.XD=function(a){return function(){var c=a.w,d=v(a,"VAR").Yc();h.X.gr(c,d)}};h.ka.X.SC=function(a){return function(){var c=a.w,d=v(a,"VAR").Yc();c.ih(d.wa());jd(c)}};h.aa.cr("contextMenu_variableSetterGetter",h.ka.X.PC);h.j.$u={};h.j.lists_create_empty=function(){return["[]",h.j.cj]};h.j.lists_create_with=function(a){for(var c=Array(a.Id),d=0;d<a.Id;d++)c[d]=R(a,"ADD"+d,h.j.Uc)||"null";return["["+c.join(", ")+"]",h.j.cj]};h.j.lists_repeat=function(a){var c=We("listsRepeat",["function "+h.j.Ee+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),d=R(a,"ITEM",h.j.Uc)||"null";a=R(a,"NUM",h.j.Uc)||"0";return[c+"("+d+", "+a+")",h.j.tb]};
h.j.lists_length=function(a){return[(R(a,"VALUE",h.j.Hb)||"[]")+".length",h.j.Hb]};h.j.lists_isEmpty=function(a){return["!"+(R(a,"VALUE",h.j.Hb)||"[]")+".length",h.j.gm]};h.j.lists_indexOf=function(a){var c="FIRST"==C(a,"END")?"indexOf":"lastIndexOf",d=R(a,"FIND",h.j.nd)||"''";c=(R(a,"VALUE",h.j.Hb)||"[]")+"."+c+"("+d+")";return a.w.options.Ah?[c+" + 1",h.j.Sh]:[c,h.j.tb]};
h.j.lists_getIndex=function(a){var c=C(a,"MODE")||"GET",d=C(a,"WHERE")||"FROM_START",e=R(a,"VALUE","RANDOM"==d?h.j.Uc:h.j.Hb)||"[]";switch(d){case "FIRST":if("GET"==c)return[e+"[0]",h.j.Hb];if("GET_REMOVE"==c)return[e+".shift()",h.j.Hb];if("REMOVE"==c)return e+".shift();\n";break;case "LAST":if("GET"==c)return[e+".slice(-1)[0]",h.j.Hb];if("GET_REMOVE"==c)return[e+".pop()",h.j.Hb];if("REMOVE"==c)return e+".pop();\n";break;case "FROM_START":a=h.j.wg(a,"AT");if("GET"==c)return[e+"["+a+"]",h.j.Hb];if("GET_REMOVE"==
c)return[e+".splice("+a+", 1)[0]",h.j.tb];if("REMOVE"==c)return e+".splice("+a+", 1);\n";break;case "FROM_END":a=h.j.wg(a,"AT",1,!0);if("GET"==c)return[e+".slice("+a+")[0]",h.j.tb];if("GET_REMOVE"==c)return[e+".splice("+a+", 1)[0]",h.j.tb];if("REMOVE"==c)return e+".splice("+a+", 1);";break;case "RANDOM":e=We("listsGetRandomItem",["function "+h.j.Ee+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];",
"  }","}"])+"("+e+", "+("GET"!=c)+")";if("GET"==c||"GET_REMOVE"==c)return[e,h.j.tb];if("REMOVE"==c)return e+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
h.j.lists_setIndex=function(a){function c(){if(d.match(/^\w+$/))return"";var k=yd(h.j.Nd,"tmpList",h.ac),l="var "+k+" = "+d+";\n";d=k;return l}var d=R(a,"LIST",h.j.Hb)||"[]",e=C(a,"MODE")||"GET",f=C(a,"WHERE")||"FROM_START",g=R(a,"TO",h.j.Xg)||"null";switch(f){case "FIRST":if("SET"==e)return d+"[0] = "+g+";\n";if("INSERT"==e)return d+".unshift("+g+");\n";break;case "LAST":if("SET"==e)return a=c(),a+(d+"["+d+".length - 1] = "+g+";\n");if("INSERT"==e)return d+".push("+g+");\n";break;case "FROM_START":f=
h.j.wg(a,"AT");if("SET"==e)return d+"["+f+"] = "+g+";\n";if("INSERT"==e)return d+".splice("+f+", 0, "+g+");\n";break;case "FROM_END":f=h.j.wg(a,"AT",1,!1,h.j.Fk);a=c();if("SET"==e)return a+(d+"["+d+".length - "+f+"] = "+g+";\n");if("INSERT"==e)return a+(d+".splice("+d+".length - "+f+", 0, "+g+");\n");break;case "RANDOM":a=c();f=yd(h.j.Nd,"tmpX",h.ac);a+="var "+f+" = Math.floor(Math.random() * "+d+".length);\n";if("SET"==e)return a+(d+"["+f+"] = "+g+";\n");if("INSERT"==e)return a+(d+".splice("+f+", 0, "+
g+");\n")}throw Error("Unhandled combination (lists_setIndex).");};h.j.$u.hG=function(a,c,d){return"FIRST"==c?"0":"FROM_END"==c?a+".length - 1 - "+d:"LAST"==c?a+".length - 1":d};
h.j.lists_getSublist=function(a){var c=R(a,"LIST",h.j.Hb)||"[]",d=C(a,"WHERE1"),e=C(a,"WHERE2");if("FIRST"==d&&"LAST"==e)c+=".slice(0)";else if(c.match(/^\w+$/)||"FROM_END"!=d&&"FROM_START"==e){switch(d){case "FROM_START":var f=h.j.wg(a,"AT1");break;case "FROM_END":f=h.j.wg(a,"AT1",1,!1,h.j.Fk);f=c+".length - "+f;break;case "FIRST":f="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(e){case "FROM_START":a=h.j.wg(a,"AT2",1);break;case "FROM_END":a=h.j.wg(a,"AT2",0,!1,h.j.Fk);
a=c+".length - "+a;break;case "LAST":a=c+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}c=c+".slice("+f+", "+a+")"}else{f=h.j.wg(a,"AT1");a=h.j.wg(a,"AT2");var g=h.j.$u.hG,k={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};c=We("subsequence"+k[d]+k[e],["function "+h.j.Ee+"(sequence"+("FROM_END"==d||"FROM_START"==d?", at1":"")+("FROM_END"==e||"FROM_START"==e?", at2":"")+") {","  var start = "+g("sequence",d,"at1")+";","  var end = "+g("sequence",e,
"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+c+("FROM_END"==d||"FROM_START"==d?", "+f:"")+("FROM_END"==e||"FROM_START"==e?", "+a:"")+")"}return[c,h.j.tb]};
h.j.lists_sort=function(a){var c=R(a,"LIST",h.j.tb)||"[]",d="1"===C(a,"DIRECTION")?1:-1;a=C(a,"TYPE");var e=We("listsGetSortCompare",["function "+h.j.Ee+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];",
"  return function(a, b) { return compare(a, b) * direction; }","}"]);return[c+".slice().sort("+e+'("'+a+'", '+d+"))",h.j.tb]};h.j.lists_split=function(a){var c=R(a,"INPUT",h.j.Hb),d=R(a,"DELIM",h.j.nd)||"''";a=C(a,"MODE");if("SPLIT"==a)c||(c="''"),a="split";else if("JOIN"==a)c||(c="[]"),a="join";else throw Error("Unknown mode: "+a);return[c+"."+a+"("+d+")",h.j.tb]};h.j.lists_reverse=function(a){return[(R(a,"LIST",h.j.tb)||"[]")+".slice().reverse()",h.j.tb]};h.j.VG={};h.j.controls_if=function(a){var c=0,d="";h.j.Td&&(d+=Q(h.j.Td,a));do{var e=R(a,"IF"+c,h.j.nd)||"false";var f=Te(a,"DO"+c);h.j.Wc&&(f=Se(Q(h.j.Wc,a),h.j.Ad)+f);d+=(0<c?" else ":"")+"if ("+e+") {\n"+f+"}";++c}while(y(a,"IF"+c));if(y(a,"ELSE")||h.j.Wc)f=Te(a,"ELSE"),h.j.Wc&&(f=Se(Q(h.j.Wc,a),h.j.Ad)+f),d+=" else {\n"+f+"}";return d+"\n"};h.j.controls_ifelse=h.j.controls_if;
h.j.logic_compare=function(a){var c={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[C(a,"OP")],d="=="==c||"!="==c?h.j.Rx:h.j.PD,e=R(a,"A",d)||"0";a=R(a,"B",d)||"0";return[e+" "+c+" "+a,d]};h.j.logic_operation=function(a){var c="AND"==C(a,"OP")?"&&":"||",d="&&"==c?h.j.ys:h.j.zs,e=R(a,"A",d);a=R(a,"B",d);if(e||a){var f="&&"==c?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+c+" "+a,d]};h.j.logic_negate=function(a){var c=h.j.gm;return["!"+(R(a,"BOOL",c)||"true"),c]};
h.j.logic_boolean=function(a){return["TRUE"==C(a,"BOOL")?"true":"false",h.j.cj]};h.j.logic_null=function(){return["null",h.j.cj]};h.j.logic_ternary=function(a){var c=R(a,"IF",h.j.fp)||"false",d=R(a,"THEN",h.j.fp)||"null";a=R(a,"ELSE",h.j.fp)||"null";return[c+" ? "+d+" : "+a,h.j.fp]};h.j.XG={};h.j.controls_repeat_ext=function(a){var c=v(a,"TIMES")?String(Number(C(a,"TIMES"))):R(a,"TIMES",h.j.Xg)||"0",d=Te(a,"DO");d=Ue(d,a);a="";var e=yd(h.j.Nd,"count",h.ac),f=c;c.match(/^\w+$/)||h.pi(c)||(f=yd(h.j.Nd,"repeat_end",h.ac),a+="var "+f+" = "+c+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};h.j.controls_repeat=h.j.controls_repeat_ext;
h.j.controls_whileUntil=function(a){var c="UNTIL"==C(a,"MODE"),d=R(a,"BOOL",c?h.j.gm:h.j.nd)||"false",e=Te(a,"DO");e=Ue(e,a);c&&(d="!"+d);return"while ("+d+") {\n"+e+"}\n"};
h.j.controls_for=function(a){var c=M(C(a,"VAR"),h.ac),d=R(a,"FROM",h.j.Xg)||"0",e=R(a,"TO",h.j.Xg)||"0",f=R(a,"BY",h.j.Xg)||"1",g=Te(a,"DO");g=Ue(g,a);if(h.pi(d)&&h.pi(e)&&h.pi(f)){var k=Number(d)<=Number(e);a="for ("+c+" = "+d+"; "+c+(k?" <= ":" >= ")+e+"; "+c;c=Math.abs(Number(f));a=(1==c?a+(k?"++":"--"):a+((k?" += ":" -= ")+c))+(") {\n"+g+"}\n")}else a="",k=d,d.match(/^\w+$/)||h.pi(d)||(k=yd(h.j.Nd,c+"_start",h.ac),a+="var "+k+" = "+d+";\n"),d=e,e.match(/^\w+$/)||h.pi(e)||(d=yd(h.j.Nd,c+"_end",
h.ac),a+="var "+d+" = "+e+";\n"),e=yd(h.j.Nd,c+"_inc",h.ac),a+="var "+e+" = ",a=h.pi(f)?a+(Math.abs(f)+";\n"):a+("Math.abs("+f+");\n"),a=a+("if ("+k+" > "+d+") {\n")+(h.j.Ad+e+" = -"+e+";\n"),a+="}\n",a+="for ("+c+" = "+k+"; "+e+" >= 0 ? "+c+" <= "+d+" : "+c+" >= "+d+"; "+c+" += "+e+") {\n"+g+"}\n";return a};
h.j.controls_forEach=function(a){var c=M(C(a,"VAR"),h.ac),d=R(a,"LIST",h.j.Xg)||"[]",e=Te(a,"DO");e=Ue(e,a);a="";var f=d;d.match(/^\w+$/)||(f=yd(h.j.Nd,c+"_list",h.ac),a+="var "+f+" = "+d+";\n");d=yd(h.j.Nd,c+"_index",h.ac);e=h.j.Ad+c+" = "+f+"["+d+"];\n"+e;return a+("for (var "+d+" in "+f+") {\n"+e+"}\n")};
h.j.controls_flow_statements=function(a){var c="";h.j.Td&&(c+=Q(h.j.Td,a));h.j.Wc&&(c+=Q(h.j.Wc,a));if(h.j.Td){var d=h.ka.Fe.Jo.iA(a);d&&!d.Mi&&(c+=Q(h.j.Td,d))}switch(C(a,"FLOW")){case "BREAK":return c+"break;\n";case "CONTINUE":return c+"continue;\n"}throw Error("Unknown flow statement.");};h.j.oc={};h.j.math_number=function(a){a=Number(C(a,"NUM"));return[a,0<=a?h.j.cj:h.j.im]};h.j.math_arithmetic=function(a){var c={ADD:[" + ",h.j.Sh],MINUS:[" - ",h.j.Fk],MULTIPLY:[" * ",h.j.As],DIVIDE:[" / ",h.j.fm],POWER:[null,h.j.Uc]}[C(a,"OP")],d=c[0];c=c[1];var e=R(a,"A",c)||"0";a=R(a,"B",c)||"0";return d?[e+d+a,c]:["Math.pow("+e+", "+a+")",h.j.tb]};
h.j.math_single=function(a){var c=C(a,"OP");if("NEG"==c)return a=R(a,"NUM",h.j.im)||"0","-"==a[0]&&(a=" "+a),["-"+a,h.j.im];a="SIN"==c||"COS"==c||"TAN"==c?R(a,"NUM",h.j.fm)||"0":R(a,"NUM",h.j.nd)||"0";switch(c){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;case "ROUNDDOWN":d=
"Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,h.j.tb];switch(c){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+c);}return[d,h.j.fm]};
h.j.math_constant=function(a){return{PI:["Math.PI",h.j.Hb],E:["Math.E",h.j.Hb],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",h.j.fm],SQRT2:["Math.SQRT2",h.j.Hb],SQRT1_2:["Math.SQRT1_2",h.j.Hb],INFINITY:["Infinity",h.j.cj]}[C(a,"CONSTANT")]};
h.j.math_number_property=function(a){var c=R(a,"NUMBER_TO_CHECK",h.j.hm)||"0",d=C(a,"PROPERTY");if("PRIME"==d){var e=We("mathIsPrime",["function "+h.j.Ee+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+c+")";return[e,h.j.tb]}switch(d){case "EVEN":e=c+" % 2 == 0";break;case "ODD":e=c+" % 2 == 1";break;case "WHOLE":e=c+" % 1 == 0";break;case "POSITIVE":e=c+" > 0";break;case "NEGATIVE":e=c+" < 0";break;case "DIVISIBLE_BY":a=R(a,"DIVISOR",h.j.hm)||"0",e=c+" % "+a+" == 0"}return[e,h.j.Rx]};
h.j.math_change=function(a){var c=R(a,"DELTA",h.j.Sh)||"0";a=M(C(a,"VAR"),h.ac);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+c+";\n"};h.j.math_round=h.j.math_single;h.j.math_trig=h.j.math_single;
h.j.math_on_list=function(a){var c=C(a,"OP");switch(c){case "SUM":a=R(a,"LIST",h.j.Hb)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=R(a,"LIST",h.j.Uc)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=R(a,"LIST",h.j.Uc)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":c=We("mathMean",["function "+h.j.Ee+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=R(a,"LIST",h.j.nd)||"[]";a=c+"("+a+")";break;case "MEDIAN":c=
We("mathMedian",["function "+h.j.Ee+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=R(a,"LIST",h.j.nd)||"[]";a=c+"("+a+")";break;case "MODE":c=We("mathModes",
["function "+h.j.Ee+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=R(a,"LIST",h.j.nd)||"[]";a=c+"("+a+")";break;case "STD_DEV":c=We("mathStandardDeviation",["function "+h.j.Ee+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=R(a,"LIST",h.j.nd)||"[]";a=c+"("+a+")";break;case "RANDOM":c=We("mathRandomList",["function "+h.j.Ee+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=R(a,"LIST",h.j.nd)||"[]";a=c+"("+a+")";break;default:throw Error("Unknown operator: "+c);}return[a,h.j.tb]};h.j.math_modulo=function(a){var c=R(a,"DIVIDEND",h.j.hm)||"0";a=R(a,"DIVISOR",h.j.hm)||"0";return[c+" % "+a,h.j.hm]};
h.j.math_constrain=function(a){var c=R(a,"VALUE",h.j.Uc)||"0",d=R(a,"LOW",h.j.Uc)||"0";a=R(a,"HIGH",h.j.Uc)||"Infinity";return["Math.min(Math.max("+c+", "+d+"), "+a+")",h.j.tb]};
h.j.math_random_int=function(a){var c=R(a,"FROM",h.j.Uc)||"0";a=R(a,"TO",h.j.Uc)||"0";return[We("mathRandomInt",["function "+h.j.Ee+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+c+", "+a+")",h.j.tb]};h.j.math_random_float=function(){return["Math.random()",h.j.tb]};
h.j.math_atan2=function(a){var c=R(a,"X",h.j.Uc)||"0";return["Math.atan2("+(R(a,"Y",h.j.Uc)||"0")+", "+c+") / Math.PI * 180",h.j.fm]};h.j.NH={};h.j.procedures_defreturn=function(a){var c=M(C(a,"NAME"),h.km),d="";h.j.Td&&(d+=Q(h.j.Td,a));h.j.Wc&&(d+=Q(h.j.Wc,a));d&&(d=Se(d,h.j.Ad));var e="";h.j.Vo&&(e=Se(Q(h.j.Vo,a),h.j.Ad));var f=Te(a,"STACK"),g=R(a,"RETURN",h.j.nd)||"",k="";f&&g&&(k=d);g&&(g=h.j.Ad+"return "+g+";\n");for(var l=[],m=0;m<a.xa.length;m++)l[m]=M(a.xa[m],h.ac);d="function "+c+"("+l.join(", ")+") {\n"+d+e+f+k+g+"}";d=h.j.Sn(a,d);h.j.ci["%"+c]=d;return null};h.j.procedures_defnoreturn=h.j.procedures_defreturn;
h.j.procedures_callreturn=function(a){for(var c=M(C(a,"NAME"),h.km),d=[],e=0;e<a.xa.length;e++)d[e]=R(a,"ARG"+e,h.j.Uc)||"null";return[c+"("+d.join(", ")+")",h.j.tb]};h.j.procedures_callnoreturn=function(a){return h.j.procedures_callreturn(a)[0]+";\n"};h.j.procedures_ifreturn=function(a){var c="if ("+(R(a,"CONDITION",h.j.nd)||"false")+") {\n";h.j.Wc&&(c+=Se(Q(h.j.Wc,a),h.j.Ad));a.mi?(a=R(a,"VALUE",h.j.nd)||"null",c+=h.j.Ad+"return "+a+";\n"):c+=h.j.Ad+"return;\n";return c+"}\n"};h.j.yI={};h.j.variables_get=function(a){return[M(C(a,"VAR"),h.ac),h.j.cj]};h.j.variables_set=function(a){var c=R(a,"VALUE",h.j.Xg)||"0";return M(C(a,"VAR"),h.ac)+" = "+c+";\n"};
for(var hf in h.ka.md.Qr)h.M.controls_if[hf]=h.ka.md.Qr[hf];h.M.controls_if.S=function(){this.Db=h.h.CONTROLS_IF_HELPURL;this.dd(h.h.LOGIC_HUE);I(J(this,"IF0").lb("Boolean"),"if (");I(K(this),") {");yc(this,"DO0");I(K(this,"TAIL"),"}");this.Qc(!0);this.Ae(!0);this.ze(!0);this.Li(new h.Tb(["controls_if_elseif","controls_if_else"]));h.ka.md.Rw.apply(this)};
h.M.controls_if.Tc=function(){y(this,"ELSE")&&(this.ib("ELSEMSG"),this.ib("ELSE"));for(var a=1;y(this,"IF"+a);)this.ib("IF"+a),this.ib("TAIL"+a),this.ib("DO"+a),a++;for(a=1;a<=this.$d;a++)I(J(this,"IF"+a).lb("Boolean"),"} else if ("),I(K(this,"TAIL"+a),") {"),yc(this,"DO"+a);this.Re&&(I(K(this,"ELSEMSG"),"} else {"),yc(this,"ELSE"));zc(this,"TAIL",null)};
h.M.logic_compare.S=function(){this.Db=h.h.LOGIC_COMPARE_HELPURL;this.dd(h.h.LOGIC_HUE);this.Md(!0,"Boolean");J(this,"A");I(J(this,"B"),new h.Sa([["==","EQ"],["!=","NEQ"],["<","LT"],["<=","LTE"],[">","GT"],[">=","GTE"]]),"OP");this.Qc(!0);var a=this;this.Wa(function(){var c=C(a,"OP");return{EQ:h.h.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:h.h.LOGIC_COMPARE_TOOLTIP_NEQ,LT:h.h.LOGIC_COMPARE_TOOLTIP_LT,LTE:h.h.LOGIC_COMPARE_TOOLTIP_LTE,GT:h.h.LOGIC_COMPARE_TOOLTIP_GT,GTE:h.h.LOGIC_COMPARE_TOOLTIP_GTE}[c]});this.wl=
[null,null]};h.h.LOGIC_OPERATION_AND="&&";h.h.LOGIC_OPERATION_OR="||";h.h.LOGIC_NEGATE_TITLE="! %1";h.h.LOGIC_BOOLEAN_TRUE="true";h.h.LOGIC_BOOLEAN_FALSE="false";h.M.controls_whileUntil.S=function(){L(this,{message0:"while ( %1 ) { %2 %3 }",args0:[{type:"input_value",name:"BOOL",check:"Boolean"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:h.h.LOOPS_HUE,tooltip:h.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE,helpUrl:h.h.CONTROLS_WHILEUNTIL_HELPURL})};
h.M.controls_for.S=function(){L(this,{message0:"for (var %1 = %2;  %3 < %4;  %5 += 1) { %6 %7 }",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR1",text:"?"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"field_label",name:"VAR2",text:"?"},{type:"input_dummy"},{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:h.h.LOOPS_HUE,helpUrl:h.h.CONTROLS_FOR_HELPURL});
var a=this;this.Wa(function(){return h.h.CONTROLS_FOR_TOOLTIP.replace("%1",C(a,"VAR"))})};h.M.controls_for.onchange=function(){var a=v(this,"VAR").hc();wc(this,a,"VAR1");wc(this,a,"VAR2")};h.j.controls_for=function(a){var c=M(C(a,"VAR"),h.X.cp),d=R(a,"FROM",h.j.Xg)||"0",e=R(a,"TO",h.j.Xg)||"0",f=Te(a,"DO");f=Ue(f,a.id);return"for (var "+c+" = "+d+"; "+c+" < "+e+"; "+c+" += 1) {\n"+f+"}\n"};h.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break ;";h.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue ;";
h.M.math_arithmetic.S=function(){L(this,{message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["+","ADD"],["-","MINUS"],["*","MULTIPLY"],["/","DIVIDE"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:h.h.MATH_HUE,helpUrl:h.h.MATH_ARITHMETIC_HELPURL});var a=this;this.Wa(function(){var c=C(a,"OP");return{ADD:h.h.MATH_ARITHMETIC_TOOLTIP_ADD,MINUS:h.h.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:h.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,
DIVIDE:h.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE}[c]})};h.M.math_change.S=function(){L(this,{message0:"%1 += %2;",args0:[{type:"field_variable",name:"VAR",variable:"name"},{type:"input_value",name:"DELTA",check:"Number"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:h.h.VARIABLES_HUE,helpUrl:h.h.MATH_CHANGE_HELPURL});var a=this;this.Wa(function(){return h.h.MATH_CHANGE_TOOLTIP.replace("%1",v(a,"VAR").Yc().name)})};
h.j.math_change=function(a){var c=R(a,"DELTA",h.j.Sh)||"0";return M(C(a,"VAR"),h.X.cp)+" += "+c+";\n"};h.M.math_random_int.S=function(){L(this,{message0:"%1(%2,%3)",args0:["Math.randomInt",{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:h.h.MATH_HUE,tooltip:h.h.MATH_RANDOM_INT_TOOLTIP,helpUrl:h.h.MATH_RANDOM_INT_HELPURL})};h.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="Math.random  (  )";h.h.LISTS_CREATE_EMPTY_TITLE="[ ]";
h.h.LISTS_CREATE_WITH_INPUT_WITH="[";h.M.lists_create_with.Tc=function(){y(this,"TAIL")&&this.ib("TAIL");this.Id&&y(this,"EMPTY")?this.ib("EMPTY"):this.Id||y(this,"EMPTY")||I(K(this,"EMPTY"),h.h.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.Id;a++)if(!y(this,"ADD"+a)){var c=J(this,"ADD"+a);0==a?I(c,h.h.LISTS_CREATE_WITH_INPUT_WITH):I(c,",")}for(;y(this,"ADD"+a);)this.ib("ADD"+a),a++;this.Id&&I(K(this,"TAIL"),"]")};
h.M.lists_getIndex={S:function(){L(this,{message0:"%1[%2]",args0:[{type:"input_value",name:"VALUE",check:"Array"},{type:"input_value",name:"AT",check:"Number"}],inputsInline:!0,output:null,colour:h.h.LISTS_HUE,tooltip:h.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM+h.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1","#0"),helpUrl:h.h.LISTS_GET_INDEX_HELPURL})}};
h.M.lists_setIndex={S:function(){L(this,{message0:"%1[%2] = %3;",args0:[{type:"input_value",name:"LIST",check:"Array"},{type:"input_value",name:"AT",check:"Number"},{type:"input_value",name:"TO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:h.h.LISTS_HUE,tooltip:h.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM+h.h.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1","#0"),helpUrl:h.h.LISTS_SET_INDEX_HELPURL})}};h.h.LISTS_LENGTH_TITLE="%1 . length";
h.M.variables_get.S=function(){this.Db=h.h.VARIABLES_GET_HELPURL;this.dd(h.h.VARIABLES_HUE);I(K(this),new h.zd("name"),"VAR");this.Md(!0);this.Wa(h.h.VARIABLES_GET_TOOLTIP)};h.M.variables_set.S=function(){this.Db=h.h.VARIABLES_SET_HELPURL;this.dd(h.h.VARIABLES_HUE);I(I(I(J(this,"VALUE"),"var"),new h.zd("name"),"VAR"),"=");I(K(this),";");this.Qc(!0);this.Ae(!0);this.ze(!0);this.Wa(h.h.VARIABLES_SET_TOOLTIP)};
h.M.procedures_defnoreturn.S=function(){var a=new h.Ob("",h.sa.dr);I(I(I(I(I(K(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");this.Ig(!0);I(K(this),"}");this.Li(new h.Tb(["procedures_mutatorarg"]));h.h.PROCEDURES_DEFNORETURN_COMMENT&&this.Gg(h.h.PROCEDURES_DEFNORETURN_COMMENT);this.dd(h.h.PROCEDURES_HUE);this.Wa(h.h.PROCEDURES_DEFNORETURN_TOOLTIP);this.Db=h.h.PROCEDURES_DEFNORETURN_HELPURL;this.xa=[];this.cc=[];this.Ig(!0);this.Sf=null};
h.M.procedures_defreturn.S=function(){var a=new h.Ob("",h.sa.dr);I(I(I(I(I(K(this),"function"),a,"NAME"),"("),"","PARAMS"),") {");I(uc(J(this,"RETURN"),h.nk),"return");I(K(this),"}");this.Li(new h.Tb(["procedures_mutatorarg"]));h.h.PROCEDURES_DEFRETURN_COMMENT&&this.Gg(h.h.PROCEDURES_DEFRETURN_COMMENT);this.dd(h.h.PROCEDURES_HUE);this.Wa(h.h.PROCEDURES_DEFRETURN_TOOLTIP);this.Db=h.h.PROCEDURES_DEFRETURN_HELPURL;this.xa=[];this.cc=[];this.Ig(!0);this.Sf=null};h.h.PROCEDURES_BEFORE_PARAMS="";
h.M.procedures_callnoreturn.S=function(){this.Db=h.h.PROCEDURES_CALLNORETURN_HELPURL;this.dd(h.h.PROCEDURES_HUE);I(I(K(this),"","NAME"),"(");I(K(this,"TAIL"),");");this.Qc(!0);this.Ae(!0);this.ze(!0);this.Wa(h.h.PROCEDURES_CALLNORETURN_TOOLTIP);this.xa=[];this.Bh={}};h.M.procedures_callnoreturn.Tc=function(){for(var a=0;a<this.xa.length;a++)if(!y(this,"ARG"+a)){new h.ld(this.xa[a]);var c=J(this,"ARG"+a);0<a&&I(c,",");c.S()}for(;y(this,"ARG"+a);)this.ib("ARG"+a),a++;zc(this,"TAIL",null)};
h.M.procedures_callreturn.S=function(){this.Db=h.h.PROCEDURES_CALLRETURN_HELPURL;this.dd(h.h.PROCEDURES_HUE);I(I(K(this),"","NAME"),"(");I(K(this,"TAIL"),")");this.Qc(!0);this.Md(!0);this.Wa(h.h.PROCEDURES_CALLRETURN_TOOLTIP);this.xa=[];this.Bh={}};h.M.procedures_callreturn.Tc=h.M.procedures_callnoreturn.Tc;delete h.M.procedures_ifreturn;function jf(a,c){return function(d){var e=Te(d,"STACK"),f=R(d,"RETURN",h.j.nd)||"";e="function "+a+"("+c+") {\n"+e+("  return "+f+";\n}");e=h.j.Sn(d,e);h.j.ci[a]=e;return null}}function kf(a,c,d){return function(){L(this,{message0:"function %1(%2) { %3 %4 return %5 }",args0:[a,c,{type:"input_dummy"},{type:"input_statement",name:"STACK"},{type:"input_value",check:d,align:"right",name:"RETURN"}],inputsInline:!0,colour:360,tooltip:O("Genetics_"+a+"Tooltip")})}}
h.M.genetics_pickFight={S:kf("pickFight","","Mouse")};h.j.genetics_pickFight=jf("pickFight","");h.M.genetics_proposeMate={S:kf("proposeMate","","Mouse")};h.j.genetics_proposeMate=jf("proposeMate","");
h.M.genetics_acceptMate={S:kf("acceptMate","suitor","Boolean"),bq:function(){return["suitor"]},tg:function(a){if(!this.isCollapsed()){var c={enabled:!0};c.text=h.h.VARIABLES_SET_CREATE_GET.replace("%1","suitor");var d=h.g.xml.createElement("block");d.setAttribute("type","variables_get");var e=h.g.xml.createElement("field");e.setAttribute("name","VAR");var f=h.g.xml.createTextNode("suitor");e.appendChild(f);d.appendChild(e);c.zb=h.za.zm(this,d);a.push(c)}}};
h.j.genetics_acceptMate=jf("acceptMate","suitor");h.M.genetics_getSelf={S:function(){L(this,{message0:"%1(%2)",args0:["getSelf",""],output:"Mouse",colour:20,tooltip:O("Genetics_getSelfTooltip")})}};h.j.genetics_getSelf=function(){return["getSelf()",h.j.tb]};h.M.genetics_getMice={S:function(){L(this,{message0:"%1(%2)",args0:["getMice",""],output:"Array",colour:20,tooltip:O("Genetics_getMiceTooltip")})}};h.j.genetics_getMice=function(){return["getMice()",h.j.tb]};
h.M.genetics_getProperties={S:function(){var a=this;this.dd(20);J(this,"MOUSE").lb("Mouse");var c=new h.Sa([["size","SIZE"],["aggressiveness","AGGRESSIVENESS"],["startAggressiveness","START_AGGRESSIVENESS"],["fertility","FERTILITY"],["startFertility","START_FERTILITY"],["sex","SEX"],["age","AGE"],["id","ID"],["pickFightOwner","PICK_FIGHT"],["proposeMateOwner","PROPOSE_MATE"],["acceptMateOwner","ACCEPT_MATE"]],function(d){a.Qi(d)});I(K(this),c,"PROPERTY");this.Qc(!0);this.Md(!0,"Number");this.Wa(function(){var d=
C(a,"PROPERTY");return{SIZE:O("Genetics_sizeTooltip"),AGGRESSIVENESS:O("Genetics_aggressivenessTooltip"),FERTILITY:O("Genetics_fertilityTooltip"),START_FERTILITY:O("Genetics_startFertilityTooltip"),SEX:O("Genetics_sexTooltip"),AGE:O("Genetics_ageTooltip"),ID:O("Genetics_idTooltip"),PICK_FIGHT:O("Genetics_pickFightOwnerTooltip"),PROPOSE_MATE:O("Genetics_proposeMateOwnerTooltip"),ACCEPT_MATE:O("Genetics_acceptMateOwnerTooltip")}[d]})},Qi:function(a){"SEX"==a?this.F.lb("String"):this.F.lb("Number")},
cb:function(){var a=document.createElement("mutation");a.setAttribute("property",C(this,"PROPERTY"));return a},Cb:function(a){this.Qi(a.getAttribute("property"))}};
h.j.genetics_getProperties=function(a){var c=R(a,"MOUSE",h.j.nd)||"me()";a=C(a,"PROPERTY");c+=".";switch(a){case "SIZE":c+="size";break;case "AGGRESSIVENESS":c+="aggressiveness";break;case "START_AGGRESSIVENESS":c+="startAggressiveness";break;case "FERTILITY":c+="fertility";break;case "START_FERTILITY":c+="startFertility";break;case "SEX":c+="sex";break;case "AGE":c+="age";break;case "ID":c+="id";break;case "PICK_FIGHT":c+="pickFightOwner";break;case "PROPOSE_MATE":c+="proposeMateOwner";break;case "ACCEPT_MATE":c+=
"acceptMateOwner";break;default:throw Error("Unknown mouse property: "+a);}return[c,h.j.Hb]};h.M.genetics_sex={S:function(){L(this,{message0:"Sex.%1",args0:[{type:"field_dropdown",name:"TYPE",options:[["Male","MALE"],["Female","FEMALE"]]}],output:"String",colour:20})}};h.j.genetics_sex=function(a){var c="Genetics.Mouse.Sex.";c="MALE"==C(a,"TYPE")?c+"Male":c+"Female";return[c,h.j.Hb]};
h.M.genetics_math_randomInt={S:function(){L(this,{message0:"%1(%2,%3)",args0:["Math.randomInt",{type:"input_value",name:"MIN_VALUE",check:"Number"},{type:"input_value",name:"MAX_VALUE",check:"Number"}],inputsInline:!0,output:"Number",colour:h.h.MATH_HUE,helpUrl:h.h.MATH_RANDOM_INT_HELPURL,tooltip:h.h.MATH_RANDOM_INT_TOOLTIP})}};h.j.genetics_math_randomInt=function(a){var c=R(a,"MIN_VALUE",h.j.Uc)||"0";a=R(a,"MAX_VALUE",h.j.Uc)||"0";return["Math.randomInt("+c+", "+a+")",h.j.tb]};function lf(a,c,d,e,f){function g(m,n){return Math.floor(Math.random()*n-m+1)+m}if(e&&f){d=g(0,1);var k=g(0,1),l=d===k?!k:g(0,1);this.sd=d?e.sd:f.sd;this.vd=k?e.vd:f.vd;this.od=l?e.od:f.od;this.size=h.g.oc.Me((e.size+f.size)/2+g(-1,1),1,10);this.xf=this.Zn=Math.max(0,Math.round((e.Zn,f.Zn)/2)+g(-1,1));this.$n=Math.max(0,Math.round((e.$n+f.$n)/2)+g(-1,1))}else this.od=this.vd=this.sd=d,this.Zn=this.size=2,this.xf=0,this.$n=4;this.Te=this.$n;this.sp=0;this.id=a;this.Kb=c}var mf={PJ:"Male",qJ:"Female"};var nf=!0,S=[],T=[],of=[],U={},pf=0,qf=[],rf=!1,sf={ADD:["MOUSE"],START_GAME:[],NEXT_ROUND:[],FIGHT:["ID","RESULT","OPT_OPPONENT"],MATE:["ID","RESULT","OPT_PARTNER","OPT_OFFSPRING"],RETIRE:["ID"],OVERPOPULATION:["ID"],EXPLODE:["ID","SOURCE","CAUSE"],END_GAME:["IS_SUCCESS","OPT_RANKINGS"]};function V(a,c){var d=sf[a];this.TYPE=a;for(var e=0;e<d.length;e++)this[d[e]]=arguments[e+1]}function X(a){qf.push(a)}var tf=0,uf=0,vf=!1;
function wf(){nf=!0;clearTimeout(pf);qf.length=0;U={};T.length=0;tf=of.length=0}var xf="",yf=!1,zf=!1,Af=!1;
function Bf(){if(rf||100>qf.length){0==of.length&&(10>tf&&(of=T.slice(0),X(new V("NEXT_ROUND"))),tf++);if(of.length){var a=of.shift();if(0!=a.id&&!yf||0==a.id&&!zf)if(a.sp++,!Af&&0<a.xf){var c=Cf(a,"pickFight");a.xf--;if(c.vr)if(c=c.value,null===c)X(new V("FIGHT",a.id,"NONE")),a.xf=0;else if("object"==typeof c&&U.hasOwnProperty(c.id))if(c=U[c.id],a.id==c.id)X(new V("FIGHT",a.id,"SELF")),Df(a);else{var d=vf?c.size-a.size:Math.random()-a.size/(a.size+c.size);.1>Math.abs(d)?X(new V("FIGHT",a.id,"TIE",
c.id)):0>d?(X(new V("FIGHT",a.id,"WIN",c.id)),Df(c)):(X(new V("FIGHT",a.id,"LOSS",c.id)),Df(a))}else X(new V("EXPLODE",a.id,"pickFight","Invalid return")),Df(a);else X(new V("EXPLODE",a.id,"pickFight",c.yt)),Df(a)}else if(0<a.Te)if(d=Cf(a,"proposeMate"),d.vr)if(d=d.value,null===d)X(new V("MATE",a.id,"NONE")),a.Te=0;else if("object"==typeof d&&U.hasOwnProperty(d.id)){d=U[d.id];if(Ef(a,d)){for(var e=uf++,f=0,g=0,k=0,l;l=T[k];k++)f+=l.Te,"Female"==l.Kb&&(g+=l.Te);e=new lf(e,Math.random()<g/f?"Male":
"Female",null,a,d);U[e.id]=e;T.unshift(e);X(new V("MATE",a.id,"SUCCESS",d.id,e));if(50<Object.keys(U).length){d=null;for(c in U)if(e=U[c],!d||e.sp>d.sp)d=e;X(new V("OVERPOPULATION",d.id));Df(d)}}a.Te--}else X(new V("EXPLODE",a.id,"proposeMate","Invalid return")),Df(a);else X(new V("EXPLODE",a.id,"proposeMate",d.yt)),Df(a);else X(new V("RETIRE",a.id)),Df(a)}Ff()&&(nf=!0,clearTimeout(pf))}nf||(pf=setTimeout(Bf,50))}
function Ff(){var a={pickFight:[],proposeMate:[],acceptMate:[]};if(0==T.length)return X(new V("END_GAME",!1,a)),!0;for(var c={pickFight:[0,0,0,0],proposeMate:[0,0,0,0],acceptMate:[0,0,0,0]},d=10<tf,e=T[0],f=0,g;g=T[f];f++){if(!d&&(g.sd!=e.sd||g.vd!=e.vd||g.od!=e.od))return!1;c.pickFight[g.sd]++;c.proposeMate[g.vd]++;c.acceptMate[g.od]++}if(!d)return c=T[0].sd,f=T[0].vd,d=T[0].od,a.pickFight.push([c]),a.proposeMate.push([f]),a.acceptMate.push([d]),X(new V("END_GAME",0==c&&0==f&&0==d,a)),!0;a={pickFight:[],
proposeMate:[],acceptMate:[]};d=["pickFight","proposeMate","acceptMate"];for(e=0;e<S.length;e++){f=0;for(var k;k=d[f];f++){g=c[k];k=a[k];for(var l=!1,m=0;!l&&m<k.length;m++){var n=k[m][0];g[e]==g[n]?(k[m].push(e),l=!0):g[e]>g[n]&&(k.splice(m,0,[e]),l=!0)}l||k.push([e])}}X(new V("END_GAME",!1,a));return!0}
function Ef(a,c){if(a.id==c.id)return X(new V("MATE",a.id,"SELF")),!1;var d=Cf(c,"acceptMate",a);if(!d.vr)return X(new V("MATE",a.id,"MATE_EXPLODED",c.id)),X(new V("EXPLODE",c.id,"acceptMate",d.yt)),Df(c),!1;if(!d.value)return X(new V("MATE",a.id,"REJECTION",c.id)),!1;c.Te--;return a.Kb==c.Kb?(X(new V("MATE",a.id,"INCOMPATIBLE",c.id)),!1):0>c.Te?(X(new V("MATE",a.id,"INFERTILE",c.id)),!1):!0}
function Df(a){var c=T.indexOf(a);-1!=c&&T.splice(c,1);c=of.indexOf(a);-1!=c&&T.splice(c,1);delete U[a.id]}
function Cf(a,c,d){switch(c){case "pickFight":var e=a.sd;break;case "proposeMate":e=a.vd;break;case "acceptMate":e=a.od}var f=S[e].name,g=S[e].code;if("function"==typeof g)g=S[e].KE;else if("string"!=typeof g)throw Error('Mouse "'+f+'" has invalid code: '+g);try{var k="object"==typeof Babel?Babel.transform(g,{presets:["es2015"]}).code:void 0;g=k||g}catch(m){throw alert(m),Error('Mouse "'+f+'" has error in code:\n'+m);}try{var l=new Interpreter(g,Gf.bind(null,a,d));switch(c){case "pickFight":l.appendCode("proposeMate = null;");
l.appendCode("acceptMate = null;");l.appendCode("pickFight();");break;case "proposeMate":l.appendCode("pickFight = null;");l.appendCode("acceptMate = null;");l.appendCode("proposeMate();");break;case "acceptMate":l.appendCode("pickFight = null;"),l.appendCode("proposeMate = null;"),l.appendCode("acceptMate(getSuitor());")}}catch(m){l=new Interpreter("throw SyntaxError('"+c+"')",Gf.bind(null,a,d))}a=l;c={};try{for(d=1E5;a.step();)if(0>=d--)throw Infinity;c.vr=!0;c.value=a.pseudoToNative(a.value)}catch(m){c.yt=
Infinity==m?"Timeout":m,c.vr=!1}return c}
function Gf(a,c,d,e){for(var f=void 0,g=d.ARRAY,k=d.createObject(d.ARRAY),l=0,m=0,n;n=T[m];m++){var q=d.nativeToPseudo({pickFightOwner:n.sd,proposeMateOwner:n.vd,acceptMateOwner:n.od,sex:n.Kb,size:n.size,startAggressiveness:n.Zn,aggressiveness:n.xf,startFertility:n.$n,fertility:n.Te,age:n.sp,id:n.id});n.id==a.id?f=q:(d.setProperty(k,l++,q),c&&n.id==c.id&&(g=q))}d.setProperty(e,"getSelf",d.createNativeFunction(function(){return f}));d.setProperty(e,"getMice",d.createNativeFunction(function(){return k}));
g&&d.setProperty(e,"getSuitor",d.createNativeFunction(function(){return g}));a=d.nativeToPseudo(mf);d.setProperty(e,"Sex",a);if(a=d.getProperty(e,"Math"))e=function(r,x){return Math.floor(Math.random()*(x-r+1))+r},d.setProperty(a,"randomInt",d.createNativeFunction(e))};function Hf(a){function c(){var f=400+100*Math.random();If||e.Wd||Jf(e,f);e.tm[0]=setTimeout(c,f)}this.id=a.id;this.Kb=a.Kb;this.size=a.size;this.sd=a.sd;this.vd=a.vd;this.od=a.od;this.element=h.g.o.G("svg",{id:"mouse"+a.id,"class":"mouse"},null);this.element.style.transformOrigin="20px 20px";var d=h.g.o.G("clipPath",{id:"mouse"+a.id+"ClipPath"},this.element);h.g.o.G("rect",{width:"40px",height:"60px"},d);this.mn=h.g.o.G("image",{width:"120px",height:"120px","clip-path":"url(#mouse"+a.id+"ClipPath)"},
this.element);"Female"==this.Kb&&this.mn.setAttribute("y","-60px");this.mn.setAttributeNS(h.g.o.wf,"xlink:href","genetics/mouse.png");a=7.5*(1+.5*Math.sqrt(3))+12.5;d=7.5*(1-.5*Math.sqrt(3))+12.5;h.g.o.G("path",{fill:Kf[this.vd],d:"M 20 28.5 A 7.5 7.5, 0, 0, 1, "+a+" 39.75 L 20 36 Z"},this.element);h.g.o.G("path",{fill:Kf[this.sd],d:"M "+a+" 39.75 A 7.5 7.5, 0, 0, 1, "+d+" 39.75 L 20 36 Z"},this.element);h.g.o.G("path",{fill:Kf[this.od],d:"M "+d+" 39.75 A 7.5 7.5, 0, 0, 1, 20 28.5 L 20 36 Z"},this.element);
this.St=2*Math.random()*Math.PI;this.Wd=!0;this.tm=[0,0];var e=this;c()}var Lf=0,If=!1;Hf.prototype.setDirection=function(a){a%=2*Math.PI;0>a&&(a+=2*Math.PI);var c=this.St-a;if(Math.abs(c)>Math.PI/10){var d=this.mn,e=function(){d.setAttribute("x","0px")};0<c?(this.mn.setAttribute("x","-40px"),setTimeout(e,150)):0>c&&(this.mn.setAttribute("x","-80px"),setTimeout(e,150))}this.element.style.transform="rotate("+(a+Math.PI/2)+"rad)";this.St=a};
Hf.prototype.stop=function(){for(var a=0;a<this.tm.length;a++)clearTimeout(this.tm[a]);Mf(this);this.element.style.animation=""};function Mf(a){var c=window.getComputedStyle(a.element),d=c.left;a.element.style.top=c.top;a.element.style.left=d;a.element.style.transition=""}
Hf.prototype.move=function(a,c,d,e){var f=h.g.oc.Me(a,0,Lf-40),g=h.g.oc.Me(c,0,Lf-40),k=parseInt(this.element.style.left,10),l=parseInt(this.element.style.top,10),m=f-k,n=g-l;e=null!=e?e:Math.hypot(Math.abs(m),Math.abs(n))/.07;10>e||1>Math.abs(m)&&1>Math.abs(n)?(this.element.style.left=f+"px",this.element.style.top=g+"px",this.setDirection(Math.atan2(c-l,a-k))):(this.setDirection(Math.atan2(n,m)),this.element.style.transition="top "+e+"ms linear, left "+e+"ms linear",this.element.style.left=f+"px",
this.element.style.top=g+"px");this.tm[1]=setTimeout(d,e)};function Jf(a,c){var d=Math.PI/2;d=a.St+Math.random()*d-d/2;var e=.05*c;a.move(parseInt(a.element.style.left,10)+Math.cos(d)*e,parseInt(a.element.style.top,10)+Math.sin(d)*e,function(){},c)}Hf.prototype.Ue=function(a){a?Nf(this,this.Ue.bind(this)):this.Wd=!1};function Nf(a,c){function d(){var f=400+100*Math.random();Jf(a,f);3>++e?a.tm[1]=setTimeout(d,f):c()}var e=0;d()};var Of={},Pf,Kf=["#ff8b00","#c90015","#166c0b","#223068"],Qf=!0,Rf=!0,Sf=null,Tf={},Uf=!1,Vf=null,Wf=null,Xf=null,Yf=null,Zf=null,$f={},ag=[],bg=[],cg=[],dg=0;
function eg(){function a(f){return function(){if(!h.g.o.eq(c[f],"tab-disabled")){for(var g=0;g<c.length;g++)f==g?h.g.o.Xa(c[g],"tab-selected"):h.g.o.Eb(c[g],"tab-selected");e(f)}}}Lf=400;var c=Array.prototype.slice.call(document.querySelectorAll("#vizTabbar>.tab"));if(c.length){for(var d=0;d<c.length;d++)me(c[d],a(d));var e=function(f){for(var g=["displayContent","charts"],k=0,l;l=g[k];k++){var m=document.getElementById(l);"displayContent"==l?m.style.visibility=k==f?"visible":"hidden":(Uf=k==f,k==
f&&fg(),m.style.display=k==f?"block":"none")}};e(0);gg()}Zf=document.getElementById("display")}function gg(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="https://www.gstatic.com/charts/loader.js";a.addEventListener("load",hg);document.head.appendChild(a)},1)}
function hg(){if("object"!=typeof google)throw Error('Loaded Google Charts API, but no "google" object.');google.charts.load("current",{packages:["corechart"]});google.charts.setOnLoadCallback(function(){function a(){this.colors=Kf;this.isStacked="relative";this.lineWidth=0;this.areaOpacity=.8;this.vAxis.maxValue=1}function c(){this.hAxis={title:"Time",titleTextStyle:{color:"#333"},format:"0"};this.vAxis={minValue:0};this.chartArea={left:"8%",top:"8%",width:"60%",height:"70%"};this.backgroundColor=
"white"}a.prototype=new c;var d=new c,e=new a,f=new a,g=new a;d.title="Population";d.colors=["#ADD8E6","#FFB5C1"];d.isStacked=!0;d.vAxis.maxValue=50;Vf=new google.visualization.ChartWrapper({chartType:"AreaChart",options:d,containerId:"populationChart"});e.title="Pick Fight";Wf=new google.visualization.ChartWrapper({chartType:"AreaChart",options:e,containerId:"pickFightChart"});f.title="Propose Mate";Xf=new google.visualization.ChartWrapper({chartType:"AreaChart",options:f,containerId:"proposeMateChart"});
g.title="Accept Mate";Yf=new google.visualization.ChartWrapper({chartType:"AreaChart",options:g,containerId:"acceptMateChart"});ig();Vf.draw();Wf.draw();Xf.draw();Yf.draw();h.g.o.Eb(document.querySelectorAll("#vizTabbar>.tab")[1],"tab-disabled")})}
function ig(){if(Vf){Vf.setDataTable(google.visualization.arrayToDataTable([[{label:"Time",type:"number"},{label:"Male",type:"number"},{label:"Female",type:"number"}]],!1));for(var a=[{label:"Time",type:"number"}],c=0,d;d=S[c];c++)a.push({label:d.name,type:"number"});Wf.setDataTable(google.visualization.arrayToDataTable([a],!1));Xf.setDataTable(google.visualization.arrayToDataTable([a],!1));Yf.setDataTable(google.visualization.arrayToDataTable([a],!1));jg=!0}}
function kg(){clearTimeout(dg);Qf=!0;for(var a in Tf)Tf[a].stop()}
function lg(){kg();Uf=!1;mg=ng=0;Tf={};$f.Male=0;$f.Female=0;ag.length=0;bg.length=0;for(var a=cg.length=0;a<S.length;a++)ag.push(0),bg.push(0),cg.push(0);ig();og.length=0;a=document.getElementById("playerNameRow");for(var c=document.getElementById("playerStatRow"),d=0,e;e=S[d];d++){var f=Kf[d],g=a.cells[d];g.style.borderColor=f;e=e.name;g.title=e;g.style.background=f;e=document.createTextNode(e);g.innerHTML="";g.appendChild(e);g=c.cells[d];g.style.borderColor=f;e={};var k=g.getElementsByClassName("pickFightStat")[0];
k&&(k.style.background=f,k.style.width=0,e.pickFightDiv=k);if(k=g.getElementsByClassName("proposeMateStat")[0])k.style.background=f,k.style.width=0,e.proposeMateDiv=k;if(k=g.getElementsByClassName("acceptMateStat")[0])k.style.background=f,k.style.width=0,e.acceptMateDiv=k;e.td=g;og.push(e)}Zf.innerHTML=""}
function pg(){if(!Qf){if(Rf){var a=!0;for(c in Tf)if(Tf[c].Wd){a=!1;break}if(a){kg();if(Sf){a={pickFight:"",proposeMate:"",acceptMate:""};var c=["pickFight","proposeMate","acceptMate"];for(var d=0;d<c.length;d++)for(var e=c[d],f=Sf[e][0],g=0;f&&g<f.length;g++)a[e]+=S[f[g]].name+" ";Y("Game ended with: PickFight Winners: "+a.pickFight+" proposeMate Winners: "+a.proposeMate+" acceptMate Winners: "+a.acceptMate)}Pf?(window.localStorage&&(window.localStorage["genetics"+N]=ze()),P.$E(),Y("Level Succeeded")):
Sf||Y("Level Failed");return}}else{for(;mg<qf.length;){c=rf?qf[mg++]:qf.shift();a=void 0!==c.ID?Tf[c.ID]:null;if(void 0===a)throw Error("Event has no mouse.");d=void 0!==c.OPT_OPPONENT?Tf[c.OPT_OPPONENT]:null;e=void 0!==c.OPT_PARTNER?Tf[c.OPT_PARTNER]:null;if(a&&a.Wd||d&&d.Wd||e&&e.Wd){Of.uL?mg--:qf.unshift(c);break}switch(c.TYPE){case "ADD":a=qg(c.MOUSE);rg(a,400*Math.random()-40,400*Math.random()-40,!1,a.Ue.bind(a));break;case "START_GAME":Y("Starting game with "+S.length+" players.");break;case "NEXT_ROUND":ng++;
break;case "FIGHT":sg(c,a,d);break;case "MATE":tg(c,a,e);break;case "RETIRE":ug(a,"RETIRE");Y(Z(a)+" dies after a productive life.");break;case "OVERPOPULATION":ug(a,"OVERPOPULATION");Y("Cage has gotten too cramped "+Z(a)+" can't compete with the younger mice and dies.");break;case "EXPLODE":d=c.SOURCE;c=c.CAUSE;ug(a,"EXPLOSION");Y(Z(a)+" exploded in "+d+' because "'+c+'"');break;case "END_GAME":Rf=!0;Pf=c.IS_SUCCESS;Sf=c.OPT_RANKINGS;break;default:throw Error("unhandled visualization event "+JSON.stringify(c));
}}fg()}dg=setTimeout(pg,50)}}var jg=!0,og=[];function vg(){for(var a=$f.Male+$f.Female,c=0;c<og.length;c++){var d=og[c],e=100*ag[c]/a||0;d.pickFightDiv&&(d.pickFightDiv.style.width=e+"%");var f=100*bg[c]/a||0;d.proposeMateDiv&&(d.proposeMateDiv.style.width=f+"%");var g=100*cg[c]/a||0;d.acceptMateDiv&&(d.acceptMateDiv.style.width=g+"%");d.td.title="pickFight "+Math.round(100*e)/100+"%\nproposeMate "+Math.round(100*f)/100+"%\nacceptMate "+Math.round(100*g)/100+"%"}}
function fg(){jg&&Uf&&(Vf.draw(),Wf.draw(),Xf.draw(),Yf.draw(),jg=!1)}var ng=0,mg=0;function sg(a,c,d){var e=a.RESULT;"NONE"==e?(c.Wd=!0,wg(c,"genetics/peace.png",40,1E3,function(){Y(Z(c)+" elected to never fight again.");c.Ue()})):(a=function(){c.Ue();"SELF"!=e&&d.Ue()},c.Wd=!0,"SELF"==e?xg(c,c,e,a):(d.Wd=!0,yg(c,d,xg.bind(null,c,d,e,a))))}var zg=!0;
function tg(a,c,d){var e=a.RESULT;if("NONE"==e)Y(Z(c)+" elected to never mate again.");else if("SELF"==e)c.Wd=!0,wg(c,"genetics/heart.png",40,1E3,function(){Y(Z(c)+" caught trying to mate with itself.");c.Ue()});else if("MATE_EXPLODED"==e)Y(Z(d)+" exploded after "+Z(c)+" asked it out.");else if("REJECTION"==e){var f=(parseInt(c.element.style.left,10)+parseInt(d.element.style.left,10))/2+20,g=(parseInt(c.element.style.top,10)+parseInt(d.element.style.top,10))/2+20;c.Wd=!0;d.Wd=!0;yg(c,d,wg.bind(null,
c,"genetics/broken-heart.png",40,1E3,function(){Y(Z(c)+" asked "+Z(d)+" to mate, the answer is NO!");c.Ue(zg);d.Ue(zg)}))}else{Y(Z(c,!0,!0)+" asked "+Z(d,!0,!0)+" to mate, the answer is YES!");f=(parseInt(c.element.style.left,10)+parseInt(d.element.style.left,10))/2+20;g=(parseInt(c.element.style.top,10)+parseInt(d.element.style.top,10))/2+20;if("SUCCESS"==e){var k=qg(a.OPT_OFFSPRING);var l="genetics/heart.png"}else if("INCOMPATIBLE"==e){var m=Z(c)+" mated with "+Z(d)+", another "+c.Kb+".";l="genetics/rainbow-heart.png"}else"INFERTILE"==
e&&(m="Mating between "+Z(c)+" and "+Z(d)+" failed because "+Z(d)+" is sterile.",l="genetics/grey-heart.png");c.Wd=!0;d.Wd=!0;yg(c,d,Ag.bind(null,l,f,g,50,700,function(){"SUCCESS"==e?rg(k,f,g,!0,k.Ue.bind(k)):Y(m);c.Ue(zg);d.Ue(zg)}))}}function Bg(){if(Vf){Vf.getDataTable().addRow([ng,$f.Male,$f.Female]);for(var a=[ng],c=[ng],d=[ng],e=0;e<S.length;e++)a.push(ag[e]),c.push(bg[e]),d.push(cg[e]);Wf.getDataTable().addRow(a);Xf.getDataTable().addRow(c);Yf.getDataTable().addRow(d);jg=!0}}
function Z(a,c,d){var e="Monica Danielle Zena Brianna Katie Lacy Leela Suzy Saphira Missie Flo Lisa".split(" "),f="Neil Chris Charlie Camden Rick Dean Xavier Zeke Han Samuel Wade Patrick".split(" "),g="("+S[a.vd].name+"/"+S[a.od].name+"/"+S[a.sd].name+")",k="[id:"+a.id+"/size:"+a.size+"/sex: "+a.Kb+"]";f="Female"==a.Kb?e:f;e=f[a.id%f.length||0];a=Math.floor(a.id/f.length)+1;if(1<a){f="M CM D CD C XC L XL X IX V IV I".split(" ");var l=[1E3,900,500,400,100,90,50,40,10,9,5,4,1];if(!(0>=a||4E3<=a)){for(var m=
"",n=0;n<f.length;n++)for(;a>=l[n];)a-=l[n],m+=f[n];a=m}e+=" "+a}d&&(e+=" "+g);c&&(e+=" "+k);return e}function ug(a,c){a.stop();Zf.removeChild(a.element);delete Tf[a.id];if("FIGHT"!=c){var d=parseInt(a.element.style.left)+20,e=parseInt(a.element.style.top)+20;"EXPLOSION"==c?Ag("genetics/explode.png",d,e,40,1E3):"OVERPOPULATION"==c?Ag("genetics/kickedOut.png",d,e,40,1E3):Ag("genetics/retire.png",d,e,40,1E3)}$f[a.Kb]--;ag[a.sd]--;bg[a.vd]--;cg[a.od]--;Bg();vg()}
function yg(a,c,d){function e(){if(q){var r=Math.atan2(l-n,k-m);a.setDirection(r);c.setDirection(r+Math.PI);d()}q=!0}var f=parseInt(a.element.style.left,10),g=parseInt(a.element.style.top,10),k=(f+parseInt(c.element.style.left,10))/2,l=(g+parseInt(c.element.style.top,10))/2;g=Math.atan2(g-l,f-k);f=20*Math.cos(g);g=20*Math.sin(g);var m=k+f,n=l+g;f=k-f;g=l-g;var q=!1;a.move(m,n,e);c.move(f,g,e)}
function xg(a,c,d,e){function f(l){l.target==g&&(g.removeEventListener("animationend",f,!1),a.element.style.display="",c.element.style.display="","WIN"==d?(Y(Z(a)+" fights and kills "+Z(c)+"."),ug(c,"FIGHT")):"LOSS"==d?(Y(Z(a)+" fights and is killed by "+Z(c)+"."),ug(a,"FIGHT")):"TIE"==d?Y(Z(a)+" fights "+Z(c)+" to a draw."):(ug(a,"FIGHT"),Y(Z(a)+" chose itself when asked whom to fight with. "+Z(a)+" is being executed to put it out of its misery.")),g.parentNode.removeChild(g),e())}var g=document.getElementById("dust").cloneNode(!0),
k=(parseInt(a.element.style.left,10)+parseInt(c.element.style.left,10))/2+20-25;g.style.top=(parseInt(a.element.style.top,10)+parseInt(c.element.style.top,10))/2+20-25+"px";g.style.left=k+"px";g.addEventListener("animationend",f,!1);Zf.appendChild(g);a.element.style.display="none";c.element.style.display="none"}
function rg(a,c,d,e,f){function g(k){k.target==a.element&&(e?Y(Z(a,!0,!0)+" was born!"):Y(Z(a,!0,!0)+" added to game."),$f[a.Kb]++,ag[a.sd]++,bg[a.vd]++,cg[a.od]++,e&&Bg(),vg(),a.element.style.animationName="none",a.element.removeEventListener("animationEnd",g,!1),f())}d=h.g.oc.Me(d-20,0,355);a.element.style.left=h.g.oc.Me(c-20,0,360)+"px";a.element.style.top=d+"px";a.element.addEventListener("animationend",g,!1);a.element.style.animation="bounceIn 500ms";a.element.style.display="block"}
function wg(a,c,d,e,f){Mf(a);Ag(c,parseInt(a.element.style.left,10)+20,parseInt(a.element.style.top,10)+20,d,e,f)}function Ag(a,c,d,e,f,g){var k=document.createElement("img");k.src=a;k.style.width=e+"px";k.style.height=e+"px";k.style.position="absolute";k.style.left=c-e/2+"px";k.style.top=d-e/2+"px";k.addEventListener("animationend",function(l){l.target==k&&(k.parentNode.removeChild(k),g&&g())},!1);k.style.animation="bounceIn "+f+"ms";Zf.appendChild(k)}
function qg(a){a=new Hf(a);Tf[a.id]=a;a.element.style.display="none";Zf.appendChild(a.element);return a};var Cg=Cg||{};function Dg(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.iL=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!Eg){var Eg,Fg="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(Fg=navigator.userAgent);var Gg=0==Fg.indexOf("Opera");Eg={DL:{CJ:"ScriptEngine"in window},lK:Gg,rf:!Gg&&-1!=Fg.indexOf("MSIE"),Ay:!Gg&&-1!=Fg.indexOf("WebKit")}}if(!Hg)var Hg={};
if(!Ig)var Ig={};if(!Jg)var Jg={};if(!Kg)var Kg={};if(!Lg)var Lg={};if(!Mg)var Mg={};var Ng=Cg.VI?{JL:!0}:{};function Og(){throw Error("Do not instantiate directly");}Og.prototype.dz=null;Og.prototype.toString=function(){return this.content};function Pg(a){if(null!=a)switch(a.dz){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Qg(){Og.call(this)}Dg(Qg,Og);Qg.prototype.dF=Ng;function Rg(a){return null!=a&&a.dF===Ng?a:Sg(String(String(a)).replace(Tg,Ug),Pg(a))}
var Sg=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.dz=e);return f}}(Qg),Vg={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Ug(a){return Vg[a]}var Tg=/[\x00\x22\x26\x27\x3c\x3e]/g;function Wg(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div>'};function Xg(){var a='<table width="100%"><tr><td><h1><span id="title">'+((ee?'<a href="index.html?lang='+Rg(ce)+'">':'<a href="./?lang='+Rg(ce)+'">')+"Blockly Games</a> : "+Rg("Genetics")+"</span>");if(N){var c=" &nbsp; ";for(var d=1;11>d;d++){var e="?lang="+Rg(ce)+"&level="+Rg(d);c+=" "+(d==N?'<span class="level_number level_done" id="level'+Rg(d)+'">'+Rg(d)+"</span>":10==d?'<a class="level_number" id="level'+Rg(d)+'" href="'+Rg(e)+'">'+Rg(d)+"</a>":'<a class="level_dot" id="level'+Rg(d)+'" href="'+
Rg(e)+'"></a>')}}else c="";d='<div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>'+Wg()+"</div>";e='<div id="visualization">'+(9<=N?'<div id="vizTabbar" class="tab-bar"><div class="tab tab-selected">Visualization</div><div class="tab tab-disabled">Charts</div></div><div class="tab-bar-clear"></div>':"")+'</style><div id="gameElements" style="display:none;"><div id="dust" class="dust"><div class="cloud cloud1"></div><div class="cloud cloud2"></div><p class="star1">&#9734;</p><p class="star2">&#9734;</p><p class="star3">&#9734;</p><p class="star4">&#9734;</p></div></div><div class="vizTabContent"><div id="displayContent"><div id="display"></div></div>'+
(9<=N?'<div id="charts"><div id="populationChart"></div><div id="pickFightChart"></div><div id="proposeMateChart"></div><div id="acceptMateChart"></div></div>':"")+'</div></div><table class="playerStatTable"><tbody><tr id="playerNameRow">';for(var f=0;4>f;f++)e+='<td class="playerStatName"></td>';e+='<tr id="playerStatRow">';for(f=0;4>f;f++)e+='<td><div class="mouseFunctionIcons"></div><div class="pickFightStat"></div>'+(5<=N?'<div class="proposeMateStat"></div>'+(7<=N?'<div class="acceptMateStat"></div>':
""):"")+"</td>";return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Genetics_tutorEnemy">Enemy</span><span id="Genetics_simpleName">Simple</span><span id="Genetics_aggressiveName">Aggressive</span><span id="Genetics_highBreedingName">High Breeding</span><span id="Genetics_variantName">Variant</span><span id="Genetics_myName">Player</span><span id="Genetics_getMiceTooltip">Returns all other alive mice in the game.</span><span id="Genetics_getSelfTooltip">Returns the mouse making the decision.</span><span id="Genetics_pickFightTooltip">Defines the function for picking a mouse to fight against.</span><span id="Genetics_proposeMateTooltip">Defines the function for choosing a mouse to mate with.</span><span id="Genetics_acceptMateTooltip">Defines the function for the answer to a mate request.</span><span id="Genetics_sizeTooltip">Reports the size of the specified mouse.</span><span id="Genetics_aggressivenessTooltip">Reports the aggressiveness of the specified mouse.</span><span id="Genetics_fertilityTooltip">Reports the fertility of the specified mouse.</span><span id="Genetics_startFertilityTooltip">Reports the starting fertility of the specified mouse.</span><span id="Genetics_sexTooltip">Reports the sex of the specified mouse.</span><span id="Genetics_ageTooltip">Reports the age of the specified mouse.</span><span id="Genetics_idTooltip">Reports the id of the specified mouse.</span><span id="Genetics_pickFightOwnerTooltip">Reports the owner of the pickFight function of the specified mouse.</span><span id="Genetics_proposeMateOwnerTooltip">Reports the owner of the proposeMate function of the specified mouse.</span><span id="Genetics_acceptMateOwnerTooltip">Reports the owner of the acceptMate function of the specified mouse.</span></div>'+
(a+c+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;<button id="helpButton">Help</button></td></tr></table>')+(e+'</tr></tbody></table><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><button id="docsButton" title="Display the language documentation.">Documentation</button></td><td><button id="runButton" class="primary" title="Run the program you wrote."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Stop the program and reset the level."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><div id="dialogDocs" style="display: none"><img src="common/1x1.gif" class="close icon21" id="closeDocs"><iframe id="frameDocs"></iframe></div>')+
(8<N?'<div id="tabarea"><div id="editorBar" class="tab-bar"><div class="tab tab-selected">Blocks</div><div class="tab">JavaScript</div></div><div class="tab-bar-clear"></div>':"")+(8<N||1==N%2?'<div id="blockly"></div>':"")+(8<N||0==N%2?'<div id="editor"></div>':"")+(8<N?"</div>":"")+('<xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><category name="Genetics"><block type="genetics_getMice"></block>'+(4<=N?'<block type="genetics_getSelf"></block>':"")+(3<=N?'<block type="genetics_getProperties"></block>':
"")+(9<=N?'<block type="genetics_sex"></block>':"")+'</category><category name="Lists">'+(9<=N?'<block type="lists_create_with"><mutation items="0"></mutation></block>':"")+(2<=N?'<block type="lists_length"></block>':"")+'<block type="lists_getIndex"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value><value name="AT"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>'+(9<=N?'<block type="lists_setIndex"><value name="AT"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block>':
"")+"</category>"+(3<=N?'<category name="Logic"><block type="controls_if"></block><block type="logic_compare"></block><block type="logic_operation"></block>'+(7<=N?'<block type="logic_boolean"></block>':"")+(9<=N?'<block type="logic_negate"></block>':"")+'<block type="logic_null"></block></category><category name="Loops"><block type="controls_for"><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value></block><block type="controls_whileUntil"></block><block type="controls_flow_statements"></block></category>':
"")+'<category name="Math"><block type="math_number"></block>'+(2<=N?'<block type="math_arithmetic"><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block>':"")+(9<=N?'<block type="genetics_math_randomInt"><value name="MIN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="MAX_VALUE"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block><block type="math_random_float"></block>':
"")+"</category>"+(3<=N?'<sep></sep><category name="Variables" custom="VARIABLE"></category>':"")+(9<=N?'<category name="Functions" custom="PROCEDURE"></category>':"")+'</xml>\n<div id="playerTutor" style="display: none">\n/* Tutor player */\nvar suitor;\nfunction pickFight() {\n  return null;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  for (var i = 0, mouse; (mouse = mice[i]); i++) {\n    if (mouse.id == 0) {\n      return mouse;\n    }\n  }\n  // Should not get here.\n  return null;\n}\nfunction acceptMate(suitor) {\n  return true;\n}\n</div>\n\n<div id="playerSimple" style="display: none">\n/* Simple player */\nvar suitor;\nfunction pickFight() {\n  var mice = getMice();\n  var opponent = mice[Math.randomInt(0,mice.length-1)];\n  return opponent;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  var mate = mice[Math.randomInt(0,mice.length-1)];\n  return mate;\n}\nfunction acceptMate(suitor) {\n  return true;\n}\n</div>\n\n<div id="playerAggressive" style="display: none">\n/* Aggressive player */\nvar suitor;\nfunction pickFight() {\n  var targetOwner = getSelf().pickFightOwner;\n  var mice = getMice();\n  // Choose the biggest opponent, smaller than itself.\n  var opponent = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that mouse is smaller than self and doesn\'t share function owner.\n    if (mouse.size < getSelf().size && mouse.pickFightOwner != targetOwner &&\n        mouse.proposeMateOwner != targetOwner && mouse.acceptMateOwner != targetOwner) {\n      // Set opponent choice if opponent is biggest we have seen.\n      if (!opponent || mouse.size > opponent.size) {\n        opponent = mouse;\n      }\n    }\n  }\n  return opponent;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  // Choose the biggest valid mate.\n  var mate = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that potential mate is valid.\n    if (mouse != getSelf() && mouse.sex != getSelf().sex && mouse.fertility > 0) {\n      // Set mate choice if new mate is biggest we have seen.\n      if (!mate || mouse.size > mate.size) {\n        mate = mouse;\n      }\n    }\n  }\n  return mate;\n}\nfunction acceptMate(suitor) {\n  return suitor.proposeMateOwner == getSelf().acceptMateOwner ||\n      suitor.sex != getSelf().sex && suitor.size > getSelf().size;\n}\n</div>\n\n<div id="playerHighBreeding" style="display: none">\n/* High Breeding player */\nvar suitor;\nfunction pickFight() {\n  // Always choose not to fight.\n  return null;\n}\nfunction proposeMate() {\n  var mice = getMice();\n  // Choose the mate with the highest fertility gene.\n  var mate = null;\n  for(var i = 0; i < mice.length; i++) {\n    var mouse = mice[i];\n    // Check that potential mate is valid.\n    if (mouse != getSelf() && mouse.sex != getSelf().sex && mouse.fertility > 0) {\n      // Change mate choice if new mate would pass on higher fertility.\n      if (!mate || mouse.startingFertility > mate.startingFertility) {\n        mate = mouse;\n      }\n    }\n  }\n  return mate;\n}\nfunction acceptMate(suitor) {\n    return suitor.proposeMateOwner == getSelf().acceptMateOwner ||\n        suitor.sex != getSelf().sex && suitor.startingFertility > getSelf().startingFertility;\n}\n</div>\n<div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div>')+
d+'<div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">'+(1==N?"Use getMice() to get the list of other mice in the game.<BR>Use the []'s on the list of mice to get the FIRST element in the list and return it in pickFight.":2==N?"Use getMice() to get the list of other mice in the game.<BR>Use the []'s on the list of mice to get the LAST element in the list and return it in pickFight.<BR>You can get the length of the list with .length.":3==N||4==N?(3==N?"Bigger mice are more likely to win in a fight. Return a mouse that is smaller than 2 in pickFight.<BR>":
4==N?"Bigger mice are more likely to win in a fight. Return a mouse that is smaller than yourself in pickFight.<BR>":"")+"Use .size to get the size of a mouse."+(3==N?'<br><br><img src="genetics/docs/sizeProperty.png" height=40 width=162>':4==N?"<pre>mouse.size</pre><pre>getSelf()</pre>":""):5==N||6==N?"Mice mate to pass on their functions to their children. If the other mate accepts a mate request and the mate is valid, a child is born.\n"+(5==N?'Return a mouse that is fertile (fertility greater than 0) and of the opposite sex.<br><br><img src="genetics/docs/fertilityProperty.png" height=43 width=180><br><br><img src="genetics/docs/sexProperty.png" height=55 width=178><br><br>':
6==N?"Return a mouse that is fertile (fertility greater than 0), of the opposite sex, and is bigger than yourself.<pre>mouse.fertility</pre><pre>mouse.sex</pre>":""):7==N||8==N?"Mice answer mating requests with acceptMate. Accepting will use up some fertility but will make a child.<BR>"+(7==N?"Return true in acceptMate if the suitor is of the opposite sex.":8==N?"Return true in acceptMate if the suitor is of the opposite sex and bigger than yourself.":""):9==N?"Write your own implementations for the mouse functions and compete to try to get majority of each function in the cage.<BR>WARNING: This level does not save.":
10==N?"Write your own implementations for the mouse functions and compete to try to get majority of each function in the cage. Watch out, these mice are much smarter than before.<BR>WARNING: This level does not save.":"")+"</div>"+Wg()+"</div>"};var Yg=null,Zg=!0;
function $g(){if(1==N)var a=[{id:0,Qb:0,x:200,y:300,direction:-Math.PI/2,size:2,xf:1},{id:1,Qb:3,x:300,y:100,direction:Math.PI/2,size:3},{id:2,Qb:2,x:200,y:100,direction:Math.PI/2,size:2},{id:3,Qb:1,x:100,y:100,direction:Math.PI/2,size:1}];else if(2==N)a=[{id:0,Qb:0,x:200,y:300,direction:-Math.PI/2,size:2,xf:1},{id:1,Qb:3,x:300,y:100,direction:Math.PI/2,size:1},{id:2,Qb:2,x:200,y:100,direction:Math.PI/2,size:2},{id:3,Qb:1,x:100,y:100,direction:Math.PI/2,size:2}];else{if(4>=N)a=[{id:0,Qb:0,x:200,y:200,
direction:-Math.PI/2,size:2,xf:3},{id:1,Qb:1,x:150,y:100,direction:Math.PI/2,size:3},{id:2,Qb:2,x:250,y:300,direction:Math.PI/2,size:3},{id:3,Qb:3,x:300,y:200,direction:Math.PI/2,size:2},{id:4,Qb:1,x:250,y:100,direction:Math.PI/2,size:1},{id:5,Qb:2,x:150,y:300,direction:Math.PI/2,size:1},{id:6,Qb:3,x:100,y:200,direction:Math.PI/2,size:1}];else if(8>=N)a=[{id:0,Qb:0,x:200,y:200,direction:-Math.PI/2,size:2,Te:5},{id:1,Qb:1,x:150,y:100,direction:Math.PI/2,size:3,Kb:"Male"},{id:2,Qb:2,x:250,y:300,direction:Math.PI/
2,size:3,Kb:"Female"},{id:3,Qb:3,x:300,y:200,direction:Math.PI/2,size:3,Kb:"Male"},{id:4,Qb:1,x:250,y:100,direction:Math.PI/2,size:3,Kb:"Female"},{id:5,Qb:2,x:150,y:300,direction:Math.PI/2,size:2,Kb:"Female"},{id:6,Qb:3,x:100,y:200,direction:Math.PI/2,size:2,Kb:"Male"}];else{a=[];for(var c=0,d=0;4>d;d++)for(var e=0;2>e;e++)a.push({id:c++,Kb:0==e%2?"Male":"Female",Qb:d})}e=a;for(c=e.length-1;0<c;c--){d=Math.floor(Math.random()*(c+1));var f=e[c];e[c]=e[d];e[d]=f}}e=0;for(var g;g=a[e];e++)d=new lf(g.id,
g.Kb||(.5<Math.random()?"Male":"Female"),g.Qb),null!=g.size&&(d.size=g.size),null!=g.Te&&(d.Te=g.Te),null!=g.xf&&(d.xf=g.xf),c=d,U[c.id]=c,T.unshift(c),8>=N?(c=g.x,f=g.y,g=g.direction,d=qg(d),d.setDirection(g),f=h.g.oc.Me(f-20,0,355),d.element.style.left=h.g.oc.Me(c-20,0,360)+"px",d.element.style.top=f+"px",$f[d.Kb]++,ag[d.sd]++,bg[d.vd]++,cg[d.od]++,vg(),d.element.style.display="block",d.Ue(),Y(Z(d,!0,!0)+" added to game.")):X(new V("ADD",d))}
function ah(){switch(N){case 1:case 2:for(var a=0,c;c=qf[a];a++){if("FIGHT"==c.TYPE)return X(new V("END_GAME","WIN"==c.RESULT)),!0;if("START_GAME"!=c.TYPE&&"NEXT_ROUND"!=c.TYPE)return X(new V("END_GAME",!1)),!0}return!1;case 3:case 4:var d=0;for(a=0;c=qf[a];a++)if("FIGHT"==c.TYPE)if("WIN"==c.RESULT){if(d++,3==d)return X(new V("END_GAME",!0)),!0}else return X(new V("END_GAME",!1)),!0;else if("START_GAME"!=c.TYPE&&"NEXT_ROUND"!=c.TYPE)return X(new V("END_GAME",!1)),!0;return!1;case 5:case 6:for(a=d=
0;c=qf[a];a++)if("MATE"==c.TYPE)if("SUCCESS"==c.RESULT){if(6==N&&2>=U[c.OPT_PARTNER].size)return X(new V("END_GAME",!1)),!0;d++;if(5==d)return X(new V("END_GAME",!0)),!0}else return X(new V("END_GAME",!1)),!0;else if("START_GAME"!=c.TYPE&&"NEXT_ROUND"!=c.TYPE)return X(new V("END_GAME",!1)),!0;return!1;case 7:case 8:for(a=d=0;c=qf[a];a++)if("MATE"==c.TYPE)if("SUCCESS"==c.RESULT){if(8==N&&2>=U[c.ID].size)return X(new V("END_GAME",!1)),!0;d++;if(5==d)return X(new V("END_GAME",!0)),!0}else if("REJECTION"==
c.RESULT){var e=U[0];c=U[c.ID];if(e.Kb!=c.Kb&&(8!=N||e.size<c.Kb))return X(new V("END_GAME",!1)),!0}else return X(new V("END_GAME",!1)),!0;else if("START_GAME"!=c.TYPE&&"NEXT_ROUND"!=c.TYPE&&"RETIRE"!=c.TYPE)return X(new V("END_GAME",!1)),!0;return!1;default:throw Error("unhandled checkForLevelEnd for level "+N);}}function bh(){}function ch(){}
function dh(a){if(!Ke(a)){a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";eh()}}function fh(a){Ke(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",wf(),lg(),If=!0,$g())}
function eh(){if("Interpreter"in window){If=2>=N;var a=8>=N?ah:null;a&&(Ff=a);nf=!1;uf=T.length;a=0;for(var c;c=S[a];a++)"function"==typeof c.code&&(c.KE=xf+"\n"+c.code());X(new V("START_GAME"));Bf();Rf=!1;Sf=null;Qf=!1;pg()}else setTimeout(eh,250)}function gh(){var a=document.getElementById("help"),c=document.getElementById("helpButton");P.pr(a,c,!0,!0,{width:"50%",left:"25%",top:"5em"},P.TB);P.OB()}
function hh(a){for(var c=["blockly","editor"],d=0,e;e=c[d];d++)e=document.getElementById(e),e.style.visibility=d==a?"visible":"hidden";c=[".blocklyTooltipDiv",".blocklyToolboxDiv"];for(d=0;e=c[d];d++)e=document.querySelector(e),e.style.visibility=0==a?"visible":"hidden";1!=a||xe||(a=Ee(),Zg=!0,we.setValue(a,-1),Zg=!1)}
function ih(){if(!Zg){var a=De();xe?a.trim()||(A.clear(),h.g.o.Eb(Yg[0],"tab-disabled"),xe=!1):!A.mc(!1).length||confirm(O("Games_breakLink"))?(h.g.o.Xa(Yg[0],"tab-disabled"),xe=!0):(Zg=!0,we.setValue(a,-1),Zg=!1)}}function Y(a){console.log(a)}
window.addEventListener("load",function(){function a(z){return function(){if(!h.g.o.eq(c[z],"tab-disabled")){for(var H=0;H<c.length;H++)z==H?h.g.o.Xa(c[H],"tab-selected"):h.g.o.Eb(c[H],"tab-selected");hh(z)}}}document.body.innerHTML=Xg();ye();eg();me("runButton",dh);me("resetButton",fh);me("docsButton",bh);me("closeDocs",ch);Ne();if(8<N){for(var c=Array.prototype.slice.call(document.querySelectorAll("#editorBar>.tab")),d=0;d<c.length;d++)me(c[d],a(d));Yg=c}me("helpButton",gh);2>location.hash.length&&
!ke(N)&&setTimeout(gh,1E3);var e=-1!=be.indexOf(ce),f=document.getElementById("visualization"),g=document.getElementById("tabarea"),k=document.getElementById("blockly");if((d=document.getElementById("editor"))&&k)var l=[k,d],m=function(){var z=f.offsetTop;g.style.top=z-window.pageYOffset+"px";g.style.left=e?"10px":"420px";g.style.width=window.innerWidth-440+"px";z=Math.max(0,z+g.offsetHeight-window.pageYOffset)+"px";for(var H=e?"10px":"420px",W=window.innerWidth-440+"px",ia=0,Oa;Oa=l[ia];ia++)Oa.style.top=
z,Oa.style.left=H,Oa.style.width=W};else{var n=k||d;m=function(){n.style.top=Math.max(10,f.offsetTop-window.pageYOffset)+"px";n.style.left=e?"10px":"420px";n.style.width=window.innerWidth-440+"px"}}window.addEventListener("scroll",function(){m(null);k&&h.Kl(A)});window.addEventListener("resize",m);m(null);if(d){d=document.getElementById("containerCode");d.parentNode.removeChild(d);d="";switch(N){case 2:d="/**\n * Return the last mouse from getMice().\n * @return {Mouse|null} The mouse chosen to fight with.\n */\nfunction pickFight() {\n  return null;\n}";
break;case 4:d="/**\n * Return a mouse from getMice() that is smaller than itself.\n * @return {Mouse|null} The mouse chosen to fight with.\n */\nfunction pickFight() {\n  for (var i = 0; i < getMice().length; i++) {\n    var mouse = getMice()[i];\n  }\n  return null;\n}";break;case 6:d="/**\n * Return a mouse from getMice() that is fertile, of the opposite sex,\n * and bigger than itself.\n * @return {Mouse|null} The mouse chosen to attempt to mate with.\n */\nfunction proposeMate() {\n  for (var i = 0; i < getMice().length; i++) {\n    var mouse = getMice()[i];\n  }\n  return null;\n}";
break;case 8:d="/**\n *  Return true if the suitor mouse is of the opposite sex and bigger than itself.\n *  @param {Mouse} suitor the mouse requesting to mate.\n *  @return {Boolean} Whether the mate request is accepted.\n */\nfunction acceptMate(suitor) {\n  return false;\n}"}Pe().on("change",ih);d&&Ce(d+"\n");Oe()}if(k){Ge();D(A,h.i.xz);switch(N){case 1:var q='<xml><block type="genetics_pickFight" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return the first mouse from getMice().\n@return {Mouse|null} The mouse chosen to fight with.</comment></block></xml>';
break;case 3:q='<xml><block type="genetics_pickFight" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return a mouse from getMice() that is smaller than 2.\n@return {Mouse|null} The mouse chosen to fight with.</comment><statement name="STACK"><block type="controls_for"><field name="VAR">i</field><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value><statement name="DO"><block type="variables_set"><field name="VAR">mouse</field><value name="VALUE"><block type="lists_getIndex"><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="genetics_getMice"></block></value><value name="AT"><block type="variables_get"><field name="VAR">i</field></block></value></block></value></block></statement></block></statement></block></xml>';
break;case 5:q='<xml><block type="genetics_proposeMate" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return a mouse from getMice() that is fertile and of the opposite sex.\n@return {Mouse|null} The mouse chosen to attempt to mate with.</comment><statement name="STACK"><block type="controls_for"><field name="VAR">i</field><value name="FROM"><shadow type="math_number"><field name="NUM">0</field></shadow></value><value name="TO"><shadow type="lists_length"><value name="VALUE"><shadow type="genetics_getMice"></shadow></value></shadow></value><statement name="DO"><block type="variables_set" ><field name="VAR">mouse</field><value name="VALUE"><block type="lists_getIndex"><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="genetics_getMice"></block></value><value name="AT"><block type="variables_get"><field name="VAR">i</field></block></value></block></value></block></statement></block></statement></block></xml>';
break;case 7:q='<xml><block type="genetics_acceptMate" deletable="false" editable="false" x="0" y="150"><comment pinned="true">Return true if the suitor mouse is of the opposite sex.\n@param {Mouse} suitor the mouse requesting to mate.\n@return {Boolean} Whether the mate request is accepted.</comment></block></xml>'}q&&Ce(q)}Ve(h.j,"pickFight,proposeMate,acceptMate");g&&(d=h.R.Pi('<xml><block type="genetics_pickFight" deletable="false" editable="true" x="0" y="150"><comment pinned="false" h="65" w="560">Return a mouse from cage to pick a fight with. Returning itself will kill the mouse and returning null will result in no fights.\n@return {Mouse|null} The mouse chosen to fight with.</comment><value name="RETURN"><shadow type="logic_null"></shadow></value></block><block type="genetics_proposeMate" deletable="false" editable="true" x="0" y="350"><comment pinned="false" h="80" w="590">Return a mouse from cage to attempt to mate with. If the mate chosen accepts, is fertile, and is of the opposite sex, then a child will be born.\n@return {Mouse|null} The mouse chosen to attempt to mate with.</comment><value name="RETURN"><shadow type="logic_null"></shadow></value></block><block type="genetics_acceptMate" deletable="false" editable="true" x="0" y="550"><comment pinned="false" h="80" w="560">Return true to agree to a mate request or false to decline a mate request.\n@param {Mouse} suitor the mouse requesting to mate.\n@return {Boolean} Whether the mate request is accepted.</comment><value name="RETURN"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow></value></block></xml>'),
A.clear(),h.R.ei(d,A),Ga());xe=null==k;8>=N?(q=[{name:"Genetics_myName",code:null},{name:"Genetics_tutorEnemy",code:"playerTutor"},{name:"Genetics_tutorEnemy",code:"playerTutor"},{name:"Genetics_tutorEnemy",code:"playerTutor"}],zg=!1,vf=rf=!0,yf=6>=N,Af=5<=N,zf=7==N||8==N,xf=document.getElementById("playerTutor").textContent):q=9==N?[{name:"Genetics_myName",code:null},{name:"Genetics_simpleName",code:"playerSimple"},{name:"Genetics_simpleName",code:"playerSimple"},{name:"Genetics_simpleName",code:"playerSimple"}]:
[{name:"Genetics_myName",code:null},{name:"Genetics_aggressiveName",code:"playerAggressive"},{name:"Genetics_highBreedingName",code:"playerHighBreeding"},{name:"Genetics_simpleName",code:"playerSimple"}];var r;for(d=0;r=q[d];d++){var x=r.code?document.getElementById(r.code).textContent:De;r=O(r.name);S.push({name:r,code:x})}wf();lg();If=!0;$g();g&&(hh(0),Zg=!1)});
